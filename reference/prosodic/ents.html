<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.6.0"/>
    <title>prosodic.ents API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../prosodic.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;prosodic</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Entity">Entity</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Entity.__init__">Entity</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.child_type">child_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_parseable">is_parseable</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.index_name">index_name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.prefix">prefix</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.list_type">list_type</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.cached_properties_to_clear">cached_properties_to_clear</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.use_cache">use_cache</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.sep">sep</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.children">children</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.to_hash">to_hash</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.html">html</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.key">key</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.hash">hash</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.to_json">to_json</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.save">save</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.render">render</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.from_json">from_json</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.attrs">attrs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.prefix_attrs">prefix_attrs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.txt">txt</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.data">data</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.l">l</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.clear_cached_properties">clear_cached_properties</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.inspect">inspect</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.ld">ld</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.child_class">child_class</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.get_ld">get_ld</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.get_df">get_df</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.df">df</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.get_parent">get_parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.stanzas">stanzas</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.line_r">line_r</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.word_r">word_r</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.lines">lines</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordtokens">wordtokens</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.words">words</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordtypes">wordtypes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordforms">wordforms</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordforms_nopunc">wordforms_nopunc</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordforms_all">wordforms_all</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.syllables">syllables</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.phonemes">phonemes</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.text">text</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.stanza">stanza</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.line">line</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordtoken">wordtoken</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordtype">wordtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.wordform">wordform</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.syllable">syllable</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.i">i</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.num">num</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.next">next</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.prev">prev</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_text">is_text</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_stanza">is_stanza</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_line">is_line</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_wordtoken">is_wordtoken</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_wordtype">is_wordtype</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_wordform">is_wordform</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_syll">is_syll</a>
                        </li>
                        <li>
                                <a class="variable" href="#Entity.is_phon">is_phon</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.children_from_cache">children_from_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.get_key">get_key</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.from_cache">from_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.get_cache">get_cache</a>
                        </li>
                        <li>
                                <a class="function" href="#Entity.cache">cache</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#EntityList">EntityList</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#EntityList.__init__">EntityList</a>
                        </li>
                        <li>
                                <a class="variable" href="#EntityList.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#EntityList.children">children</a>
                        </li>
                        <li>
                                <a class="variable" href="#EntityList.txt">txt</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../prosodic.html">prosodic</a><wbr>.ents    </h1>

                
                        <input id="mod-ents-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-ents-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="k">class</span> <span class="nc">Entity</span><span class="p">(</span><span class="n">UserList</span><span class="p">):</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="sd">    Root Entity class representing a hierarchical structure in prosodic analysis.</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="sd">    This class serves as the base for various prosodic entities such as texts, stanzas,</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="sd">    lines, words, syllables, and phonemes. It provides common functionality for</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="sd">    managing hierarchical relationships, attributes, and data representation.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="sd">    Attributes:</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="sd">        child_type (str): The type of child entities this entity can contain.</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="sd">        is_parseable (bool): Whether this entity can be parsed.</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="sd">        index_name (str): The name used for indexing this entity type.</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="sd">        prefix (str): A prefix used for attribute naming.</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="sd">        list_type (type): The type of list used for storing children.</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="sd">        cached_properties_to_clear (list): Properties to clear from cache.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="sd">        use_cache (bool): Whether to use caching for this entity.</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="sd">        sep (str): Separator used when joining child texts.</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a>    <span class="n">child_type</span> <span class="o">=</span> <span class="s2">&quot;Text&quot;</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a>    <span class="n">is_parseable</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>    <span class="n">index_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;ent&quot;</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a>    <span class="n">list_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a>    <span class="n">cached_properties_to_clear</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a>    <span class="n">use_cache</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>    <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="sd">        Initialize an Entity object.</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="sd">        Args:</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="sd">            txt (str): The text content of the entity.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a>        <span class="n">newchildren</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">):</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2"> is not an Entity&quot;</span><span class="p">)</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a>                <span class="k">continue</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>            <span class="n">newchildren</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>            <span class="c1"># if not child.is_wordtype:   # don&#39;t do this for wordtypes since each wordtype is a single/shared python object</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a>            <span class="n">child</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">newchildren</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="o">=</span> <span class="s1">&#39;EntityList&#39;</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">list_type</span><span class="p">](</span><span class="n">children</span><span class="p">)</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="n">txt</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mtr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="sd">        Iterate over the children of this entity.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="sd">        Yields:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a><span class="sd">            Entity: The next child entity.</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>    <span class="k">def</span> <span class="nf">to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">        Generate a hash representation of the entity.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">        Returns:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="sd">            str: A hash string representing the entity&#39;s content and attributes.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">())),</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a>        <span class="p">)</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>    <span class="k">def</span> <span class="nf">html</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a><span class="sd">        Get the HTML representation of the entity.</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a><span class="sd">        Returns:</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="sd">            str: HTML representation of the entity, if available.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;to_html&quot;</span><span class="p">):</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">        Generate a unique key for the entity.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="sd">        Returns:</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="sd">            str: A string key representing the entity&#39;s class and attributes.</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>            <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">},</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>            <span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">,</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>        <span class="p">}</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">get_attr_str</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>    <span class="k">def</span> <span class="nf">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a><span class="sd">        Get a hash value for the entity.</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a><span class="sd">        Returns:</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a><span class="sd">            str: A hash string for the entity.</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a><span class="sd">        Get the hash value for use in hash-based collections.</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a><span class="sd">        Returns:</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a><span class="sd">            int: The hash value of the entity.</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a><span class="sd">        Check if this entity is equal to another.</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a><span class="sd">        Args:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a><span class="sd">            other: The other object to compare with.</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a><span class="sd">        Returns:</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="sd">            bool: True if the objects are the same instance, False otherwise.</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>        <span class="k">return</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">other</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a><span class="sd">        Check if the entity is considered True in a boolean context.</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a><span class="sd">        Returns:</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="sd">            bool: Always returns True for Entity objects.</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">no_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yes_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a><span class="sd">        Convert the entity to a JSON representation.</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a><span class="sd">        Args:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a><span class="sd">            fn (str, optional): Filename to save the JSON output.</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a><span class="sd">            no_txt (bool): If True, exclude the text content.</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a><span class="sd">            yes_txt (bool): If True, include the full text content.</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a><span class="sd">            **kwargs: Additional key-value pairs to include in the JSON.</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="sd">        Returns:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a><span class="sd">            dict: A dictionary representation of the entity.</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>        <span class="n">txt</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">yes_txt</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">no_txt</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>        <span class="k">return</span> <span class="n">to_json</span><span class="p">(</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>            <span class="p">{</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>                <span class="s2">&quot;_class&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>                <span class="o">**</span><span class="p">({</span><span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="n">txt</span><span class="p">}</span> <span class="k">if</span> <span class="n">txt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">yes_txt</span> <span class="ow">or</span> <span class="n">txt</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}),</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>                <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">kid</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span> <span class="k">for</span> <span class="n">kid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">],</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>            <span class="p">},</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>            <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>        <span class="p">)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a><span class="sd">        Save the entity to a file in JSON format.</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a><span class="sd">        Args:</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a><span class="sd">            fn (str): The filename to save to.</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a><span class="sd">            **kwargs: Additional arguments to pass to to_json.</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a><span class="sd">        Returns:</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a><span class="sd">            The result of to_json with the given filename.</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="sd">        Render the entity as HTML.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="sd">        Args:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="sd">            as_str (bool): If True, return the result as a string.</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a><span class="sd">        Returns:</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="sd">            str or HTML: The rendered HTML representation of the entity.</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">as_str</span><span class="o">=</span><span class="n">as_str</span><span class="p">)</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>    <span class="nd">@staticmethod</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="n">json_d</span><span class="p">):</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a><span class="sd">        Create an Entity object from a JSON dictionary.</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a><span class="sd">        Args:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a><span class="sd">            json_d (dict): A dictionary containing the entity data.</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a><span class="sd">        Returns:</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a><span class="sd">            Entity: An instance of the appropriate Entity subclass.</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span><span class="p">,</span> <span class="n">CHILDCLASSES</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>        <span class="n">classname</span> <span class="o">=</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;_class&quot;</span><span class="p">]</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>        <span class="n">classx</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="n">classname</span><span class="p">]</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>        <span class="n">childx</span> <span class="o">=</span> <span class="n">CHILDCLASSES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">json_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>        <span class="n">inpd</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="s2">&quot;_class&quot;</span><span class="p">}}</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>        <span class="k">if</span> <span class="n">children</span> <span class="ow">and</span> <span class="n">childx</span><span class="p">:</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">childx</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]]</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>        <span class="k">return</span> <span class="n">classx</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">children</span><span class="p">),</span> <span class="o">**</span><span class="n">inpd</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>    <span class="nd">@property</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>    <span class="k">def</span> <span class="nf">attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">        Get the attributes of the entity.</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="sd">        Returns:</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes.</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;num&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">}</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>            <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;Text&quot;</span><span class="p">,</span> <span class="s2">&quot;Stanza&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterLine&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterText&quot;</span><span class="p">,</span> <span class="s2">&quot;Meter&quot;</span><span class="p">}</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>        <span class="p">):</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>            <span class="n">odx</span><span class="p">[</span><span class="s2">&quot;txt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>        <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">odx</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">}</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>    <span class="k">def</span> <span class="nf">prefix_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_parent</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a><span class="sd">        Get the attributes of the entity with a prefix.</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a><span class="sd">        Args:</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a><span class="sd">            with_parent (bool): If True, include parent attributes.</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="sd">        Returns:</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes with a prefix.</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>        <span class="k">def</span> <span class="nf">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="n">DF_COLS_RENAME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>            <span class="k">return</span> <span class="n">o</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="n">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>        <span class="k">if</span> <span class="n">with_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>            <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">odx</span><span class="p">}</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>        <span class="k">return</span> <span class="n">odx</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="sd">        Get the text content of the entity.</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a><span class="sd">        Returns:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="sd">            str: The text content of the entity.</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">:</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_class</span><span class="o">.</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">txt</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>        <span class="k">return</span> <span class="n">clean_text</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a><span class="sd">        Get the data associated with the entity.</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a><span class="sd">        Returns:</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>    <span class="k">def</span> <span class="nf">l</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a><span class="sd">        Get the list of child entities.</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a><span class="sd">        Returns:</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>    <span class="k">def</span> <span class="nf">clear_cached_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a><span class="sd">        Clear cached properties to free up memory.</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>        <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cached_properties_to_clear</span><span class="p">:</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">prop</span><span class="p">]</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>            <span class="c1"># elif hasattr(self,prop):</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>            <span class="c1">#     try:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>            <span class="c1">#         func = getattr(self,prop)</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>            <span class="c1">#         func.clear_cache()</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>            <span class="c1">#     except AttributeError:</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>            <span class="c1">#         pass</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>    <span class="k">def</span> <span class="nf">inspect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxlines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a><span class="sd">        Inspect the entity and its children.</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a><span class="sd">        Args:</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a><span class="sd">            indent (int): The indentation level for the output.</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a><span class="sd">            maxlines (int): The maximum number of lines to display.</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="n">attrstr</span> <span class="o">=</span> <span class="n">get_attr_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>        <span class="n">myself</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">attrstr</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="k">if</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>            <span class="n">myself</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">indent</span><span class="p">(</span><span class="n">myself</span><span class="p">,</span> <span class="s2">&quot;|&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">myself</span><span class="p">]</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>                <span class="n">incl_phons</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">child</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Phoneme&quot;</span><span class="p">)</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            <span class="p">):</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>                    <span class="n">child</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>                        <span class="s2">&quot;PhonemeClass&quot;</span><span class="p">,</span> <span class="s2">&quot;Phoneme&quot;</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>                    <span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>                <span class="p">)</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>        <span class="c1"># self.__class__.__name__ in {&#39;Text&#39;, &#39;Stanza&#39;, &#39;Line&#39;}</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>        <span class="n">dblbreakfor</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="n">breakstr</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">|</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">dblbreakfor</span> <span class="k">else</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="n">o</span> <span class="o">=</span> <span class="n">breakstr</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>            <span class="k">if</span> <span class="n">maxlines</span><span class="p">:</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>                <span class="n">o</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="n">maxlines</span><span class="p">])</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>            <span class="k">return</span> <span class="n">o</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>    <span class="k">def</span> <span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a><span class="sd">        Get the HTML representation of the entity.</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="sd">        Args:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="sd">            df (DataFrame): An optional DataFrame to use for rendering.</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a><span class="sd">        Returns:</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a><span class="sd">            str: The HTML representation of the entity.</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>        <span class="k">def</span> <span class="nf">blank</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">{</span><span class="kc">None</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">}:</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>            <span class="k">return</span> <span class="n">x</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">blank</span><span class="p">)</span><span class="o">.</span><span class="n">_repr_html_</span><span class="p">()</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bad_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a><span class="sd">        Get a string representation of the entity.</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="sd">        Args:</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a><span class="sd">            attrs (dict): An optional dictionary of attributes to use.</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">            bad_keys (list): An optional list of keys to exclude.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a><span class="sd">        Returns:</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a><span class="sd">            str: A string representation of the entity.</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>            <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>                <span class="n">attrs</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>                <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>                <span class="k">else</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">)</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>        <span class="p">}</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">get_attr_str</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">bad_keys</span><span class="o">=</span><span class="n">bad_keys</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>    <span class="k">def</span> <span class="nf">ld</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a><span class="sd">        Returns:</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">()</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>    <span class="k">def</span> <span class="nf">child_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a><span class="sd">        Get the class of the child entities.</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="sd">        Returns:</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a><span class="sd">            type: The class of the child entities.</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>        <span class="k">return</span> <span class="n">GLOBALS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_type</span><span class="p">)</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>    <span class="k">def</span> <span class="nf">get_ld</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">incl_sylls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">multiple_wordforms</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a><span class="sd">        Args:</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="sd">            incl_sylls (bool): If True, include syllable information.</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="sd">            multiple_wordforms (bool): If True, include multiple word forms.</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a><span class="sd">        Returns:</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_sylls</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span><span class="p">:</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_phons</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Phoneme&quot;</span><span class="p">:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>        <span class="n">good_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)]</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>        <span class="c1"># logger.debug(f&#39;good children of {type(self)} -&gt; {good_children}&#39;)</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple_wordforms</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span> <span class="ow">and</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>            <span class="n">good_children</span> <span class="o">=</span> <span class="n">good_children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>            <span class="c1"># logger.debug(f&#39;good children now {good_children}&#39;)</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>        <span class="k">if</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>            <span class="k">return</span> <span class="p">[</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>                <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">child</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">grandchild_d</span><span class="p">}</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">good_children</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>                <span class="k">for</span> <span class="n">grandchild_d</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>                    <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">,</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>                    <span class="n">incl_sylls</span><span class="o">=</span><span class="n">incl_sylls</span><span class="p">,</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>                    <span class="n">multiple_wordforms</span><span class="o">=</span><span class="n">multiple_wordforms</span><span class="p">,</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>                <span class="p">)</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a>            <span class="p">]</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>    <span class="k">def</span> <span class="nf">get_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a><span class="sd">        Args:</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="sd">            **kwargs: Additional arguments to pass to get_ld.</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a><span class="sd">        Returns:</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">DF_BADCOLS</span><span class="p">:</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">odf</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>                <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">odf</span><span class="p">:</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;_num&quot;</span><span class="p">):</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">setindex</span><span class="p">(</span><span class="n">odf</span><span class="p">,</span> <span class="n">DF_INDEX</span><span class="p">)</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>        <span class="k">def</span> <span class="nf">unbool</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>                <span class="k">return</span> <span class="mi">1</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>            <span class="k">return</span> <span class="n">x</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">unbool</span><span class="p">)</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>        <span class="k">return</span> <span class="n">odf</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>    <span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a><span class="sd">        Returns:</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_df</span><span class="p">()</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="sd">        Get an attribute of the entity by name.</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a><span class="sd">        Args:</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="sd">            attr (str): The name of the attribute.</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">        Returns:</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a><span class="sd">            Any: The value of the attribute.</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>        <span class="n">objs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>            <span class="s2">&quot;stanza&quot;</span><span class="p">:</span> <span class="s2">&quot;stanzas&quot;</span><span class="p">,</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>            <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="s2">&quot;lines&quot;</span><span class="p">,</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>            <span class="s2">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtokens&quot;</span><span class="p">,</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>            <span class="s2">&quot;wordtoken&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtokens&quot;</span><span class="p">,</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>            <span class="s2">&quot;wordtype&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtypes&quot;</span><span class="p">,</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>            <span class="s2">&quot;wordform&quot;</span><span class="p">:</span> <span class="s2">&quot;wordforms&quot;</span><span class="p">,</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>            <span class="s2">&quot;syllable&quot;</span><span class="p">:</span> <span class="s2">&quot;syllables&quot;</span><span class="p">,</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>            <span class="s2">&quot;phoneme&quot;</span><span class="p">:</span> <span class="s2">&quot;phonemes&quot;</span><span class="p">,</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>        <span class="p">}</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>        <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>            <span class="k">for</span> <span class="n">pref</span><span class="p">,</span> <span class="n">lname</span> <span class="ow">in</span> <span class="n">objs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>                <span class="k">if</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="ow">and</span> <span class="n">attr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>                    <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="p">:])</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>                        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lname</span><span class="p">)[</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>                    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;no </span><span class="si">{</span><span class="n">pref</span><span class="si">}</span><span class="s2"> at that number&quot;</span><span class="p">)</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>                        <span class="k">return</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>    <span class="k">def</span> <span class="nf">get_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">        Get the parent entity of a specific type.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">        Args:</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">            parent_type (str): The type of parent entity to find.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="sd">        Returns:</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="sd">            Entity: The parent entity of the specified type, or None if not found.</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>            <span class="k">return</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="n">parent_type</span><span class="p">:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="n">parent_type</span><span class="p">)</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>    <span class="k">def</span> <span class="nf">stanzas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a><span class="sd">        Get the list of stanza entities.</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">        Returns:</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">            StanzaList: A list of stanza entities.</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">StanzaList</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_text</span><span class="p">:</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>        <span class="k">return</span> <span class="n">StanzaList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>    <span class="nd">@property</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>    <span class="k">def</span> <span class="nf">line_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">        Get a random line entity.</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="sd">        Returns:</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="sd">            Line: A random line entity, or None if no lines exist.</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>    <span class="nd">@property</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>    <span class="k">def</span> <span class="nf">word_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a><span class="sd">        Get a random word entity.</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a><span class="sd">        Returns:</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a><span class="sd">            WordToken: A random word entity, or None if no words exist.</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>    <span class="k">def</span> <span class="nf">lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a><span class="sd">        Get the list of line entities.</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a><span class="sd">        Returns:</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="sd">            LineList: A list of line entities.</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">LineList</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">stanza</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stanzas</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stanza</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>        <span class="k">return</span> <span class="n">LineList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>    <span class="k">def</span> <span class="nf">wordtokens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">        Returns:</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTokenList</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wt</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">for</span> <span class="n">wt</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>        <span class="k">return</span> <span class="n">WordTokenList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>    <span class="nd">@property</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>    <span class="k">def</span> <span class="nf">words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="sd">        Returns:</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>    <span class="k">def</span> <span class="nf">wordtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a><span class="sd">        Get the list of word type entities.</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a><span class="sd">        Returns:</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a><span class="sd">            WordTypeList: A list of word type entities.</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTypeList</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="n">token</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>        <span class="k">return</span> <span class="n">WordTypeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>    <span class="k">def</span> <span class="nf">wordforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a><span class="sd">        Get the list of word form entities.</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a><span class="sd">        Returns:</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a><span class="sd">            WordFormList: A list of word form entities.</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordFormList</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span> <span class="k">if</span> <span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>        <span class="k">return</span> <span class="n">WordFormList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>    <span class="k">def</span> <span class="nf">wordforms_nopunc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="sd">        Get the list of word form entities, excluding punctuation.</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a><span class="sd">        Returns:</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">            list: A list of word form entities, excluding punctuation.</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">wf</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">wf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">is_punc</span><span class="p">]</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>    <span class="k">def</span> <span class="nf">wordforms_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a><span class="sd">        Get the list of all word form entities.</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">        Returns:</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">            list: A list of all word form entities.</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span><span class="p">]</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>        <span class="k">return</span> <span class="n">o</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>    <span class="k">def</span> <span class="nf">syllables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a><span class="sd">        Get the list of syllable entities.</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="sd">        Returns:</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">            SyllableList: A list of syllable entities.</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">SyllableList</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">syll</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="n">wf</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>        <span class="k">return</span> <span class="n">SyllableList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>    <span class="k">def</span> <span class="nf">phonemes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="sd">        Get the list of phoneme entities.</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a><span class="sd">        Returns:</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="sd">            PhonemeList: A list of phoneme entities.</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">PhonemeList</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_phon</span><span class="p">:</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">phon</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">syll</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a><span class="sd">        Get the parent text entity.</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a><span class="sd">        Returns:</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a><span class="sd">            Text: The parent text entity, or None if not found.</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Text&quot;</span><span class="p">)</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>    <span class="k">def</span> <span class="nf">stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="sd">        Get the parent stanza entity.</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a><span class="sd">        Returns:</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a><span class="sd">            Stanza: The parent stanza entity, or None if not found.</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Stanza&quot;</span><span class="p">)</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="sd">        Get the parent line entity.</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a><span class="sd">        Returns:</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a><span class="sd">            Line: The parent line entity, or None if not found.</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>    <span class="k">def</span> <span class="nf">wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a><span class="sd">        Get the parent word token entity.</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="sd">        Returns:</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a><span class="sd">            WordToken: The parent word token entity, or None if not found.</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordToken&quot;</span><span class="p">)</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>    <span class="k">def</span> <span class="nf">wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="sd">        Get the parent word type entity.</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="sd">        Returns:</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">            WordType: The parent word type entity, or None if not found.</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordType&quot;</span><span class="p">)</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>    <span class="k">def</span> <span class="nf">wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a><span class="sd">        Get the parent word form entity.</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        Returns:</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="sd">            WordForm: The parent word form entity, or None if not found.</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordForm&quot;</span><span class="p">)</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>    <span class="k">def</span> <span class="nf">syllable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a><span class="sd">        Get the parent syllable entity.</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a><span class="sd">        Returns:</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="sd">            Syllable: The parent syllable entity, or None if not found.</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Syllable&quot;</span><span class="p">)</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a><span class="sd">        Get the index of the entity in its parent&#39;s children list.</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">        Returns:</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">            int: The index of the entity, or None if not found.</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>    <span class="k">def</span> <span class="nf">num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a><span class="sd">        Get the 1-based index of the entity in its parent&#39;s children list.</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a><span class="sd">        Returns:</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a><span class="sd">            int: The 1-based index of the entity, or None if not found.</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a><span class="sd">        Get the next sibling entity.</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a><span class="sd">        Returns:</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a><span class="sd">            Entity: The next sibling entity, or None if not found.</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>    <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a><span class="sd">        Get the previous sibling entity.</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="sd">        Returns:</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="sd">            Entity: The previous sibling entity, or None if not found.</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>    <span class="k">def</span> <span class="nf">is_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a><span class="sd">        Check if the entity is a text entity.</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a><span class="sd">        Returns:</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="sd">            bool: True if the entity is a text entity, False otherwise.</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Text&quot;</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>    <span class="k">def</span> <span class="nf">is_stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="sd">        Check if the entity is a stanza entity.</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">        Returns:</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">            bool: True if the entity is a stanza entity, False otherwise.</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Stanza&quot;</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>    <span class="k">def</span> <span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a><span class="sd">        Check if the entity is a line entity.</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a><span class="sd">        Returns:</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a><span class="sd">            bool: True if the entity is a line entity, False otherwise.</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Line&quot;</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>    <span class="k">def</span> <span class="nf">is_wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="sd">        Check if the entity is a word token entity.</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="sd">        Returns:</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="sd">            bool: True if the entity is a word token entity, False otherwise.</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordToken&quot;</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>    <span class="k">def</span> <span class="nf">is_wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a><span class="sd">        Check if the entity is a word type entity.</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a><span class="sd">        Returns:</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a><span class="sd">            bool: True if the entity is a word type entity, False otherwise.</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordType&quot;</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>    <span class="k">def</span> <span class="nf">is_wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a><span class="sd">        Check if the entity is a word form entity.</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a><span class="sd">        Returns:</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a><span class="sd">            bool: True if the entity is a word form entity, False otherwise.</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>    <span class="k">def</span> <span class="nf">is_syll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a><span class="sd">        Check if the entity is a syllable entity.</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="sd">        Returns:</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">            bool: True if the entity is a syllable entity, False otherwise.</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>    <span class="k">def</span> <span class="nf">is_phon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">        Check if the entity is a phoneme entity.</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">        Returns:</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a><span class="sd">            bool: True if the entity is a phoneme entity, False otherwise.</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;PhonemeClass&quot;</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>    <span class="k">def</span> <span class="nf">children_from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a><span class="sd">        Get the children of the entity from the cache.</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a><span class="sd">        Returns:</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a><span class="sd">            list: The list of child entities, or None if not found in the cache.</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>        <span class="k">if</span> <span class="n">caching_is_enabled</span><span class="p">():</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_cache</span><span class="p">()</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FOUND&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>            <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">res</span><span class="o">.</span><span class="n">children</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>    <span class="k">def</span> <span class="nf">get_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a><span class="sd">        Get a key for caching purposes.</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">        Args:</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="sd">            key: The key object.</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="sd">        Returns:</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="sd">            str: The hashed key.</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;to_hash&quot;</span><span class="p">):</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">to_hash</span><span class="p">()</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>        <span class="k">elif</span> <span class="n">key</span><span class="p">:</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>        <span class="k">return</span> <span class="n">key</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>    <span class="k">def</span> <span class="nf">from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">        Get an object from the cache.</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">        Args:</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">            obj: The object to cache.</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">            key: The key for the cache.</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">            as_dict (bool): If True, return the cached data as a dictionary.</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">        Returns:</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">            Any: The cached object, or None if not found.</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_cache</span> <span class="o">!=</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>            <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>                <span class="n">dat</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>                <span class="k">if</span> <span class="n">dat</span><span class="p">:</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>                    <span class="k">return</span> <span class="n">from_json</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">as_dict</span> <span class="k">else</span> <span class="n">dat</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>    <span class="k">def</span> <span class="nf">get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a><span class="sd">        Get the cache object.</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a><span class="sd">        Returns:</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a><span class="sd">            SimpleCache: The cache object.</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>        <span class="k">return</span> <span class="n">SimpleCache</span><span class="p">()</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>    <span class="k">def</span> <span class="nf">cache</span><span class="p">(</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">val_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a>    <span class="p">):</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a><span class="sd">        Cache an object.</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">        Args:</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">            key_obj: The object to use as the cache key.</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="sd">            val_obj: The object to cache.</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">            key: An optional key for the cache.</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">            force (bool): If True, force the cache to be updated.</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>        <span class="k">if</span> <span class="n">key_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>            <span class="n">key_obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>        <span class="k">if</span> <span class="n">val_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>            <span class="n">val_obj</span> <span class="o">=</span> <span class="n">key_obj</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;key_obj = </span><span class="si">{</span><span class="n">key_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;val_obj = </span><span class="si">{</span><span class="n">val_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">key_obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>        <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="p">(</span><span class="n">force</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">):</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>            <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;saving object under key </span><span class="si">{</span><span class="n">key</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;exporting to json&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">val_obj</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;uploading json to cache&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>                    <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a><span class="k">class</span> <span class="nc">EntityList</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a><span class="sd">    A list of Entity objects.</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a><span class="sd">        Initialize an EntityList object.</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a><span class="sd">        Args:</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">children</span><span class="p">]</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>    <span class="nd">@cached_property</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="sd">        Get the text content of the entity list.</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a><span class="sd">        Returns:</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a><span class="sd">            None: Always returns None for EntityList objects.</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            </section>
                <section id="Entity">
                            <input id="Entity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Entity</span><wbr>(<span class="base">collections.UserList</span>):

                <label class="view-source-button" for="Entity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity-6"><a href="#Entity-6"><span class="linenos">   6</span></a><span class="k">class</span> <span class="nc">Entity</span><span class="p">(</span><span class="n">UserList</span><span class="p">):</span>
</span><span id="Entity-7"><a href="#Entity-7"><span class="linenos">   7</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-8"><a href="#Entity-8"><span class="linenos">   8</span></a><span class="sd">    Root Entity class representing a hierarchical structure in prosodic analysis.</span>
</span><span id="Entity-9"><a href="#Entity-9"><span class="linenos">   9</span></a>
</span><span id="Entity-10"><a href="#Entity-10"><span class="linenos">  10</span></a><span class="sd">    This class serves as the base for various prosodic entities such as texts, stanzas,</span>
</span><span id="Entity-11"><a href="#Entity-11"><span class="linenos">  11</span></a><span class="sd">    lines, words, syllables, and phonemes. It provides common functionality for</span>
</span><span id="Entity-12"><a href="#Entity-12"><span class="linenos">  12</span></a><span class="sd">    managing hierarchical relationships, attributes, and data representation.</span>
</span><span id="Entity-13"><a href="#Entity-13"><span class="linenos">  13</span></a>
</span><span id="Entity-14"><a href="#Entity-14"><span class="linenos">  14</span></a><span class="sd">    Attributes:</span>
</span><span id="Entity-15"><a href="#Entity-15"><span class="linenos">  15</span></a><span class="sd">        child_type (str): The type of child entities this entity can contain.</span>
</span><span id="Entity-16"><a href="#Entity-16"><span class="linenos">  16</span></a><span class="sd">        is_parseable (bool): Whether this entity can be parsed.</span>
</span><span id="Entity-17"><a href="#Entity-17"><span class="linenos">  17</span></a><span class="sd">        index_name (str): The name used for indexing this entity type.</span>
</span><span id="Entity-18"><a href="#Entity-18"><span class="linenos">  18</span></a><span class="sd">        prefix (str): A prefix used for attribute naming.</span>
</span><span id="Entity-19"><a href="#Entity-19"><span class="linenos">  19</span></a><span class="sd">        list_type (type): The type of list used for storing children.</span>
</span><span id="Entity-20"><a href="#Entity-20"><span class="linenos">  20</span></a><span class="sd">        cached_properties_to_clear (list): Properties to clear from cache.</span>
</span><span id="Entity-21"><a href="#Entity-21"><span class="linenos">  21</span></a><span class="sd">        use_cache (bool): Whether to use caching for this entity.</span>
</span><span id="Entity-22"><a href="#Entity-22"><span class="linenos">  22</span></a><span class="sd">        sep (str): Separator used when joining child texts.</span>
</span><span id="Entity-23"><a href="#Entity-23"><span class="linenos">  23</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Entity-24"><a href="#Entity-24"><span class="linenos">  24</span></a>
</span><span id="Entity-25"><a href="#Entity-25"><span class="linenos">  25</span></a>    <span class="n">child_type</span> <span class="o">=</span> <span class="s2">&quot;Text&quot;</span>
</span><span id="Entity-26"><a href="#Entity-26"><span class="linenos">  26</span></a>    <span class="n">is_parseable</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entity-27"><a href="#Entity-27"><span class="linenos">  27</span></a>    <span class="n">index_name</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Entity-28"><a href="#Entity-28"><span class="linenos">  28</span></a>    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;ent&quot;</span>
</span><span id="Entity-29"><a href="#Entity-29"><span class="linenos">  29</span></a>    <span class="n">list_type</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Entity-30"><a href="#Entity-30"><span class="linenos">  30</span></a>    <span class="n">cached_properties_to_clear</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entity-31"><a href="#Entity-31"><span class="linenos">  31</span></a>    <span class="n">use_cache</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entity-32"><a href="#Entity-32"><span class="linenos">  32</span></a>    <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Entity-33"><a href="#Entity-33"><span class="linenos">  33</span></a>
</span><span id="Entity-34"><a href="#Entity-34"><span class="linenos">  34</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity-35"><a href="#Entity-35"><span class="linenos">  35</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-36"><a href="#Entity-36"><span class="linenos">  36</span></a><span class="sd">        Initialize an Entity object.</span>
</span><span id="Entity-37"><a href="#Entity-37"><span class="linenos">  37</span></a>
</span><span id="Entity-38"><a href="#Entity-38"><span class="linenos">  38</span></a><span class="sd">        Args:</span>
</span><span id="Entity-39"><a href="#Entity-39"><span class="linenos">  39</span></a><span class="sd">            txt (str): The text content of the entity.</span>
</span><span id="Entity-40"><a href="#Entity-40"><span class="linenos">  40</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="Entity-41"><a href="#Entity-41"><span class="linenos">  41</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="Entity-42"><a href="#Entity-42"><span class="linenos">  42</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="Entity-43"><a href="#Entity-43"><span class="linenos">  43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-44"><a href="#Entity-44"><span class="linenos">  44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="Entity-45"><a href="#Entity-45"><span class="linenos">  45</span></a>        <span class="n">newchildren</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entity-46"><a href="#Entity-46"><span class="linenos">  46</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
</span><span id="Entity-47"><a href="#Entity-47"><span class="linenos">  47</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">):</span>
</span><span id="Entity-48"><a href="#Entity-48"><span class="linenos">  48</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2"> is not an Entity&quot;</span><span class="p">)</span>
</span><span id="Entity-49"><a href="#Entity-49"><span class="linenos">  49</span></a>                <span class="k">continue</span>
</span><span id="Entity-50"><a href="#Entity-50"><span class="linenos">  50</span></a>            <span class="n">newchildren</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="Entity-51"><a href="#Entity-51"><span class="linenos">  51</span></a>            <span class="c1"># if not child.is_wordtype:   # don&#39;t do this for wordtypes since each wordtype is a single/shared python object</span>
</span><span id="Entity-52"><a href="#Entity-52"><span class="linenos">  52</span></a>            <span class="n">child</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity-53"><a href="#Entity-53"><span class="linenos">  53</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">newchildren</span>
</span><span id="Entity-54"><a href="#Entity-54"><span class="linenos">  54</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-55"><a href="#Entity-55"><span class="linenos">  55</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="o">=</span> <span class="s1">&#39;EntityList&#39;</span>
</span><span id="Entity-56"><a href="#Entity-56"><span class="linenos">  56</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="Entity-57"><a href="#Entity-57"><span class="linenos">  57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">list_type</span><span class="p">](</span><span class="n">children</span><span class="p">)</span>
</span><span id="Entity-58"><a href="#Entity-58"><span class="linenos">  58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="Entity-59"><a href="#Entity-59"><span class="linenos">  59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="n">txt</span>
</span><span id="Entity-60"><a href="#Entity-60"><span class="linenos">  60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mtr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Entity-61"><a href="#Entity-61"><span class="linenos">  61</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Entity-62"><a href="#Entity-62"><span class="linenos">  62</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span><span id="Entity-63"><a href="#Entity-63"><span class="linenos">  63</span></a>
</span><span id="Entity-64"><a href="#Entity-64"><span class="linenos">  64</span></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-65"><a href="#Entity-65"><span class="linenos">  65</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-66"><a href="#Entity-66"><span class="linenos">  66</span></a><span class="sd">        Iterate over the children of this entity.</span>
</span><span id="Entity-67"><a href="#Entity-67"><span class="linenos">  67</span></a>
</span><span id="Entity-68"><a href="#Entity-68"><span class="linenos">  68</span></a><span class="sd">        Yields:</span>
</span><span id="Entity-69"><a href="#Entity-69"><span class="linenos">  69</span></a><span class="sd">            Entity: The next child entity.</span>
</span><span id="Entity-70"><a href="#Entity-70"><span class="linenos">  70</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-71"><a href="#Entity-71"><span class="linenos">  71</span></a>        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-72"><a href="#Entity-72"><span class="linenos">  72</span></a>
</span><span id="Entity-73"><a href="#Entity-73"><span class="linenos">  73</span></a>    <span class="k">def</span> <span class="nf">to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-74"><a href="#Entity-74"><span class="linenos">  74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-75"><a href="#Entity-75"><span class="linenos">  75</span></a><span class="sd">        Generate a hash representation of the entity.</span>
</span><span id="Entity-76"><a href="#Entity-76"><span class="linenos">  76</span></a>
</span><span id="Entity-77"><a href="#Entity-77"><span class="linenos">  77</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-78"><a href="#Entity-78"><span class="linenos">  78</span></a><span class="sd">            str: A hash string representing the entity&#39;s content and attributes.</span>
</span><span id="Entity-79"><a href="#Entity-79"><span class="linenos">  79</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-80"><a href="#Entity-80"><span class="linenos">  80</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span>
</span><span id="Entity-81"><a href="#Entity-81"><span class="linenos">  81</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">())),</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="Entity-82"><a href="#Entity-82"><span class="linenos">  82</span></a>        <span class="p">)</span>
</span><span id="Entity-83"><a href="#Entity-83"><span class="linenos">  83</span></a>
</span><span id="Entity-84"><a href="#Entity-84"><span class="linenos">  84</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-85"><a href="#Entity-85"><span class="linenos">  85</span></a>    <span class="k">def</span> <span class="nf">html</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-86"><a href="#Entity-86"><span class="linenos">  86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-87"><a href="#Entity-87"><span class="linenos">  87</span></a><span class="sd">        Get the HTML representation of the entity.</span>
</span><span id="Entity-88"><a href="#Entity-88"><span class="linenos">  88</span></a>
</span><span id="Entity-89"><a href="#Entity-89"><span class="linenos">  89</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-90"><a href="#Entity-90"><span class="linenos">  90</span></a><span class="sd">            str: HTML representation of the entity, if available.</span>
</span><span id="Entity-91"><a href="#Entity-91"><span class="linenos">  91</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-92"><a href="#Entity-92"><span class="linenos">  92</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;to_html&quot;</span><span class="p">):</span>
</span><span id="Entity-93"><a href="#Entity-93"><span class="linenos">  93</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>
</span><span id="Entity-94"><a href="#Entity-94"><span class="linenos">  94</span></a>
</span><span id="Entity-95"><a href="#Entity-95"><span class="linenos">  95</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-96"><a href="#Entity-96"><span class="linenos">  96</span></a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-97"><a href="#Entity-97"><span class="linenos">  97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-98"><a href="#Entity-98"><span class="linenos">  98</span></a><span class="sd">        Generate a unique key for the entity.</span>
</span><span id="Entity-99"><a href="#Entity-99"><span class="linenos">  99</span></a>
</span><span id="Entity-100"><a href="#Entity-100"><span class="linenos"> 100</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-101"><a href="#Entity-101"><span class="linenos"> 101</span></a><span class="sd">            str: A string key representing the entity&#39;s class and attributes.</span>
</span><span id="Entity-102"><a href="#Entity-102"><span class="linenos"> 102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-103"><a href="#Entity-103"><span class="linenos"> 103</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Entity-104"><a href="#Entity-104"><span class="linenos"> 104</span></a>            <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">},</span>
</span><span id="Entity-105"><a href="#Entity-105"><span class="linenos"> 105</span></a>            <span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">,</span>
</span><span id="Entity-106"><a href="#Entity-106"><span class="linenos"> 106</span></a>        <span class="p">}</span>
</span><span id="Entity-107"><a href="#Entity-107"><span class="linenos"> 107</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">get_attr_str</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="Entity-108"><a href="#Entity-108"><span class="linenos"> 108</span></a>
</span><span id="Entity-109"><a href="#Entity-109"><span class="linenos"> 109</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-110"><a href="#Entity-110"><span class="linenos"> 110</span></a>    <span class="k">def</span> <span class="nf">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-111"><a href="#Entity-111"><span class="linenos"> 111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-112"><a href="#Entity-112"><span class="linenos"> 112</span></a><span class="sd">        Get a hash value for the entity.</span>
</span><span id="Entity-113"><a href="#Entity-113"><span class="linenos"> 113</span></a>
</span><span id="Entity-114"><a href="#Entity-114"><span class="linenos"> 114</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-115"><a href="#Entity-115"><span class="linenos"> 115</span></a><span class="sd">            str: A hash string for the entity.</span>
</span><span id="Entity-116"><a href="#Entity-116"><span class="linenos"> 116</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-117"><a href="#Entity-117"><span class="linenos"> 117</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span><span id="Entity-118"><a href="#Entity-118"><span class="linenos"> 118</span></a>
</span><span id="Entity-119"><a href="#Entity-119"><span class="linenos"> 119</span></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-120"><a href="#Entity-120"><span class="linenos"> 120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-121"><a href="#Entity-121"><span class="linenos"> 121</span></a><span class="sd">        Get the hash value for use in hash-based collections.</span>
</span><span id="Entity-122"><a href="#Entity-122"><span class="linenos"> 122</span></a>
</span><span id="Entity-123"><a href="#Entity-123"><span class="linenos"> 123</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-124"><a href="#Entity-124"><span class="linenos"> 124</span></a><span class="sd">            int: The hash value of the entity.</span>
</span><span id="Entity-125"><a href="#Entity-125"><span class="linenos"> 125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-126"><a href="#Entity-126"><span class="linenos"> 126</span></a>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hash</span><span class="p">)</span>
</span><span id="Entity-127"><a href="#Entity-127"><span class="linenos"> 127</span></a>
</span><span id="Entity-128"><a href="#Entity-128"><span class="linenos"> 128</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="Entity-129"><a href="#Entity-129"><span class="linenos"> 129</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-130"><a href="#Entity-130"><span class="linenos"> 130</span></a><span class="sd">        Check if this entity is equal to another.</span>
</span><span id="Entity-131"><a href="#Entity-131"><span class="linenos"> 131</span></a>
</span><span id="Entity-132"><a href="#Entity-132"><span class="linenos"> 132</span></a><span class="sd">        Args:</span>
</span><span id="Entity-133"><a href="#Entity-133"><span class="linenos"> 133</span></a><span class="sd">            other: The other object to compare with.</span>
</span><span id="Entity-134"><a href="#Entity-134"><span class="linenos"> 134</span></a>
</span><span id="Entity-135"><a href="#Entity-135"><span class="linenos"> 135</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-136"><a href="#Entity-136"><span class="linenos"> 136</span></a><span class="sd">            bool: True if the objects are the same instance, False otherwise.</span>
</span><span id="Entity-137"><a href="#Entity-137"><span class="linenos"> 137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-138"><a href="#Entity-138"><span class="linenos"> 138</span></a>        <span class="k">return</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">other</span>
</span><span id="Entity-139"><a href="#Entity-139"><span class="linenos"> 139</span></a>
</span><span id="Entity-140"><a href="#Entity-140"><span class="linenos"> 140</span></a>    <span class="k">def</span> <span class="fm">__bool__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-141"><a href="#Entity-141"><span class="linenos"> 141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-142"><a href="#Entity-142"><span class="linenos"> 142</span></a><span class="sd">        Check if the entity is considered True in a boolean context.</span>
</span><span id="Entity-143"><a href="#Entity-143"><span class="linenos"> 143</span></a>
</span><span id="Entity-144"><a href="#Entity-144"><span class="linenos"> 144</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-145"><a href="#Entity-145"><span class="linenos"> 145</span></a><span class="sd">            bool: Always returns True for Entity objects.</span>
</span><span id="Entity-146"><a href="#Entity-146"><span class="linenos"> 146</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-147"><a href="#Entity-147"><span class="linenos"> 147</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="Entity-148"><a href="#Entity-148"><span class="linenos"> 148</span></a>
</span><span id="Entity-149"><a href="#Entity-149"><span class="linenos"> 149</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">no_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yes_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity-150"><a href="#Entity-150"><span class="linenos"> 150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-151"><a href="#Entity-151"><span class="linenos"> 151</span></a><span class="sd">        Convert the entity to a JSON representation.</span>
</span><span id="Entity-152"><a href="#Entity-152"><span class="linenos"> 152</span></a>
</span><span id="Entity-153"><a href="#Entity-153"><span class="linenos"> 153</span></a><span class="sd">        Args:</span>
</span><span id="Entity-154"><a href="#Entity-154"><span class="linenos"> 154</span></a><span class="sd">            fn (str, optional): Filename to save the JSON output.</span>
</span><span id="Entity-155"><a href="#Entity-155"><span class="linenos"> 155</span></a><span class="sd">            no_txt (bool): If True, exclude the text content.</span>
</span><span id="Entity-156"><a href="#Entity-156"><span class="linenos"> 156</span></a><span class="sd">            yes_txt (bool): If True, include the full text content.</span>
</span><span id="Entity-157"><a href="#Entity-157"><span class="linenos"> 157</span></a><span class="sd">            **kwargs: Additional key-value pairs to include in the JSON.</span>
</span><span id="Entity-158"><a href="#Entity-158"><span class="linenos"> 158</span></a>
</span><span id="Entity-159"><a href="#Entity-159"><span class="linenos"> 159</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-160"><a href="#Entity-160"><span class="linenos"> 160</span></a><span class="sd">            dict: A dictionary representation of the entity.</span>
</span><span id="Entity-161"><a href="#Entity-161"><span class="linenos"> 161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-162"><a href="#Entity-162"><span class="linenos"> 162</span></a>        <span class="n">txt</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">yes_txt</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">no_txt</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Entity-163"><a href="#Entity-163"><span class="linenos"> 163</span></a>        <span class="k">return</span> <span class="n">to_json</span><span class="p">(</span>
</span><span id="Entity-164"><a href="#Entity-164"><span class="linenos"> 164</span></a>            <span class="p">{</span>
</span><span id="Entity-165"><a href="#Entity-165"><span class="linenos"> 165</span></a>                <span class="s2">&quot;_class&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="Entity-166"><a href="#Entity-166"><span class="linenos"> 166</span></a>                <span class="o">**</span><span class="p">({</span><span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="n">txt</span><span class="p">}</span> <span class="k">if</span> <span class="n">txt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">yes_txt</span> <span class="ow">or</span> <span class="n">txt</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}),</span>
</span><span id="Entity-167"><a href="#Entity-167"><span class="linenos"> 167</span></a>                <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">kid</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span> <span class="k">for</span> <span class="n">kid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">],</span>
</span><span id="Entity-168"><a href="#Entity-168"><span class="linenos"> 168</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="Entity-169"><a href="#Entity-169"><span class="linenos"> 169</span></a>            <span class="p">},</span>
</span><span id="Entity-170"><a href="#Entity-170"><span class="linenos"> 170</span></a>            <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span>
</span><span id="Entity-171"><a href="#Entity-171"><span class="linenos"> 171</span></a>        <span class="p">)</span>
</span><span id="Entity-172"><a href="#Entity-172"><span class="linenos"> 172</span></a>
</span><span id="Entity-173"><a href="#Entity-173"><span class="linenos"> 173</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity-174"><a href="#Entity-174"><span class="linenos"> 174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-175"><a href="#Entity-175"><span class="linenos"> 175</span></a><span class="sd">        Save the entity to a file in JSON format.</span>
</span><span id="Entity-176"><a href="#Entity-176"><span class="linenos"> 176</span></a>
</span><span id="Entity-177"><a href="#Entity-177"><span class="linenos"> 177</span></a><span class="sd">        Args:</span>
</span><span id="Entity-178"><a href="#Entity-178"><span class="linenos"> 178</span></a><span class="sd">            fn (str): The filename to save to.</span>
</span><span id="Entity-179"><a href="#Entity-179"><span class="linenos"> 179</span></a><span class="sd">            **kwargs: Additional arguments to pass to to_json.</span>
</span><span id="Entity-180"><a href="#Entity-180"><span class="linenos"> 180</span></a>
</span><span id="Entity-181"><a href="#Entity-181"><span class="linenos"> 181</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-182"><a href="#Entity-182"><span class="linenos"> 182</span></a><span class="sd">            The result of to_json with the given filename.</span>
</span><span id="Entity-183"><a href="#Entity-183"><span class="linenos"> 183</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-184"><a href="#Entity-184"><span class="linenos"> 184</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="Entity-185"><a href="#Entity-185"><span class="linenos"> 185</span></a>
</span><span id="Entity-186"><a href="#Entity-186"><span class="linenos"> 186</span></a>    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity-187"><a href="#Entity-187"><span class="linenos"> 187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-188"><a href="#Entity-188"><span class="linenos"> 188</span></a><span class="sd">        Render the entity as HTML.</span>
</span><span id="Entity-189"><a href="#Entity-189"><span class="linenos"> 189</span></a>
</span><span id="Entity-190"><a href="#Entity-190"><span class="linenos"> 190</span></a><span class="sd">        Args:</span>
</span><span id="Entity-191"><a href="#Entity-191"><span class="linenos"> 191</span></a><span class="sd">            as_str (bool): If True, return the result as a string.</span>
</span><span id="Entity-192"><a href="#Entity-192"><span class="linenos"> 192</span></a>
</span><span id="Entity-193"><a href="#Entity-193"><span class="linenos"> 193</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-194"><a href="#Entity-194"><span class="linenos"> 194</span></a><span class="sd">            str or HTML: The rendered HTML representation of the entity.</span>
</span><span id="Entity-195"><a href="#Entity-195"><span class="linenos"> 195</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-196"><a href="#Entity-196"><span class="linenos"> 196</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">as_str</span><span class="o">=</span><span class="n">as_str</span><span class="p">)</span>
</span><span id="Entity-197"><a href="#Entity-197"><span class="linenos"> 197</span></a>
</span><span id="Entity-198"><a href="#Entity-198"><span class="linenos"> 198</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Entity-199"><a href="#Entity-199"><span class="linenos"> 199</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="n">json_d</span><span class="p">):</span>
</span><span id="Entity-200"><a href="#Entity-200"><span class="linenos"> 200</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-201"><a href="#Entity-201"><span class="linenos"> 201</span></a><span class="sd">        Create an Entity object from a JSON dictionary.</span>
</span><span id="Entity-202"><a href="#Entity-202"><span class="linenos"> 202</span></a>
</span><span id="Entity-203"><a href="#Entity-203"><span class="linenos"> 203</span></a><span class="sd">        Args:</span>
</span><span id="Entity-204"><a href="#Entity-204"><span class="linenos"> 204</span></a><span class="sd">            json_d (dict): A dictionary containing the entity data.</span>
</span><span id="Entity-205"><a href="#Entity-205"><span class="linenos"> 205</span></a>
</span><span id="Entity-206"><a href="#Entity-206"><span class="linenos"> 206</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-207"><a href="#Entity-207"><span class="linenos"> 207</span></a><span class="sd">            Entity: An instance of the appropriate Entity subclass.</span>
</span><span id="Entity-208"><a href="#Entity-208"><span class="linenos"> 208</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-209"><a href="#Entity-209"><span class="linenos"> 209</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span><span class="p">,</span> <span class="n">CHILDCLASSES</span>
</span><span id="Entity-210"><a href="#Entity-210"><span class="linenos"> 210</span></a>
</span><span id="Entity-211"><a href="#Entity-211"><span class="linenos"> 211</span></a>        <span class="n">classname</span> <span class="o">=</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;_class&quot;</span><span class="p">]</span>
</span><span id="Entity-212"><a href="#Entity-212"><span class="linenos"> 212</span></a>        <span class="n">classx</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="n">classname</span><span class="p">]</span>
</span><span id="Entity-213"><a href="#Entity-213"><span class="linenos"> 213</span></a>        <span class="n">childx</span> <span class="o">=</span> <span class="n">CHILDCLASSES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
</span><span id="Entity-214"><a href="#Entity-214"><span class="linenos"> 214</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">json_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="Entity-215"><a href="#Entity-215"><span class="linenos"> 215</span></a>        <span class="n">inpd</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="s2">&quot;_class&quot;</span><span class="p">}}</span>
</span><span id="Entity-216"><a href="#Entity-216"><span class="linenos"> 216</span></a>        <span class="k">if</span> <span class="n">children</span> <span class="ow">and</span> <span class="n">childx</span><span class="p">:</span>
</span><span id="Entity-217"><a href="#Entity-217"><span class="linenos"> 217</span></a>            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">childx</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]]</span>
</span><span id="Entity-218"><a href="#Entity-218"><span class="linenos"> 218</span></a>        <span class="k">return</span> <span class="n">classx</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">children</span><span class="p">),</span> <span class="o">**</span><span class="n">inpd</span><span class="p">)</span>
</span><span id="Entity-219"><a href="#Entity-219"><span class="linenos"> 219</span></a>
</span><span id="Entity-220"><a href="#Entity-220"><span class="linenos"> 220</span></a>    <span class="nd">@property</span>
</span><span id="Entity-221"><a href="#Entity-221"><span class="linenos"> 221</span></a>    <span class="k">def</span> <span class="nf">attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-222"><a href="#Entity-222"><span class="linenos"> 222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-223"><a href="#Entity-223"><span class="linenos"> 223</span></a><span class="sd">        Get the attributes of the entity.</span>
</span><span id="Entity-224"><a href="#Entity-224"><span class="linenos"> 224</span></a>
</span><span id="Entity-225"><a href="#Entity-225"><span class="linenos"> 225</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-226"><a href="#Entity-226"><span class="linenos"> 226</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes.</span>
</span><span id="Entity-227"><a href="#Entity-227"><span class="linenos"> 227</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-228"><a href="#Entity-228"><span class="linenos"> 228</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;num&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">}</span>
</span><span id="Entity-229"><a href="#Entity-229"><span class="linenos"> 229</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="Entity-230"><a href="#Entity-230"><span class="linenos"> 230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="Entity-231"><a href="#Entity-231"><span class="linenos"> 231</span></a>            <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;Text&quot;</span><span class="p">,</span> <span class="s2">&quot;Stanza&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterLine&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterText&quot;</span><span class="p">,</span> <span class="s2">&quot;Meter&quot;</span><span class="p">}</span>
</span><span id="Entity-232"><a href="#Entity-232"><span class="linenos"> 232</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="Entity-233"><a href="#Entity-233"><span class="linenos"> 233</span></a>        <span class="p">):</span>
</span><span id="Entity-234"><a href="#Entity-234"><span class="linenos"> 234</span></a>            <span class="n">odx</span><span class="p">[</span><span class="s2">&quot;txt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="Entity-235"><a href="#Entity-235"><span class="linenos"> 235</span></a>        <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">odx</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">}</span>
</span><span id="Entity-236"><a href="#Entity-236"><span class="linenos"> 236</span></a>
</span><span id="Entity-237"><a href="#Entity-237"><span class="linenos"> 237</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-238"><a href="#Entity-238"><span class="linenos"> 238</span></a>    <span class="k">def</span> <span class="nf">prefix_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_parent</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Entity-239"><a href="#Entity-239"><span class="linenos"> 239</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-240"><a href="#Entity-240"><span class="linenos"> 240</span></a><span class="sd">        Get the attributes of the entity with a prefix.</span>
</span><span id="Entity-241"><a href="#Entity-241"><span class="linenos"> 241</span></a>
</span><span id="Entity-242"><a href="#Entity-242"><span class="linenos"> 242</span></a><span class="sd">        Args:</span>
</span><span id="Entity-243"><a href="#Entity-243"><span class="linenos"> 243</span></a><span class="sd">            with_parent (bool): If True, include parent attributes.</span>
</span><span id="Entity-244"><a href="#Entity-244"><span class="linenos"> 244</span></a>
</span><span id="Entity-245"><a href="#Entity-245"><span class="linenos"> 245</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-246"><a href="#Entity-246"><span class="linenos"> 246</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes with a prefix.</span>
</span><span id="Entity-247"><a href="#Entity-247"><span class="linenos"> 247</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-248"><a href="#Entity-248"><span class="linenos"> 248</span></a>
</span><span id="Entity-249"><a href="#Entity-249"><span class="linenos"> 249</span></a>        <span class="k">def</span> <span class="nf">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
</span><span id="Entity-250"><a href="#Entity-250"><span class="linenos"> 250</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Entity-251"><a href="#Entity-251"><span class="linenos"> 251</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="n">DF_COLS_RENAME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</span><span id="Entity-252"><a href="#Entity-252"><span class="linenos"> 252</span></a>            <span class="k">return</span> <span class="n">o</span>
</span><span id="Entity-253"><a href="#Entity-253"><span class="linenos"> 253</span></a>
</span><span id="Entity-254"><a href="#Entity-254"><span class="linenos"> 254</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="n">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="Entity-255"><a href="#Entity-255"><span class="linenos"> 255</span></a>        <span class="k">if</span> <span class="n">with_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="Entity-256"><a href="#Entity-256"><span class="linenos"> 256</span></a>            <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">odx</span><span class="p">}</span>
</span><span id="Entity-257"><a href="#Entity-257"><span class="linenos"> 257</span></a>        <span class="k">return</span> <span class="n">odx</span>
</span><span id="Entity-258"><a href="#Entity-258"><span class="linenos"> 258</span></a>
</span><span id="Entity-259"><a href="#Entity-259"><span class="linenos"> 259</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-260"><a href="#Entity-260"><span class="linenos"> 260</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-261"><a href="#Entity-261"><span class="linenos"> 261</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-262"><a href="#Entity-262"><span class="linenos"> 262</span></a><span class="sd">        Get the text content of the entity.</span>
</span><span id="Entity-263"><a href="#Entity-263"><span class="linenos"> 263</span></a>
</span><span id="Entity-264"><a href="#Entity-264"><span class="linenos"> 264</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-265"><a href="#Entity-265"><span class="linenos"> 265</span></a><span class="sd">            str: The text content of the entity.</span>
</span><span id="Entity-266"><a href="#Entity-266"><span class="linenos"> 266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-267"><a href="#Entity-267"><span class="linenos"> 267</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">:</span>
</span><span id="Entity-268"><a href="#Entity-268"><span class="linenos"> 268</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span>
</span><span id="Entity-269"><a href="#Entity-269"><span class="linenos"> 269</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity-270"><a href="#Entity-270"><span class="linenos"> 270</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_class</span><span class="o">.</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">txt</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
</span><span id="Entity-271"><a href="#Entity-271"><span class="linenos"> 271</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-272"><a href="#Entity-272"><span class="linenos"> 272</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Entity-273"><a href="#Entity-273"><span class="linenos"> 273</span></a>        <span class="k">return</span> <span class="n">clean_text</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</span><span id="Entity-274"><a href="#Entity-274"><span class="linenos"> 274</span></a>
</span><span id="Entity-275"><a href="#Entity-275"><span class="linenos"> 275</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-276"><a href="#Entity-276"><span class="linenos"> 276</span></a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-277"><a href="#Entity-277"><span class="linenos"> 277</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-278"><a href="#Entity-278"><span class="linenos"> 278</span></a><span class="sd">        Get the data associated with the entity.</span>
</span><span id="Entity-279"><a href="#Entity-279"><span class="linenos"> 279</span></a>
</span><span id="Entity-280"><a href="#Entity-280"><span class="linenos"> 280</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-281"><a href="#Entity-281"><span class="linenos"> 281</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="Entity-282"><a href="#Entity-282"><span class="linenos"> 282</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-283"><a href="#Entity-283"><span class="linenos"> 283</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-284"><a href="#Entity-284"><span class="linenos"> 284</span></a>
</span><span id="Entity-285"><a href="#Entity-285"><span class="linenos"> 285</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-286"><a href="#Entity-286"><span class="linenos"> 286</span></a>    <span class="k">def</span> <span class="nf">l</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-287"><a href="#Entity-287"><span class="linenos"> 287</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-288"><a href="#Entity-288"><span class="linenos"> 288</span></a><span class="sd">        Get the list of child entities.</span>
</span><span id="Entity-289"><a href="#Entity-289"><span class="linenos"> 289</span></a>
</span><span id="Entity-290"><a href="#Entity-290"><span class="linenos"> 290</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-291"><a href="#Entity-291"><span class="linenos"> 291</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="Entity-292"><a href="#Entity-292"><span class="linenos"> 292</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-293"><a href="#Entity-293"><span class="linenos"> 293</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-294"><a href="#Entity-294"><span class="linenos"> 294</span></a>
</span><span id="Entity-295"><a href="#Entity-295"><span class="linenos"> 295</span></a>    <span class="k">def</span> <span class="nf">clear_cached_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-296"><a href="#Entity-296"><span class="linenos"> 296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-297"><a href="#Entity-297"><span class="linenos"> 297</span></a><span class="sd">        Clear cached properties to free up memory.</span>
</span><span id="Entity-298"><a href="#Entity-298"><span class="linenos"> 298</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-299"><a href="#Entity-299"><span class="linenos"> 299</span></a>        <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cached_properties_to_clear</span><span class="p">:</span>
</span><span id="Entity-300"><a href="#Entity-300"><span class="linenos"> 300</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
</span><span id="Entity-301"><a href="#Entity-301"><span class="linenos"> 301</span></a>                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">prop</span><span class="p">]</span>
</span><span id="Entity-302"><a href="#Entity-302"><span class="linenos"> 302</span></a>            <span class="c1"># elif hasattr(self,prop):</span>
</span><span id="Entity-303"><a href="#Entity-303"><span class="linenos"> 303</span></a>            <span class="c1">#     try:</span>
</span><span id="Entity-304"><a href="#Entity-304"><span class="linenos"> 304</span></a>            <span class="c1">#         func = getattr(self,prop)</span>
</span><span id="Entity-305"><a href="#Entity-305"><span class="linenos"> 305</span></a>            <span class="c1">#         func.clear_cache()</span>
</span><span id="Entity-306"><a href="#Entity-306"><span class="linenos"> 306</span></a>            <span class="c1">#     except AttributeError:</span>
</span><span id="Entity-307"><a href="#Entity-307"><span class="linenos"> 307</span></a>            <span class="c1">#         pass</span>
</span><span id="Entity-308"><a href="#Entity-308"><span class="linenos"> 308</span></a>
</span><span id="Entity-309"><a href="#Entity-309"><span class="linenos"> 309</span></a>    <span class="k">def</span> <span class="nf">inspect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxlines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity-310"><a href="#Entity-310"><span class="linenos"> 310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-311"><a href="#Entity-311"><span class="linenos"> 311</span></a><span class="sd">        Inspect the entity and its children.</span>
</span><span id="Entity-312"><a href="#Entity-312"><span class="linenos"> 312</span></a>
</span><span id="Entity-313"><a href="#Entity-313"><span class="linenos"> 313</span></a><span class="sd">        Args:</span>
</span><span id="Entity-314"><a href="#Entity-314"><span class="linenos"> 314</span></a><span class="sd">            indent (int): The indentation level for the output.</span>
</span><span id="Entity-315"><a href="#Entity-315"><span class="linenos"> 315</span></a><span class="sd">            maxlines (int): The maximum number of lines to display.</span>
</span><span id="Entity-316"><a href="#Entity-316"><span class="linenos"> 316</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="Entity-317"><a href="#Entity-317"><span class="linenos"> 317</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-318"><a href="#Entity-318"><span class="linenos"> 318</span></a>        <span class="n">attrstr</span> <span class="o">=</span> <span class="n">get_attr_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="Entity-319"><a href="#Entity-319"><span class="linenos"> 319</span></a>        <span class="n">myself</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">attrstr</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="Entity-320"><a href="#Entity-320"><span class="linenos"> 320</span></a>        <span class="k">if</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="Entity-321"><a href="#Entity-321"><span class="linenos"> 321</span></a>            <span class="n">myself</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">indent</span><span class="p">(</span><span class="n">myself</span><span class="p">,</span> <span class="s2">&quot;|&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span>
</span><span id="Entity-322"><a href="#Entity-322"><span class="linenos"> 322</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">myself</span><span class="p">]</span>
</span><span id="Entity-323"><a href="#Entity-323"><span class="linenos"> 323</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity-324"><a href="#Entity-324"><span class="linenos"> 324</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
</span><span id="Entity-325"><a href="#Entity-325"><span class="linenos"> 325</span></a>                <span class="n">incl_phons</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">child</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Phoneme&quot;</span><span class="p">)</span>
</span><span id="Entity-326"><a href="#Entity-326"><span class="linenos"> 326</span></a>            <span class="p">):</span>
</span><span id="Entity-327"><a href="#Entity-327"><span class="linenos"> 327</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entity-328"><a href="#Entity-328"><span class="linenos"> 328</span></a>                    <span class="n">child</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
</span><span id="Entity-329"><a href="#Entity-329"><span class="linenos"> 329</span></a>                        <span class="s2">&quot;PhonemeClass&quot;</span><span class="p">,</span> <span class="s2">&quot;Phoneme&quot;</span>
</span><span id="Entity-330"><a href="#Entity-330"><span class="linenos"> 330</span></a>                    <span class="p">)</span>
</span><span id="Entity-331"><a href="#Entity-331"><span class="linenos"> 331</span></a>                <span class="p">)</span>
</span><span id="Entity-332"><a href="#Entity-332"><span class="linenos"> 332</span></a>        <span class="c1"># self.__class__.__name__ in {&#39;Text&#39;, &#39;Stanza&#39;, &#39;Line&#39;}</span>
</span><span id="Entity-333"><a href="#Entity-333"><span class="linenos"> 333</span></a>        <span class="n">dblbreakfor</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entity-334"><a href="#Entity-334"><span class="linenos"> 334</span></a>        <span class="n">breakstr</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">|</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">dblbreakfor</span> <span class="k">else</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Entity-335"><a href="#Entity-335"><span class="linenos"> 335</span></a>        <span class="n">o</span> <span class="o">=</span> <span class="n">breakstr</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="Entity-336"><a href="#Entity-336"><span class="linenos"> 336</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="Entity-337"><a href="#Entity-337"><span class="linenos"> 337</span></a>            <span class="k">if</span> <span class="n">maxlines</span><span class="p">:</span>
</span><span id="Entity-338"><a href="#Entity-338"><span class="linenos"> 338</span></a>                <span class="n">o</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="n">maxlines</span><span class="p">])</span>
</span><span id="Entity-339"><a href="#Entity-339"><span class="linenos"> 339</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-340"><a href="#Entity-340"><span class="linenos"> 340</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-341"><a href="#Entity-341"><span class="linenos"> 341</span></a>            <span class="k">return</span> <span class="n">o</span>
</span><span id="Entity-342"><a href="#Entity-342"><span class="linenos"> 342</span></a>
</span><span id="Entity-343"><a href="#Entity-343"><span class="linenos"> 343</span></a>    <span class="k">def</span> <span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Entity-344"><a href="#Entity-344"><span class="linenos"> 344</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-345"><a href="#Entity-345"><span class="linenos"> 345</span></a><span class="sd">        Get the HTML representation of the entity.</span>
</span><span id="Entity-346"><a href="#Entity-346"><span class="linenos"> 346</span></a>
</span><span id="Entity-347"><a href="#Entity-347"><span class="linenos"> 347</span></a><span class="sd">        Args:</span>
</span><span id="Entity-348"><a href="#Entity-348"><span class="linenos"> 348</span></a><span class="sd">            df (DataFrame): An optional DataFrame to use for rendering.</span>
</span><span id="Entity-349"><a href="#Entity-349"><span class="linenos"> 349</span></a>
</span><span id="Entity-350"><a href="#Entity-350"><span class="linenos"> 350</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-351"><a href="#Entity-351"><span class="linenos"> 351</span></a><span class="sd">            str: The HTML representation of the entity.</span>
</span><span id="Entity-352"><a href="#Entity-352"><span class="linenos"> 352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-353"><a href="#Entity-353"><span class="linenos"> 353</span></a>
</span><span id="Entity-354"><a href="#Entity-354"><span class="linenos"> 354</span></a>        <span class="k">def</span> <span class="nf">blank</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="Entity-355"><a href="#Entity-355"><span class="linenos"> 355</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">{</span><span class="kc">None</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">}:</span>
</span><span id="Entity-356"><a href="#Entity-356"><span class="linenos"> 356</span></a>                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="Entity-357"><a href="#Entity-357"><span class="linenos"> 357</span></a>            <span class="k">return</span> <span class="n">x</span>
</span><span id="Entity-358"><a href="#Entity-358"><span class="linenos"> 358</span></a>
</span><span id="Entity-359"><a href="#Entity-359"><span class="linenos"> 359</span></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="k">if</span> <span class="n">df</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">blank</span><span class="p">)</span><span class="o">.</span><span class="n">_repr_html_</span><span class="p">()</span>
</span><span id="Entity-360"><a href="#Entity-360"><span class="linenos"> 360</span></a>
</span><span id="Entity-361"><a href="#Entity-361"><span class="linenos"> 361</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bad_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Entity-362"><a href="#Entity-362"><span class="linenos"> 362</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-363"><a href="#Entity-363"><span class="linenos"> 363</span></a><span class="sd">        Get a string representation of the entity.</span>
</span><span id="Entity-364"><a href="#Entity-364"><span class="linenos"> 364</span></a>
</span><span id="Entity-365"><a href="#Entity-365"><span class="linenos"> 365</span></a><span class="sd">        Args:</span>
</span><span id="Entity-366"><a href="#Entity-366"><span class="linenos"> 366</span></a><span class="sd">            attrs (dict): An optional dictionary of attributes to use.</span>
</span><span id="Entity-367"><a href="#Entity-367"><span class="linenos"> 367</span></a><span class="sd">            bad_keys (list): An optional list of keys to exclude.</span>
</span><span id="Entity-368"><a href="#Entity-368"><span class="linenos"> 368</span></a>
</span><span id="Entity-369"><a href="#Entity-369"><span class="linenos"> 369</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-370"><a href="#Entity-370"><span class="linenos"> 370</span></a><span class="sd">            str: A string representation of the entity.</span>
</span><span id="Entity-371"><a href="#Entity-371"><span class="linenos"> 371</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-372"><a href="#Entity-372"><span class="linenos"> 372</span></a>        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Entity-373"><a href="#Entity-373"><span class="linenos"> 373</span></a>            <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
</span><span id="Entity-374"><a href="#Entity-374"><span class="linenos"> 374</span></a>            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span>
</span><span id="Entity-375"><a href="#Entity-375"><span class="linenos"> 375</span></a>                <span class="n">attrs</span>
</span><span id="Entity-376"><a href="#Entity-376"><span class="linenos"> 376</span></a>                <span class="k">if</span> <span class="n">attrs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="Entity-377"><a href="#Entity-377"><span class="linenos"> 377</span></a>                <span class="k">else</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">)</span>
</span><span id="Entity-378"><a href="#Entity-378"><span class="linenos"> 378</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span><span id="Entity-379"><a href="#Entity-379"><span class="linenos"> 379</span></a>        <span class="p">}</span>
</span><span id="Entity-380"><a href="#Entity-380"><span class="linenos"> 380</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">get_attr_str</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">bad_keys</span><span class="o">=</span><span class="n">bad_keys</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="Entity-381"><a href="#Entity-381"><span class="linenos"> 381</span></a>
</span><span id="Entity-382"><a href="#Entity-382"><span class="linenos"> 382</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-383"><a href="#Entity-383"><span class="linenos"> 383</span></a>    <span class="k">def</span> <span class="nf">ld</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-384"><a href="#Entity-384"><span class="linenos"> 384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-385"><a href="#Entity-385"><span class="linenos"> 385</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="Entity-386"><a href="#Entity-386"><span class="linenos"> 386</span></a>
</span><span id="Entity-387"><a href="#Entity-387"><span class="linenos"> 387</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-388"><a href="#Entity-388"><span class="linenos"> 388</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="Entity-389"><a href="#Entity-389"><span class="linenos"> 389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-390"><a href="#Entity-390"><span class="linenos"> 390</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">()</span>
</span><span id="Entity-391"><a href="#Entity-391"><span class="linenos"> 391</span></a>
</span><span id="Entity-392"><a href="#Entity-392"><span class="linenos"> 392</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-393"><a href="#Entity-393"><span class="linenos"> 393</span></a>    <span class="k">def</span> <span class="nf">child_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-394"><a href="#Entity-394"><span class="linenos"> 394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-395"><a href="#Entity-395"><span class="linenos"> 395</span></a><span class="sd">        Get the class of the child entities.</span>
</span><span id="Entity-396"><a href="#Entity-396"><span class="linenos"> 396</span></a>
</span><span id="Entity-397"><a href="#Entity-397"><span class="linenos"> 397</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-398"><a href="#Entity-398"><span class="linenos"> 398</span></a><span class="sd">            type: The class of the child entities.</span>
</span><span id="Entity-399"><a href="#Entity-399"><span class="linenos"> 399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-400"><a href="#Entity-400"><span class="linenos"> 400</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="Entity-401"><a href="#Entity-401"><span class="linenos"> 401</span></a>
</span><span id="Entity-402"><a href="#Entity-402"><span class="linenos"> 402</span></a>        <span class="k">return</span> <span class="n">GLOBALS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_type</span><span class="p">)</span>
</span><span id="Entity-403"><a href="#Entity-403"><span class="linenos"> 403</span></a>
</span><span id="Entity-404"><a href="#Entity-404"><span class="linenos"> 404</span></a>    <span class="k">def</span> <span class="nf">get_ld</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">incl_sylls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">multiple_wordforms</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Entity-405"><a href="#Entity-405"><span class="linenos"> 405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-406"><a href="#Entity-406"><span class="linenos"> 406</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="Entity-407"><a href="#Entity-407"><span class="linenos"> 407</span></a>
</span><span id="Entity-408"><a href="#Entity-408"><span class="linenos"> 408</span></a><span class="sd">        Args:</span>
</span><span id="Entity-409"><a href="#Entity-409"><span class="linenos"> 409</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="Entity-410"><a href="#Entity-410"><span class="linenos"> 410</span></a><span class="sd">            incl_sylls (bool): If True, include syllable information.</span>
</span><span id="Entity-411"><a href="#Entity-411"><span class="linenos"> 411</span></a><span class="sd">            multiple_wordforms (bool): If True, include multiple word forms.</span>
</span><span id="Entity-412"><a href="#Entity-412"><span class="linenos"> 412</span></a>
</span><span id="Entity-413"><a href="#Entity-413"><span class="linenos"> 413</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-414"><a href="#Entity-414"><span class="linenos"> 414</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="Entity-415"><a href="#Entity-415"><span class="linenos"> 415</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-416"><a href="#Entity-416"><span class="linenos"> 416</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_sylls</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span><span class="p">:</span>
</span><span id="Entity-417"><a href="#Entity-417"><span class="linenos"> 417</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="Entity-418"><a href="#Entity-418"><span class="linenos"> 418</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_phons</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Phoneme&quot;</span><span class="p">:</span>
</span><span id="Entity-419"><a href="#Entity-419"><span class="linenos"> 419</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="Entity-420"><a href="#Entity-420"><span class="linenos"> 420</span></a>        <span class="n">good_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)]</span>
</span><span id="Entity-421"><a href="#Entity-421"><span class="linenos"> 421</span></a>        <span class="c1"># logger.debug(f&#39;good children of {type(self)} -&gt; {good_children}&#39;)</span>
</span><span id="Entity-422"><a href="#Entity-422"><span class="linenos"> 422</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple_wordforms</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span> <span class="ow">and</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="Entity-423"><a href="#Entity-423"><span class="linenos"> 423</span></a>            <span class="n">good_children</span> <span class="o">=</span> <span class="n">good_children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Entity-424"><a href="#Entity-424"><span class="linenos"> 424</span></a>            <span class="c1"># logger.debug(f&#39;good children now {good_children}&#39;)</span>
</span><span id="Entity-425"><a href="#Entity-425"><span class="linenos"> 425</span></a>        <span class="k">if</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="Entity-426"><a href="#Entity-426"><span class="linenos"> 426</span></a>            <span class="k">return</span> <span class="p">[</span>
</span><span id="Entity-427"><a href="#Entity-427"><span class="linenos"> 427</span></a>                <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">child</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">grandchild_d</span><span class="p">}</span>
</span><span id="Entity-428"><a href="#Entity-428"><span class="linenos"> 428</span></a>                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">good_children</span>
</span><span id="Entity-429"><a href="#Entity-429"><span class="linenos"> 429</span></a>                <span class="k">for</span> <span class="n">grandchild_d</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span>
</span><span id="Entity-430"><a href="#Entity-430"><span class="linenos"> 430</span></a>                    <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">,</span>
</span><span id="Entity-431"><a href="#Entity-431"><span class="linenos"> 431</span></a>                    <span class="n">incl_sylls</span><span class="o">=</span><span class="n">incl_sylls</span><span class="p">,</span>
</span><span id="Entity-432"><a href="#Entity-432"><span class="linenos"> 432</span></a>                    <span class="n">multiple_wordforms</span><span class="o">=</span><span class="n">multiple_wordforms</span><span class="p">,</span>
</span><span id="Entity-433"><a href="#Entity-433"><span class="linenos"> 433</span></a>                <span class="p">)</span>
</span><span id="Entity-434"><a href="#Entity-434"><span class="linenos"> 434</span></a>            <span class="p">]</span>
</span><span id="Entity-435"><a href="#Entity-435"><span class="linenos"> 435</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-436"><a href="#Entity-436"><span class="linenos"> 436</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="Entity-437"><a href="#Entity-437"><span class="linenos"> 437</span></a>
</span><span id="Entity-438"><a href="#Entity-438"><span class="linenos"> 438</span></a>    <span class="k">def</span> <span class="nf">get_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity-439"><a href="#Entity-439"><span class="linenos"> 439</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-440"><a href="#Entity-440"><span class="linenos"> 440</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="Entity-441"><a href="#Entity-441"><span class="linenos"> 441</span></a>
</span><span id="Entity-442"><a href="#Entity-442"><span class="linenos"> 442</span></a><span class="sd">        Args:</span>
</span><span id="Entity-443"><a href="#Entity-443"><span class="linenos"> 443</span></a><span class="sd">            **kwargs: Additional arguments to pass to get_ld.</span>
</span><span id="Entity-444"><a href="#Entity-444"><span class="linenos"> 444</span></a>
</span><span id="Entity-445"><a href="#Entity-445"><span class="linenos"> 445</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-446"><a href="#Entity-446"><span class="linenos"> 446</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="Entity-447"><a href="#Entity-447"><span class="linenos"> 447</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-448"><a href="#Entity-448"><span class="linenos"> 448</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="Entity-449"><a href="#Entity-449"><span class="linenos"> 449</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">DF_BADCOLS</span><span class="p">:</span>
</span><span id="Entity-450"><a href="#Entity-450"><span class="linenos"> 450</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">odf</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="Entity-451"><a href="#Entity-451"><span class="linenos"> 451</span></a>                <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Entity-452"><a href="#Entity-452"><span class="linenos"> 452</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">odf</span><span class="p">:</span>
</span><span id="Entity-453"><a href="#Entity-453"><span class="linenos"> 453</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;_num&quot;</span><span class="p">):</span>
</span><span id="Entity-454"><a href="#Entity-454"><span class="linenos"> 454</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="Entity-455"><a href="#Entity-455"><span class="linenos"> 455</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-456"><a href="#Entity-456"><span class="linenos"> 456</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Entity-457"><a href="#Entity-457"><span class="linenos"> 457</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">setindex</span><span class="p">(</span><span class="n">odf</span><span class="p">,</span> <span class="n">DF_INDEX</span><span class="p">)</span>
</span><span id="Entity-458"><a href="#Entity-458"><span class="linenos"> 458</span></a>
</span><span id="Entity-459"><a href="#Entity-459"><span class="linenos"> 459</span></a>        <span class="k">def</span> <span class="nf">unbool</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="Entity-460"><a href="#Entity-460"><span class="linenos"> 460</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="Entity-461"><a href="#Entity-461"><span class="linenos"> 461</span></a>                <span class="k">return</span> <span class="mi">1</span>
</span><span id="Entity-462"><a href="#Entity-462"><span class="linenos"> 462</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="Entity-463"><a href="#Entity-463"><span class="linenos"> 463</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Entity-464"><a href="#Entity-464"><span class="linenos"> 464</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-465"><a href="#Entity-465"><span class="linenos"> 465</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Entity-466"><a href="#Entity-466"><span class="linenos"> 466</span></a>            <span class="k">return</span> <span class="n">x</span>
</span><span id="Entity-467"><a href="#Entity-467"><span class="linenos"> 467</span></a>
</span><span id="Entity-468"><a href="#Entity-468"><span class="linenos"> 468</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">unbool</span><span class="p">)</span>
</span><span id="Entity-469"><a href="#Entity-469"><span class="linenos"> 469</span></a>        <span class="k">return</span> <span class="n">odf</span>
</span><span id="Entity-470"><a href="#Entity-470"><span class="linenos"> 470</span></a>
</span><span id="Entity-471"><a href="#Entity-471"><span class="linenos"> 471</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-472"><a href="#Entity-472"><span class="linenos"> 472</span></a>    <span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-473"><a href="#Entity-473"><span class="linenos"> 473</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-474"><a href="#Entity-474"><span class="linenos"> 474</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="Entity-475"><a href="#Entity-475"><span class="linenos"> 475</span></a>
</span><span id="Entity-476"><a href="#Entity-476"><span class="linenos"> 476</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-477"><a href="#Entity-477"><span class="linenos"> 477</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="Entity-478"><a href="#Entity-478"><span class="linenos"> 478</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-479"><a href="#Entity-479"><span class="linenos"> 479</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_df</span><span class="p">()</span>
</span><span id="Entity-480"><a href="#Entity-480"><span class="linenos"> 480</span></a>
</span><span id="Entity-481"><a href="#Entity-481"><span class="linenos"> 481</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
</span><span id="Entity-482"><a href="#Entity-482"><span class="linenos"> 482</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-483"><a href="#Entity-483"><span class="linenos"> 483</span></a><span class="sd">        Get an attribute of the entity by name.</span>
</span><span id="Entity-484"><a href="#Entity-484"><span class="linenos"> 484</span></a>
</span><span id="Entity-485"><a href="#Entity-485"><span class="linenos"> 485</span></a><span class="sd">        Args:</span>
</span><span id="Entity-486"><a href="#Entity-486"><span class="linenos"> 486</span></a><span class="sd">            attr (str): The name of the attribute.</span>
</span><span id="Entity-487"><a href="#Entity-487"><span class="linenos"> 487</span></a>
</span><span id="Entity-488"><a href="#Entity-488"><span class="linenos"> 488</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-489"><a href="#Entity-489"><span class="linenos"> 489</span></a><span class="sd">            Any: The value of the attribute.</span>
</span><span id="Entity-490"><a href="#Entity-490"><span class="linenos"> 490</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-491"><a href="#Entity-491"><span class="linenos"> 491</span></a>        <span class="n">objs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Entity-492"><a href="#Entity-492"><span class="linenos"> 492</span></a>            <span class="s2">&quot;stanza&quot;</span><span class="p">:</span> <span class="s2">&quot;stanzas&quot;</span><span class="p">,</span>
</span><span id="Entity-493"><a href="#Entity-493"><span class="linenos"> 493</span></a>            <span class="s2">&quot;line&quot;</span><span class="p">:</span> <span class="s2">&quot;lines&quot;</span><span class="p">,</span>
</span><span id="Entity-494"><a href="#Entity-494"><span class="linenos"> 494</span></a>            <span class="s2">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtokens&quot;</span><span class="p">,</span>
</span><span id="Entity-495"><a href="#Entity-495"><span class="linenos"> 495</span></a>            <span class="s2">&quot;wordtoken&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtokens&quot;</span><span class="p">,</span>
</span><span id="Entity-496"><a href="#Entity-496"><span class="linenos"> 496</span></a>            <span class="s2">&quot;wordtype&quot;</span><span class="p">:</span> <span class="s2">&quot;wordtypes&quot;</span><span class="p">,</span>
</span><span id="Entity-497"><a href="#Entity-497"><span class="linenos"> 497</span></a>            <span class="s2">&quot;wordform&quot;</span><span class="p">:</span> <span class="s2">&quot;wordforms&quot;</span><span class="p">,</span>
</span><span id="Entity-498"><a href="#Entity-498"><span class="linenos"> 498</span></a>            <span class="s2">&quot;syllable&quot;</span><span class="p">:</span> <span class="s2">&quot;syllables&quot;</span><span class="p">,</span>
</span><span id="Entity-499"><a href="#Entity-499"><span class="linenos"> 499</span></a>            <span class="s2">&quot;phoneme&quot;</span><span class="p">:</span> <span class="s2">&quot;phonemes&quot;</span><span class="p">,</span>
</span><span id="Entity-500"><a href="#Entity-500"><span class="linenos"> 500</span></a>        <span class="p">}</span>
</span><span id="Entity-501"><a href="#Entity-501"><span class="linenos"> 501</span></a>        <span class="k">if</span> <span class="n">attr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="Entity-502"><a href="#Entity-502"><span class="linenos"> 502</span></a>            <span class="k">for</span> <span class="n">pref</span><span class="p">,</span> <span class="n">lname</span> <span class="ow">in</span> <span class="n">objs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Entity-503"><a href="#Entity-503"><span class="linenos"> 503</span></a>                <span class="k">if</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="ow">and</span> <span class="n">attr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="p">:]</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="Entity-504"><a href="#Entity-504"><span class="linenos"> 504</span></a>                    <span class="n">num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">attr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pref</span><span class="p">)</span> <span class="p">:])</span>
</span><span id="Entity-505"><a href="#Entity-505"><span class="linenos"> 505</span></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="Entity-506"><a href="#Entity-506"><span class="linenos"> 506</span></a>                        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lname</span><span class="p">)[</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Entity-507"><a href="#Entity-507"><span class="linenos"> 507</span></a>                    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity-508"><a href="#Entity-508"><span class="linenos"> 508</span></a>                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;no </span><span class="si">{</span><span class="n">pref</span><span class="si">}</span><span class="s2"> at that number&quot;</span><span class="p">)</span>
</span><span id="Entity-509"><a href="#Entity-509"><span class="linenos"> 509</span></a>                        <span class="k">return</span>
</span><span id="Entity-510"><a href="#Entity-510"><span class="linenos"> 510</span></a>
</span><span id="Entity-511"><a href="#Entity-511"><span class="linenos"> 511</span></a>    <span class="k">def</span> <span class="nf">get_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Entity-512"><a href="#Entity-512"><span class="linenos"> 512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-513"><a href="#Entity-513"><span class="linenos"> 513</span></a><span class="sd">        Get the parent entity of a specific type.</span>
</span><span id="Entity-514"><a href="#Entity-514"><span class="linenos"> 514</span></a>
</span><span id="Entity-515"><a href="#Entity-515"><span class="linenos"> 515</span></a><span class="sd">        Args:</span>
</span><span id="Entity-516"><a href="#Entity-516"><span class="linenos"> 516</span></a><span class="sd">            parent_type (str): The type of parent entity to find.</span>
</span><span id="Entity-517"><a href="#Entity-517"><span class="linenos"> 517</span></a>
</span><span id="Entity-518"><a href="#Entity-518"><span class="linenos"> 518</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-519"><a href="#Entity-519"><span class="linenos"> 519</span></a><span class="sd">            Entity: The parent entity of the specified type, or None if not found.</span>
</span><span id="Entity-520"><a href="#Entity-520"><span class="linenos"> 520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-521"><a href="#Entity-521"><span class="linenos"> 521</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="Entity-522"><a href="#Entity-522"><span class="linenos"> 522</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="Entity-523"><a href="#Entity-523"><span class="linenos"> 523</span></a>            <span class="k">return</span>
</span><span id="Entity-524"><a href="#Entity-524"><span class="linenos"> 524</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="n">parent_type</span><span class="p">:</span>
</span><span id="Entity-525"><a href="#Entity-525"><span class="linenos"> 525</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Entity-526"><a href="#Entity-526"><span class="linenos"> 526</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="n">parent_type</span><span class="p">)</span>
</span><span id="Entity-527"><a href="#Entity-527"><span class="linenos"> 527</span></a>
</span><span id="Entity-528"><a href="#Entity-528"><span class="linenos"> 528</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-529"><a href="#Entity-529"><span class="linenos"> 529</span></a>    <span class="k">def</span> <span class="nf">stanzas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-530"><a href="#Entity-530"><span class="linenos"> 530</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-531"><a href="#Entity-531"><span class="linenos"> 531</span></a><span class="sd">        Get the list of stanza entities.</span>
</span><span id="Entity-532"><a href="#Entity-532"><span class="linenos"> 532</span></a>
</span><span id="Entity-533"><a href="#Entity-533"><span class="linenos"> 533</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-534"><a href="#Entity-534"><span class="linenos"> 534</span></a><span class="sd">            StanzaList: A list of stanza entities.</span>
</span><span id="Entity-535"><a href="#Entity-535"><span class="linenos"> 535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-536"><a href="#Entity-536"><span class="linenos"> 536</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">StanzaList</span>
</span><span id="Entity-537"><a href="#Entity-537"><span class="linenos"> 537</span></a>
</span><span id="Entity-538"><a href="#Entity-538"><span class="linenos"> 538</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_text</span><span class="p">:</span>
</span><span id="Entity-539"><a href="#Entity-539"><span class="linenos"> 539</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-540"><a href="#Entity-540"><span class="linenos"> 540</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="Entity-541"><a href="#Entity-541"><span class="linenos"> 541</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-542"><a href="#Entity-542"><span class="linenos"> 542</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-543"><a href="#Entity-543"><span class="linenos"> 543</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entity-544"><a href="#Entity-544"><span class="linenos"> 544</span></a>        <span class="k">return</span> <span class="n">StanzaList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-545"><a href="#Entity-545"><span class="linenos"> 545</span></a>
</span><span id="Entity-546"><a href="#Entity-546"><span class="linenos"> 546</span></a>    <span class="nd">@property</span>
</span><span id="Entity-547"><a href="#Entity-547"><span class="linenos"> 547</span></a>    <span class="k">def</span> <span class="nf">line_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-548"><a href="#Entity-548"><span class="linenos"> 548</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-549"><a href="#Entity-549"><span class="linenos"> 549</span></a><span class="sd">        Get a random line entity.</span>
</span><span id="Entity-550"><a href="#Entity-550"><span class="linenos"> 550</span></a>
</span><span id="Entity-551"><a href="#Entity-551"><span class="linenos"> 551</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-552"><a href="#Entity-552"><span class="linenos"> 552</span></a><span class="sd">            Line: A random line entity, or None if no lines exist.</span>
</span><span id="Entity-553"><a href="#Entity-553"><span class="linenos"> 553</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-554"><a href="#Entity-554"><span class="linenos"> 554</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Entity-555"><a href="#Entity-555"><span class="linenos"> 555</span></a>
</span><span id="Entity-556"><a href="#Entity-556"><span class="linenos"> 556</span></a>    <span class="nd">@property</span>
</span><span id="Entity-557"><a href="#Entity-557"><span class="linenos"> 557</span></a>    <span class="k">def</span> <span class="nf">word_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-558"><a href="#Entity-558"><span class="linenos"> 558</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-559"><a href="#Entity-559"><span class="linenos"> 559</span></a><span class="sd">        Get a random word entity.</span>
</span><span id="Entity-560"><a href="#Entity-560"><span class="linenos"> 560</span></a>
</span><span id="Entity-561"><a href="#Entity-561"><span class="linenos"> 561</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-562"><a href="#Entity-562"><span class="linenos"> 562</span></a><span class="sd">            WordToken: A random word entity, or None if no words exist.</span>
</span><span id="Entity-563"><a href="#Entity-563"><span class="linenos"> 563</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-564"><a href="#Entity-564"><span class="linenos"> 564</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Entity-565"><a href="#Entity-565"><span class="linenos"> 565</span></a>
</span><span id="Entity-566"><a href="#Entity-566"><span class="linenos"> 566</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-567"><a href="#Entity-567"><span class="linenos"> 567</span></a>    <span class="k">def</span> <span class="nf">lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-568"><a href="#Entity-568"><span class="linenos"> 568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-569"><a href="#Entity-569"><span class="linenos"> 569</span></a><span class="sd">        Get the list of line entities.</span>
</span><span id="Entity-570"><a href="#Entity-570"><span class="linenos"> 570</span></a>
</span><span id="Entity-571"><a href="#Entity-571"><span class="linenos"> 571</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-572"><a href="#Entity-572"><span class="linenos"> 572</span></a><span class="sd">            LineList: A list of line entities.</span>
</span><span id="Entity-573"><a href="#Entity-573"><span class="linenos"> 573</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-574"><a href="#Entity-574"><span class="linenos"> 574</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">LineList</span>
</span><span id="Entity-575"><a href="#Entity-575"><span class="linenos"> 575</span></a>
</span><span id="Entity-576"><a href="#Entity-576"><span class="linenos"> 576</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="Entity-577"><a href="#Entity-577"><span class="linenos"> 577</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-578"><a href="#Entity-578"><span class="linenos"> 578</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="Entity-579"><a href="#Entity-579"><span class="linenos"> 579</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-580"><a href="#Entity-580"><span class="linenos"> 580</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-581"><a href="#Entity-581"><span class="linenos"> 581</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">stanza</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stanzas</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stanza</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-582"><a href="#Entity-582"><span class="linenos"> 582</span></a>        <span class="k">return</span> <span class="n">LineList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-583"><a href="#Entity-583"><span class="linenos"> 583</span></a>
</span><span id="Entity-584"><a href="#Entity-584"><span class="linenos"> 584</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-585"><a href="#Entity-585"><span class="linenos"> 585</span></a>    <span class="k">def</span> <span class="nf">wordtokens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-586"><a href="#Entity-586"><span class="linenos"> 586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-587"><a href="#Entity-587"><span class="linenos"> 587</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="Entity-588"><a href="#Entity-588"><span class="linenos"> 588</span></a>
</span><span id="Entity-589"><a href="#Entity-589"><span class="linenos"> 589</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-590"><a href="#Entity-590"><span class="linenos"> 590</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="Entity-591"><a href="#Entity-591"><span class="linenos"> 591</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-592"><a href="#Entity-592"><span class="linenos"> 592</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTokenList</span>
</span><span id="Entity-593"><a href="#Entity-593"><span class="linenos"> 593</span></a>
</span><span id="Entity-594"><a href="#Entity-594"><span class="linenos"> 594</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="Entity-595"><a href="#Entity-595"><span class="linenos"> 595</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-596"><a href="#Entity-596"><span class="linenos"> 596</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="Entity-597"><a href="#Entity-597"><span class="linenos"> 597</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-598"><a href="#Entity-598"><span class="linenos"> 598</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-599"><a href="#Entity-599"><span class="linenos"> 599</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wt</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">for</span> <span class="n">wt</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-600"><a href="#Entity-600"><span class="linenos"> 600</span></a>        <span class="k">return</span> <span class="n">WordTokenList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-601"><a href="#Entity-601"><span class="linenos"> 601</span></a>
</span><span id="Entity-602"><a href="#Entity-602"><span class="linenos"> 602</span></a>    <span class="nd">@property</span>
</span><span id="Entity-603"><a href="#Entity-603"><span class="linenos"> 603</span></a>    <span class="k">def</span> <span class="nf">words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-604"><a href="#Entity-604"><span class="linenos"> 604</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-605"><a href="#Entity-605"><span class="linenos"> 605</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="Entity-606"><a href="#Entity-606"><span class="linenos"> 606</span></a>
</span><span id="Entity-607"><a href="#Entity-607"><span class="linenos"> 607</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-608"><a href="#Entity-608"><span class="linenos"> 608</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="Entity-609"><a href="#Entity-609"><span class="linenos"> 609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-610"><a href="#Entity-610"><span class="linenos"> 610</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span>
</span><span id="Entity-611"><a href="#Entity-611"><span class="linenos"> 611</span></a>
</span><span id="Entity-612"><a href="#Entity-612"><span class="linenos"> 612</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-613"><a href="#Entity-613"><span class="linenos"> 613</span></a>    <span class="k">def</span> <span class="nf">wordtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-614"><a href="#Entity-614"><span class="linenos"> 614</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-615"><a href="#Entity-615"><span class="linenos"> 615</span></a><span class="sd">        Get the list of word type entities.</span>
</span><span id="Entity-616"><a href="#Entity-616"><span class="linenos"> 616</span></a>
</span><span id="Entity-617"><a href="#Entity-617"><span class="linenos"> 617</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-618"><a href="#Entity-618"><span class="linenos"> 618</span></a><span class="sd">            WordTypeList: A list of word type entities.</span>
</span><span id="Entity-619"><a href="#Entity-619"><span class="linenos"> 619</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-620"><a href="#Entity-620"><span class="linenos"> 620</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTypeList</span>
</span><span id="Entity-621"><a href="#Entity-621"><span class="linenos"> 621</span></a>
</span><span id="Entity-622"><a href="#Entity-622"><span class="linenos"> 622</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="Entity-623"><a href="#Entity-623"><span class="linenos"> 623</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-624"><a href="#Entity-624"><span class="linenos"> 624</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity-625"><a href="#Entity-625"><span class="linenos"> 625</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-626"><a href="#Entity-626"><span class="linenos"> 626</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-627"><a href="#Entity-627"><span class="linenos"> 627</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="n">token</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-628"><a href="#Entity-628"><span class="linenos"> 628</span></a>        <span class="k">return</span> <span class="n">WordTypeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-629"><a href="#Entity-629"><span class="linenos"> 629</span></a>
</span><span id="Entity-630"><a href="#Entity-630"><span class="linenos"> 630</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-631"><a href="#Entity-631"><span class="linenos"> 631</span></a>    <span class="k">def</span> <span class="nf">wordforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-632"><a href="#Entity-632"><span class="linenos"> 632</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-633"><a href="#Entity-633"><span class="linenos"> 633</span></a><span class="sd">        Get the list of word form entities.</span>
</span><span id="Entity-634"><a href="#Entity-634"><span class="linenos"> 634</span></a>
</span><span id="Entity-635"><a href="#Entity-635"><span class="linenos"> 635</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-636"><a href="#Entity-636"><span class="linenos"> 636</span></a><span class="sd">            WordFormList: A list of word form entities.</span>
</span><span id="Entity-637"><a href="#Entity-637"><span class="linenos"> 637</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-638"><a href="#Entity-638"><span class="linenos"> 638</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordFormList</span>
</span><span id="Entity-639"><a href="#Entity-639"><span class="linenos"> 639</span></a>
</span><span id="Entity-640"><a href="#Entity-640"><span class="linenos"> 640</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity-641"><a href="#Entity-641"><span class="linenos"> 641</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Entity-642"><a href="#Entity-642"><span class="linenos"> 642</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity-643"><a href="#Entity-643"><span class="linenos"> 643</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-644"><a href="#Entity-644"><span class="linenos"> 644</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-645"><a href="#Entity-645"><span class="linenos"> 645</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span> <span class="k">if</span> <span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-646"><a href="#Entity-646"><span class="linenos"> 646</span></a>        <span class="k">return</span> <span class="n">WordFormList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-647"><a href="#Entity-647"><span class="linenos"> 647</span></a>
</span><span id="Entity-648"><a href="#Entity-648"><span class="linenos"> 648</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-649"><a href="#Entity-649"><span class="linenos"> 649</span></a>    <span class="k">def</span> <span class="nf">wordforms_nopunc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-650"><a href="#Entity-650"><span class="linenos"> 650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-651"><a href="#Entity-651"><span class="linenos"> 651</span></a><span class="sd">        Get the list of word form entities, excluding punctuation.</span>
</span><span id="Entity-652"><a href="#Entity-652"><span class="linenos"> 652</span></a>
</span><span id="Entity-653"><a href="#Entity-653"><span class="linenos"> 653</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-654"><a href="#Entity-654"><span class="linenos"> 654</span></a><span class="sd">            list: A list of word form entities, excluding punctuation.</span>
</span><span id="Entity-655"><a href="#Entity-655"><span class="linenos"> 655</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-656"><a href="#Entity-656"><span class="linenos"> 656</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">wf</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">wf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">is_punc</span><span class="p">]</span>
</span><span id="Entity-657"><a href="#Entity-657"><span class="linenos"> 657</span></a>
</span><span id="Entity-658"><a href="#Entity-658"><span class="linenos"> 658</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-659"><a href="#Entity-659"><span class="linenos"> 659</span></a>    <span class="k">def</span> <span class="nf">wordforms_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-660"><a href="#Entity-660"><span class="linenos"> 660</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-661"><a href="#Entity-661"><span class="linenos"> 661</span></a><span class="sd">        Get the list of all word form entities.</span>
</span><span id="Entity-662"><a href="#Entity-662"><span class="linenos"> 662</span></a>
</span><span id="Entity-663"><a href="#Entity-663"><span class="linenos"> 663</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-664"><a href="#Entity-664"><span class="linenos"> 664</span></a><span class="sd">            list: A list of all word form entities.</span>
</span><span id="Entity-665"><a href="#Entity-665"><span class="linenos"> 665</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-666"><a href="#Entity-666"><span class="linenos"> 666</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity-667"><a href="#Entity-667"><span class="linenos"> 667</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-668"><a href="#Entity-668"><span class="linenos"> 668</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="Entity-669"><a href="#Entity-669"><span class="linenos"> 669</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-670"><a href="#Entity-670"><span class="linenos"> 670</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-671"><a href="#Entity-671"><span class="linenos"> 671</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span><span class="p">]</span>
</span><span id="Entity-672"><a href="#Entity-672"><span class="linenos"> 672</span></a>        <span class="k">return</span> <span class="n">o</span>
</span><span id="Entity-673"><a href="#Entity-673"><span class="linenos"> 673</span></a>
</span><span id="Entity-674"><a href="#Entity-674"><span class="linenos"> 674</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-675"><a href="#Entity-675"><span class="linenos"> 675</span></a>    <span class="k">def</span> <span class="nf">syllables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-676"><a href="#Entity-676"><span class="linenos"> 676</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-677"><a href="#Entity-677"><span class="linenos"> 677</span></a><span class="sd">        Get the list of syllable entities.</span>
</span><span id="Entity-678"><a href="#Entity-678"><span class="linenos"> 678</span></a>
</span><span id="Entity-679"><a href="#Entity-679"><span class="linenos"> 679</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-680"><a href="#Entity-680"><span class="linenos"> 680</span></a><span class="sd">            SyllableList: A list of syllable entities.</span>
</span><span id="Entity-681"><a href="#Entity-681"><span class="linenos"> 681</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-682"><a href="#Entity-682"><span class="linenos"> 682</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">SyllableList</span>
</span><span id="Entity-683"><a href="#Entity-683"><span class="linenos"> 683</span></a>
</span><span id="Entity-684"><a href="#Entity-684"><span class="linenos"> 684</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="Entity-685"><a href="#Entity-685"><span class="linenos"> 685</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-686"><a href="#Entity-686"><span class="linenos"> 686</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="Entity-687"><a href="#Entity-687"><span class="linenos"> 687</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-688"><a href="#Entity-688"><span class="linenos"> 688</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-689"><a href="#Entity-689"><span class="linenos"> 689</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">syll</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="n">wf</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-690"><a href="#Entity-690"><span class="linenos"> 690</span></a>        <span class="k">return</span> <span class="n">SyllableList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-691"><a href="#Entity-691"><span class="linenos"> 691</span></a>
</span><span id="Entity-692"><a href="#Entity-692"><span class="linenos"> 692</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-693"><a href="#Entity-693"><span class="linenos"> 693</span></a>    <span class="k">def</span> <span class="nf">phonemes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-694"><a href="#Entity-694"><span class="linenos"> 694</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-695"><a href="#Entity-695"><span class="linenos"> 695</span></a><span class="sd">        Get the list of phoneme entities.</span>
</span><span id="Entity-696"><a href="#Entity-696"><span class="linenos"> 696</span></a>
</span><span id="Entity-697"><a href="#Entity-697"><span class="linenos"> 697</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-698"><a href="#Entity-698"><span class="linenos"> 698</span></a><span class="sd">            PhonemeList: A list of phoneme entities.</span>
</span><span id="Entity-699"><a href="#Entity-699"><span class="linenos"> 699</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-700"><a href="#Entity-700"><span class="linenos"> 700</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">PhonemeList</span>
</span><span id="Entity-701"><a href="#Entity-701"><span class="linenos"> 701</span></a>
</span><span id="Entity-702"><a href="#Entity-702"><span class="linenos"> 702</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="Entity-703"><a href="#Entity-703"><span class="linenos"> 703</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-704"><a href="#Entity-704"><span class="linenos"> 704</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_phon</span><span class="p">:</span>
</span><span id="Entity-705"><a href="#Entity-705"><span class="linenos"> 705</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity-706"><a href="#Entity-706"><span class="linenos"> 706</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity-707"><a href="#Entity-707"><span class="linenos"> 707</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">phon</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">syll</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity-708"><a href="#Entity-708"><span class="linenos"> 708</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity-709"><a href="#Entity-709"><span class="linenos"> 709</span></a>
</span><span id="Entity-710"><a href="#Entity-710"><span class="linenos"> 710</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-711"><a href="#Entity-711"><span class="linenos"> 711</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-712"><a href="#Entity-712"><span class="linenos"> 712</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-713"><a href="#Entity-713"><span class="linenos"> 713</span></a><span class="sd">        Get the parent text entity.</span>
</span><span id="Entity-714"><a href="#Entity-714"><span class="linenos"> 714</span></a>
</span><span id="Entity-715"><a href="#Entity-715"><span class="linenos"> 715</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-716"><a href="#Entity-716"><span class="linenos"> 716</span></a><span class="sd">            Text: The parent text entity, or None if not found.</span>
</span><span id="Entity-717"><a href="#Entity-717"><span class="linenos"> 717</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-718"><a href="#Entity-718"><span class="linenos"> 718</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Text&quot;</span><span class="p">)</span>
</span><span id="Entity-719"><a href="#Entity-719"><span class="linenos"> 719</span></a>
</span><span id="Entity-720"><a href="#Entity-720"><span class="linenos"> 720</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-721"><a href="#Entity-721"><span class="linenos"> 721</span></a>    <span class="k">def</span> <span class="nf">stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-722"><a href="#Entity-722"><span class="linenos"> 722</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-723"><a href="#Entity-723"><span class="linenos"> 723</span></a><span class="sd">        Get the parent stanza entity.</span>
</span><span id="Entity-724"><a href="#Entity-724"><span class="linenos"> 724</span></a>
</span><span id="Entity-725"><a href="#Entity-725"><span class="linenos"> 725</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-726"><a href="#Entity-726"><span class="linenos"> 726</span></a><span class="sd">            Stanza: The parent stanza entity, or None if not found.</span>
</span><span id="Entity-727"><a href="#Entity-727"><span class="linenos"> 727</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-728"><a href="#Entity-728"><span class="linenos"> 728</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Stanza&quot;</span><span class="p">)</span>
</span><span id="Entity-729"><a href="#Entity-729"><span class="linenos"> 729</span></a>
</span><span id="Entity-730"><a href="#Entity-730"><span class="linenos"> 730</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-731"><a href="#Entity-731"><span class="linenos"> 731</span></a>    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-732"><a href="#Entity-732"><span class="linenos"> 732</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-733"><a href="#Entity-733"><span class="linenos"> 733</span></a><span class="sd">        Get the parent line entity.</span>
</span><span id="Entity-734"><a href="#Entity-734"><span class="linenos"> 734</span></a>
</span><span id="Entity-735"><a href="#Entity-735"><span class="linenos"> 735</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-736"><a href="#Entity-736"><span class="linenos"> 736</span></a><span class="sd">            Line: The parent line entity, or None if not found.</span>
</span><span id="Entity-737"><a href="#Entity-737"><span class="linenos"> 737</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-738"><a href="#Entity-738"><span class="linenos"> 738</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
</span><span id="Entity-739"><a href="#Entity-739"><span class="linenos"> 739</span></a>
</span><span id="Entity-740"><a href="#Entity-740"><span class="linenos"> 740</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-741"><a href="#Entity-741"><span class="linenos"> 741</span></a>    <span class="k">def</span> <span class="nf">wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-742"><a href="#Entity-742"><span class="linenos"> 742</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-743"><a href="#Entity-743"><span class="linenos"> 743</span></a><span class="sd">        Get the parent word token entity.</span>
</span><span id="Entity-744"><a href="#Entity-744"><span class="linenos"> 744</span></a>
</span><span id="Entity-745"><a href="#Entity-745"><span class="linenos"> 745</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-746"><a href="#Entity-746"><span class="linenos"> 746</span></a><span class="sd">            WordToken: The parent word token entity, or None if not found.</span>
</span><span id="Entity-747"><a href="#Entity-747"><span class="linenos"> 747</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-748"><a href="#Entity-748"><span class="linenos"> 748</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordToken&quot;</span><span class="p">)</span>
</span><span id="Entity-749"><a href="#Entity-749"><span class="linenos"> 749</span></a>
</span><span id="Entity-750"><a href="#Entity-750"><span class="linenos"> 750</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-751"><a href="#Entity-751"><span class="linenos"> 751</span></a>    <span class="k">def</span> <span class="nf">wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-752"><a href="#Entity-752"><span class="linenos"> 752</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-753"><a href="#Entity-753"><span class="linenos"> 753</span></a><span class="sd">        Get the parent word type entity.</span>
</span><span id="Entity-754"><a href="#Entity-754"><span class="linenos"> 754</span></a>
</span><span id="Entity-755"><a href="#Entity-755"><span class="linenos"> 755</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-756"><a href="#Entity-756"><span class="linenos"> 756</span></a><span class="sd">            WordType: The parent word type entity, or None if not found.</span>
</span><span id="Entity-757"><a href="#Entity-757"><span class="linenos"> 757</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-758"><a href="#Entity-758"><span class="linenos"> 758</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordType&quot;</span><span class="p">)</span>
</span><span id="Entity-759"><a href="#Entity-759"><span class="linenos"> 759</span></a>
</span><span id="Entity-760"><a href="#Entity-760"><span class="linenos"> 760</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-761"><a href="#Entity-761"><span class="linenos"> 761</span></a>    <span class="k">def</span> <span class="nf">wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-762"><a href="#Entity-762"><span class="linenos"> 762</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-763"><a href="#Entity-763"><span class="linenos"> 763</span></a><span class="sd">        Get the parent word form entity.</span>
</span><span id="Entity-764"><a href="#Entity-764"><span class="linenos"> 764</span></a>
</span><span id="Entity-765"><a href="#Entity-765"><span class="linenos"> 765</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-766"><a href="#Entity-766"><span class="linenos"> 766</span></a><span class="sd">            WordForm: The parent word form entity, or None if not found.</span>
</span><span id="Entity-767"><a href="#Entity-767"><span class="linenos"> 767</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-768"><a href="#Entity-768"><span class="linenos"> 768</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordForm&quot;</span><span class="p">)</span>
</span><span id="Entity-769"><a href="#Entity-769"><span class="linenos"> 769</span></a>
</span><span id="Entity-770"><a href="#Entity-770"><span class="linenos"> 770</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-771"><a href="#Entity-771"><span class="linenos"> 771</span></a>    <span class="k">def</span> <span class="nf">syllable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-772"><a href="#Entity-772"><span class="linenos"> 772</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-773"><a href="#Entity-773"><span class="linenos"> 773</span></a><span class="sd">        Get the parent syllable entity.</span>
</span><span id="Entity-774"><a href="#Entity-774"><span class="linenos"> 774</span></a>
</span><span id="Entity-775"><a href="#Entity-775"><span class="linenos"> 775</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-776"><a href="#Entity-776"><span class="linenos"> 776</span></a><span class="sd">            Syllable: The parent syllable entity, or None if not found.</span>
</span><span id="Entity-777"><a href="#Entity-777"><span class="linenos"> 777</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-778"><a href="#Entity-778"><span class="linenos"> 778</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Syllable&quot;</span><span class="p">)</span>
</span><span id="Entity-779"><a href="#Entity-779"><span class="linenos"> 779</span></a>
</span><span id="Entity-780"><a href="#Entity-780"><span class="linenos"> 780</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-781"><a href="#Entity-781"><span class="linenos"> 781</span></a>    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-782"><a href="#Entity-782"><span class="linenos"> 782</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-783"><a href="#Entity-783"><span class="linenos"> 783</span></a><span class="sd">        Get the index of the entity in its parent&#39;s children list.</span>
</span><span id="Entity-784"><a href="#Entity-784"><span class="linenos"> 784</span></a>
</span><span id="Entity-785"><a href="#Entity-785"><span class="linenos"> 785</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-786"><a href="#Entity-786"><span class="linenos"> 786</span></a><span class="sd">            int: The index of the entity, or None if not found.</span>
</span><span id="Entity-787"><a href="#Entity-787"><span class="linenos"> 787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-788"><a href="#Entity-788"><span class="linenos"> 788</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-789"><a href="#Entity-789"><span class="linenos"> 789</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-790"><a href="#Entity-790"><span class="linenos"> 790</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity-791"><a href="#Entity-791"><span class="linenos"> 791</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-792"><a href="#Entity-792"><span class="linenos"> 792</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity-793"><a href="#Entity-793"><span class="linenos"> 793</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Entity-794"><a href="#Entity-794"><span class="linenos"> 794</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity-795"><a href="#Entity-795"><span class="linenos"> 795</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-796"><a href="#Entity-796"><span class="linenos"> 796</span></a>
</span><span id="Entity-797"><a href="#Entity-797"><span class="linenos"> 797</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-798"><a href="#Entity-798"><span class="linenos"> 798</span></a>    <span class="k">def</span> <span class="nf">num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-799"><a href="#Entity-799"><span class="linenos"> 799</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-800"><a href="#Entity-800"><span class="linenos"> 800</span></a><span class="sd">        Get the 1-based index of the entity in its parent&#39;s children list.</span>
</span><span id="Entity-801"><a href="#Entity-801"><span class="linenos"> 801</span></a>
</span><span id="Entity-802"><a href="#Entity-802"><span class="linenos"> 802</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-803"><a href="#Entity-803"><span class="linenos"> 803</span></a><span class="sd">            int: The 1-based index of the entity, or None if not found.</span>
</span><span id="Entity-804"><a href="#Entity-804"><span class="linenos"> 804</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-805"><a href="#Entity-805"><span class="linenos"> 805</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Entity-806"><a href="#Entity-806"><span class="linenos"> 806</span></a>
</span><span id="Entity-807"><a href="#Entity-807"><span class="linenos"> 807</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-808"><a href="#Entity-808"><span class="linenos"> 808</span></a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-809"><a href="#Entity-809"><span class="linenos"> 809</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-810"><a href="#Entity-810"><span class="linenos"> 810</span></a><span class="sd">        Get the next sibling entity.</span>
</span><span id="Entity-811"><a href="#Entity-811"><span class="linenos"> 811</span></a>
</span><span id="Entity-812"><a href="#Entity-812"><span class="linenos"> 812</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-813"><a href="#Entity-813"><span class="linenos"> 813</span></a><span class="sd">            Entity: The next sibling entity, or None if not found.</span>
</span><span id="Entity-814"><a href="#Entity-814"><span class="linenos"> 814</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-815"><a href="#Entity-815"><span class="linenos"> 815</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-816"><a href="#Entity-816"><span class="linenos"> 816</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-817"><a href="#Entity-817"><span class="linenos"> 817</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity-818"><a href="#Entity-818"><span class="linenos"> 818</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Entity-819"><a href="#Entity-819"><span class="linenos"> 819</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity-820"><a href="#Entity-820"><span class="linenos"> 820</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-821"><a href="#Entity-821"><span class="linenos"> 821</span></a>
</span><span id="Entity-822"><a href="#Entity-822"><span class="linenos"> 822</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-823"><a href="#Entity-823"><span class="linenos"> 823</span></a>    <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-824"><a href="#Entity-824"><span class="linenos"> 824</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-825"><a href="#Entity-825"><span class="linenos"> 825</span></a><span class="sd">        Get the previous sibling entity.</span>
</span><span id="Entity-826"><a href="#Entity-826"><span class="linenos"> 826</span></a>
</span><span id="Entity-827"><a href="#Entity-827"><span class="linenos"> 827</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-828"><a href="#Entity-828"><span class="linenos"> 828</span></a><span class="sd">            Entity: The previous sibling entity, or None if not found.</span>
</span><span id="Entity-829"><a href="#Entity-829"><span class="linenos"> 829</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-830"><a href="#Entity-830"><span class="linenos"> 830</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-831"><a href="#Entity-831"><span class="linenos"> 831</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-832"><a href="#Entity-832"><span class="linenos"> 832</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
</span><span id="Entity-833"><a href="#Entity-833"><span class="linenos"> 833</span></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Entity-834"><a href="#Entity-834"><span class="linenos"> 834</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-835"><a href="#Entity-835"><span class="linenos"> 835</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity-836"><a href="#Entity-836"><span class="linenos"> 836</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Entity-837"><a href="#Entity-837"><span class="linenos"> 837</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity-838"><a href="#Entity-838"><span class="linenos"> 838</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity-839"><a href="#Entity-839"><span class="linenos"> 839</span></a>
</span><span id="Entity-840"><a href="#Entity-840"><span class="linenos"> 840</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-841"><a href="#Entity-841"><span class="linenos"> 841</span></a>    <span class="k">def</span> <span class="nf">is_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-842"><a href="#Entity-842"><span class="linenos"> 842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-843"><a href="#Entity-843"><span class="linenos"> 843</span></a><span class="sd">        Check if the entity is a text entity.</span>
</span><span id="Entity-844"><a href="#Entity-844"><span class="linenos"> 844</span></a>
</span><span id="Entity-845"><a href="#Entity-845"><span class="linenos"> 845</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-846"><a href="#Entity-846"><span class="linenos"> 846</span></a><span class="sd">            bool: True if the entity is a text entity, False otherwise.</span>
</span><span id="Entity-847"><a href="#Entity-847"><span class="linenos"> 847</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-848"><a href="#Entity-848"><span class="linenos"> 848</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Text&quot;</span>
</span><span id="Entity-849"><a href="#Entity-849"><span class="linenos"> 849</span></a>
</span><span id="Entity-850"><a href="#Entity-850"><span class="linenos"> 850</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-851"><a href="#Entity-851"><span class="linenos"> 851</span></a>    <span class="k">def</span> <span class="nf">is_stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-852"><a href="#Entity-852"><span class="linenos"> 852</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-853"><a href="#Entity-853"><span class="linenos"> 853</span></a><span class="sd">        Check if the entity is a stanza entity.</span>
</span><span id="Entity-854"><a href="#Entity-854"><span class="linenos"> 854</span></a>
</span><span id="Entity-855"><a href="#Entity-855"><span class="linenos"> 855</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-856"><a href="#Entity-856"><span class="linenos"> 856</span></a><span class="sd">            bool: True if the entity is a stanza entity, False otherwise.</span>
</span><span id="Entity-857"><a href="#Entity-857"><span class="linenos"> 857</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-858"><a href="#Entity-858"><span class="linenos"> 858</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Stanza&quot;</span>
</span><span id="Entity-859"><a href="#Entity-859"><span class="linenos"> 859</span></a>
</span><span id="Entity-860"><a href="#Entity-860"><span class="linenos"> 860</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-861"><a href="#Entity-861"><span class="linenos"> 861</span></a>    <span class="k">def</span> <span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-862"><a href="#Entity-862"><span class="linenos"> 862</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-863"><a href="#Entity-863"><span class="linenos"> 863</span></a><span class="sd">        Check if the entity is a line entity.</span>
</span><span id="Entity-864"><a href="#Entity-864"><span class="linenos"> 864</span></a>
</span><span id="Entity-865"><a href="#Entity-865"><span class="linenos"> 865</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-866"><a href="#Entity-866"><span class="linenos"> 866</span></a><span class="sd">            bool: True if the entity is a line entity, False otherwise.</span>
</span><span id="Entity-867"><a href="#Entity-867"><span class="linenos"> 867</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-868"><a href="#Entity-868"><span class="linenos"> 868</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Line&quot;</span>
</span><span id="Entity-869"><a href="#Entity-869"><span class="linenos"> 869</span></a>
</span><span id="Entity-870"><a href="#Entity-870"><span class="linenos"> 870</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-871"><a href="#Entity-871"><span class="linenos"> 871</span></a>    <span class="k">def</span> <span class="nf">is_wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-872"><a href="#Entity-872"><span class="linenos"> 872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-873"><a href="#Entity-873"><span class="linenos"> 873</span></a><span class="sd">        Check if the entity is a word token entity.</span>
</span><span id="Entity-874"><a href="#Entity-874"><span class="linenos"> 874</span></a>
</span><span id="Entity-875"><a href="#Entity-875"><span class="linenos"> 875</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-876"><a href="#Entity-876"><span class="linenos"> 876</span></a><span class="sd">            bool: True if the entity is a word token entity, False otherwise.</span>
</span><span id="Entity-877"><a href="#Entity-877"><span class="linenos"> 877</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-878"><a href="#Entity-878"><span class="linenos"> 878</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordToken&quot;</span>
</span><span id="Entity-879"><a href="#Entity-879"><span class="linenos"> 879</span></a>
</span><span id="Entity-880"><a href="#Entity-880"><span class="linenos"> 880</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-881"><a href="#Entity-881"><span class="linenos"> 881</span></a>    <span class="k">def</span> <span class="nf">is_wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-882"><a href="#Entity-882"><span class="linenos"> 882</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-883"><a href="#Entity-883"><span class="linenos"> 883</span></a><span class="sd">        Check if the entity is a word type entity.</span>
</span><span id="Entity-884"><a href="#Entity-884"><span class="linenos"> 884</span></a>
</span><span id="Entity-885"><a href="#Entity-885"><span class="linenos"> 885</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-886"><a href="#Entity-886"><span class="linenos"> 886</span></a><span class="sd">            bool: True if the entity is a word type entity, False otherwise.</span>
</span><span id="Entity-887"><a href="#Entity-887"><span class="linenos"> 887</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-888"><a href="#Entity-888"><span class="linenos"> 888</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordType&quot;</span>
</span><span id="Entity-889"><a href="#Entity-889"><span class="linenos"> 889</span></a>
</span><span id="Entity-890"><a href="#Entity-890"><span class="linenos"> 890</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-891"><a href="#Entity-891"><span class="linenos"> 891</span></a>    <span class="k">def</span> <span class="nf">is_wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-892"><a href="#Entity-892"><span class="linenos"> 892</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-893"><a href="#Entity-893"><span class="linenos"> 893</span></a><span class="sd">        Check if the entity is a word form entity.</span>
</span><span id="Entity-894"><a href="#Entity-894"><span class="linenos"> 894</span></a>
</span><span id="Entity-895"><a href="#Entity-895"><span class="linenos"> 895</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-896"><a href="#Entity-896"><span class="linenos"> 896</span></a><span class="sd">            bool: True if the entity is a word form entity, False otherwise.</span>
</span><span id="Entity-897"><a href="#Entity-897"><span class="linenos"> 897</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-898"><a href="#Entity-898"><span class="linenos"> 898</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span>
</span><span id="Entity-899"><a href="#Entity-899"><span class="linenos"> 899</span></a>
</span><span id="Entity-900"><a href="#Entity-900"><span class="linenos"> 900</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-901"><a href="#Entity-901"><span class="linenos"> 901</span></a>    <span class="k">def</span> <span class="nf">is_syll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-902"><a href="#Entity-902"><span class="linenos"> 902</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-903"><a href="#Entity-903"><span class="linenos"> 903</span></a><span class="sd">        Check if the entity is a syllable entity.</span>
</span><span id="Entity-904"><a href="#Entity-904"><span class="linenos"> 904</span></a>
</span><span id="Entity-905"><a href="#Entity-905"><span class="linenos"> 905</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-906"><a href="#Entity-906"><span class="linenos"> 906</span></a><span class="sd">            bool: True if the entity is a syllable entity, False otherwise.</span>
</span><span id="Entity-907"><a href="#Entity-907"><span class="linenos"> 907</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-908"><a href="#Entity-908"><span class="linenos"> 908</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span>
</span><span id="Entity-909"><a href="#Entity-909"><span class="linenos"> 909</span></a>
</span><span id="Entity-910"><a href="#Entity-910"><span class="linenos"> 910</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity-911"><a href="#Entity-911"><span class="linenos"> 911</span></a>    <span class="k">def</span> <span class="nf">is_phon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-912"><a href="#Entity-912"><span class="linenos"> 912</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-913"><a href="#Entity-913"><span class="linenos"> 913</span></a><span class="sd">        Check if the entity is a phoneme entity.</span>
</span><span id="Entity-914"><a href="#Entity-914"><span class="linenos"> 914</span></a>
</span><span id="Entity-915"><a href="#Entity-915"><span class="linenos"> 915</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-916"><a href="#Entity-916"><span class="linenos"> 916</span></a><span class="sd">            bool: True if the entity is a phoneme entity, False otherwise.</span>
</span><span id="Entity-917"><a href="#Entity-917"><span class="linenos"> 917</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-918"><a href="#Entity-918"><span class="linenos"> 918</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;PhonemeClass&quot;</span>
</span><span id="Entity-919"><a href="#Entity-919"><span class="linenos"> 919</span></a>
</span><span id="Entity-920"><a href="#Entity-920"><span class="linenos"> 920</span></a>    <span class="k">def</span> <span class="nf">children_from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-921"><a href="#Entity-921"><span class="linenos"> 921</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-922"><a href="#Entity-922"><span class="linenos"> 922</span></a><span class="sd">        Get the children of the entity from the cache.</span>
</span><span id="Entity-923"><a href="#Entity-923"><span class="linenos"> 923</span></a>
</span><span id="Entity-924"><a href="#Entity-924"><span class="linenos"> 924</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-925"><a href="#Entity-925"><span class="linenos"> 925</span></a><span class="sd">            list: The list of child entities, or None if not found in the cache.</span>
</span><span id="Entity-926"><a href="#Entity-926"><span class="linenos"> 926</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-927"><a href="#Entity-927"><span class="linenos"> 927</span></a>        <span class="k">if</span> <span class="n">caching_is_enabled</span><span class="p">():</span>
</span><span id="Entity-928"><a href="#Entity-928"><span class="linenos"> 928</span></a>            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_cache</span><span class="p">()</span>
</span><span id="Entity-929"><a href="#Entity-929"><span class="linenos"> 929</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FOUND&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
</span><span id="Entity-930"><a href="#Entity-930"><span class="linenos"> 930</span></a>            <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">res</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity-931"><a href="#Entity-931"><span class="linenos"> 931</span></a>
</span><span id="Entity-932"><a href="#Entity-932"><span class="linenos"> 932</span></a>    <span class="k">def</span> <span class="nf">get_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span><span id="Entity-933"><a href="#Entity-933"><span class="linenos"> 933</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-934"><a href="#Entity-934"><span class="linenos"> 934</span></a><span class="sd">        Get a key for caching purposes.</span>
</span><span id="Entity-935"><a href="#Entity-935"><span class="linenos"> 935</span></a>
</span><span id="Entity-936"><a href="#Entity-936"><span class="linenos"> 936</span></a><span class="sd">        Args:</span>
</span><span id="Entity-937"><a href="#Entity-937"><span class="linenos"> 937</span></a><span class="sd">            key: The key object.</span>
</span><span id="Entity-938"><a href="#Entity-938"><span class="linenos"> 938</span></a>
</span><span id="Entity-939"><a href="#Entity-939"><span class="linenos"> 939</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-940"><a href="#Entity-940"><span class="linenos"> 940</span></a><span class="sd">            str: The hashed key.</span>
</span><span id="Entity-941"><a href="#Entity-941"><span class="linenos"> 941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-942"><a href="#Entity-942"><span class="linenos"> 942</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;to_hash&quot;</span><span class="p">):</span>
</span><span id="Entity-943"><a href="#Entity-943"><span class="linenos"> 943</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">to_hash</span><span class="p">()</span>
</span><span id="Entity-944"><a href="#Entity-944"><span class="linenos"> 944</span></a>        <span class="k">elif</span> <span class="n">key</span><span class="p">:</span>
</span><span id="Entity-945"><a href="#Entity-945"><span class="linenos"> 945</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Entity-946"><a href="#Entity-946"><span class="linenos"> 946</span></a>        <span class="k">return</span> <span class="n">key</span>
</span><span id="Entity-947"><a href="#Entity-947"><span class="linenos"> 947</span></a>
</span><span id="Entity-948"><a href="#Entity-948"><span class="linenos"> 948</span></a>    <span class="k">def</span> <span class="nf">from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity-949"><a href="#Entity-949"><span class="linenos"> 949</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-950"><a href="#Entity-950"><span class="linenos"> 950</span></a><span class="sd">        Get an object from the cache.</span>
</span><span id="Entity-951"><a href="#Entity-951"><span class="linenos"> 951</span></a>
</span><span id="Entity-952"><a href="#Entity-952"><span class="linenos"> 952</span></a><span class="sd">        Args:</span>
</span><span id="Entity-953"><a href="#Entity-953"><span class="linenos"> 953</span></a><span class="sd">            obj: The object to cache.</span>
</span><span id="Entity-954"><a href="#Entity-954"><span class="linenos"> 954</span></a><span class="sd">            key: The key for the cache.</span>
</span><span id="Entity-955"><a href="#Entity-955"><span class="linenos"> 955</span></a><span class="sd">            as_dict (bool): If True, return the cached data as a dictionary.</span>
</span><span id="Entity-956"><a href="#Entity-956"><span class="linenos"> 956</span></a>
</span><span id="Entity-957"><a href="#Entity-957"><span class="linenos"> 957</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-958"><a href="#Entity-958"><span class="linenos"> 958</span></a><span class="sd">            Any: The cached object, or None if not found.</span>
</span><span id="Entity-959"><a href="#Entity-959"><span class="linenos"> 959</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-960"><a href="#Entity-960"><span class="linenos"> 960</span></a>        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-961"><a href="#Entity-961"><span class="linenos"> 961</span></a>            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity-962"><a href="#Entity-962"><span class="linenos"> 962</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="Entity-963"><a href="#Entity-963"><span class="linenos"> 963</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_cache</span> <span class="o">!=</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="Entity-964"><a href="#Entity-964"><span class="linenos"> 964</span></a>            <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="Entity-965"><a href="#Entity-965"><span class="linenos"> 965</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span><span id="Entity-966"><a href="#Entity-966"><span class="linenos"> 966</span></a>                <span class="n">dat</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Entity-967"><a href="#Entity-967"><span class="linenos"> 967</span></a>                <span class="k">if</span> <span class="n">dat</span><span class="p">:</span>
</span><span id="Entity-968"><a href="#Entity-968"><span class="linenos"> 968</span></a>                    <span class="k">return</span> <span class="n">from_json</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">as_dict</span> <span class="k">else</span> <span class="n">dat</span>
</span><span id="Entity-969"><a href="#Entity-969"><span class="linenos"> 969</span></a>
</span><span id="Entity-970"><a href="#Entity-970"><span class="linenos"> 970</span></a>    <span class="k">def</span> <span class="nf">get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity-971"><a href="#Entity-971"><span class="linenos"> 971</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-972"><a href="#Entity-972"><span class="linenos"> 972</span></a><span class="sd">        Get the cache object.</span>
</span><span id="Entity-973"><a href="#Entity-973"><span class="linenos"> 973</span></a>
</span><span id="Entity-974"><a href="#Entity-974"><span class="linenos"> 974</span></a><span class="sd">        Returns:</span>
</span><span id="Entity-975"><a href="#Entity-975"><span class="linenos"> 975</span></a><span class="sd">            SimpleCache: The cache object.</span>
</span><span id="Entity-976"><a href="#Entity-976"><span class="linenos"> 976</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-977"><a href="#Entity-977"><span class="linenos"> 977</span></a>        <span class="k">return</span> <span class="n">SimpleCache</span><span class="p">()</span>
</span><span id="Entity-978"><a href="#Entity-978"><span class="linenos"> 978</span></a>
</span><span id="Entity-979"><a href="#Entity-979"><span class="linenos"> 979</span></a>    <span class="k">def</span> <span class="nf">cache</span><span class="p">(</span>
</span><span id="Entity-980"><a href="#Entity-980"><span class="linenos"> 980</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">val_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span>
</span><span id="Entity-981"><a href="#Entity-981"><span class="linenos"> 981</span></a>    <span class="p">):</span>
</span><span id="Entity-982"><a href="#Entity-982"><span class="linenos"> 982</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity-983"><a href="#Entity-983"><span class="linenos"> 983</span></a><span class="sd">        Cache an object.</span>
</span><span id="Entity-984"><a href="#Entity-984"><span class="linenos"> 984</span></a>
</span><span id="Entity-985"><a href="#Entity-985"><span class="linenos"> 985</span></a><span class="sd">        Args:</span>
</span><span id="Entity-986"><a href="#Entity-986"><span class="linenos"> 986</span></a><span class="sd">            key_obj: The object to use as the cache key.</span>
</span><span id="Entity-987"><a href="#Entity-987"><span class="linenos"> 987</span></a><span class="sd">            val_obj: The object to cache.</span>
</span><span id="Entity-988"><a href="#Entity-988"><span class="linenos"> 988</span></a><span class="sd">            key: An optional key for the cache.</span>
</span><span id="Entity-989"><a href="#Entity-989"><span class="linenos"> 989</span></a><span class="sd">            force (bool): If True, force the cache to be updated.</span>
</span><span id="Entity-990"><a href="#Entity-990"><span class="linenos"> 990</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity-991"><a href="#Entity-991"><span class="linenos"> 991</span></a>        <span class="k">if</span> <span class="n">key_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-992"><a href="#Entity-992"><span class="linenos"> 992</span></a>            <span class="n">key_obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity-993"><a href="#Entity-993"><span class="linenos"> 993</span></a>        <span class="k">if</span> <span class="n">val_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity-994"><a href="#Entity-994"><span class="linenos"> 994</span></a>            <span class="n">val_obj</span> <span class="o">=</span> <span class="n">key_obj</span>
</span><span id="Entity-995"><a href="#Entity-995"><span class="linenos"> 995</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;key_obj = </span><span class="si">{</span><span class="n">key_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Entity-996"><a href="#Entity-996"><span class="linenos"> 996</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;val_obj = </span><span class="si">{</span><span class="n">val_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Entity-997"><a href="#Entity-997"><span class="linenos"> 997</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">key_obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="Entity-998"><a href="#Entity-998"><span class="linenos"> 998</span></a>        <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="Entity-999"><a href="#Entity-999"><span class="linenos"> 999</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="p">(</span><span class="n">force</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">):</span>
</span><span id="Entity-1000"><a href="#Entity-1000"><span class="linenos">1000</span></a>            <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;saving object under key </span><span class="si">{</span><span class="n">key</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="Entity-1001"><a href="#Entity-1001"><span class="linenos">1001</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;exporting to json&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="Entity-1002"><a href="#Entity-1002"><span class="linenos">1002</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">val_obj</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</span><span id="Entity-1003"><a href="#Entity-1003"><span class="linenos">1003</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;uploading json to cache&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="Entity-1004"><a href="#Entity-1004"><span class="linenos">1004</span></a>                    <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
</span></pre></div>


            <div class="docstring"><p>Root Entity class representing a hierarchical structure in prosodic analysis.</p>

<p>This class serves as the base for various prosodic entities such as texts, stanzas,
lines, words, syllables, and phonemes. It provides common functionality for
managing hierarchical relationships, attributes, and data representation.</p>

<h6 id="attributes">Attributes:</h6>

<ul>
<li><strong>child_type (str):</strong>  The type of child entities this entity can contain.</li>
<li><strong>is_parseable (bool):</strong>  Whether this entity can be parsed.</li>
<li><strong>index_name (str):</strong>  The name used for indexing this entity type.</li>
<li><strong>prefix (str):</strong>  A prefix used for attribute naming.</li>
<li><strong>list_type (type):</strong>  The type of list used for storing children.</li>
<li><strong>cached_properties_to_clear (list):</strong>  Properties to clear from cache.</li>
<li><strong>use_cache (bool):</strong>  Whether to use caching for this entity.</li>
<li><strong>sep (str):</strong>  Separator used when joining child texts.</li>
</ul>
</div>


                            <div id="Entity.__init__" class="classattr">
                                        <input id="Entity.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Entity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">txt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>, </span><span class="param"><span class="n">children</span><span class="o">=</span><span class="p">[]</span>, </span><span class="param"><span class="n">parent</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="Entity.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.__init__-34"><a href="#Entity.__init__-34"><span class="linenos">34</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">txt</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity.__init__-35"><a href="#Entity.__init__-35"><span class="linenos">35</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.__init__-36"><a href="#Entity.__init__-36"><span class="linenos">36</span></a><span class="sd">        Initialize an Entity object.</span>
</span><span id="Entity.__init__-37"><a href="#Entity.__init__-37"><span class="linenos">37</span></a>
</span><span id="Entity.__init__-38"><a href="#Entity.__init__-38"><span class="linenos">38</span></a><span class="sd">        Args:</span>
</span><span id="Entity.__init__-39"><a href="#Entity.__init__-39"><span class="linenos">39</span></a><span class="sd">            txt (str): The text content of the entity.</span>
</span><span id="Entity.__init__-40"><a href="#Entity.__init__-40"><span class="linenos">40</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="Entity.__init__-41"><a href="#Entity.__init__-41"><span class="linenos">41</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="Entity.__init__-42"><a href="#Entity.__init__-42"><span class="linenos">42</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="Entity.__init__-43"><a href="#Entity.__init__-43"><span class="linenos">43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.__init__-44"><a href="#Entity.__init__-44"><span class="linenos">44</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="Entity.__init__-45"><a href="#Entity.__init__-45"><span class="linenos">45</span></a>        <span class="n">newchildren</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entity.__init__-46"><a href="#Entity.__init__-46"><span class="linenos">46</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
</span><span id="Entity.__init__-47"><a href="#Entity.__init__-47"><span class="linenos">47</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">):</span>
</span><span id="Entity.__init__-48"><a href="#Entity.__init__-48"><span class="linenos">48</span></a>                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2"> is not an Entity&quot;</span><span class="p">)</span>
</span><span id="Entity.__init__-49"><a href="#Entity.__init__-49"><span class="linenos">49</span></a>                <span class="k">continue</span>
</span><span id="Entity.__init__-50"><a href="#Entity.__init__-50"><span class="linenos">50</span></a>            <span class="n">newchildren</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</span><span id="Entity.__init__-51"><a href="#Entity.__init__-51"><span class="linenos">51</span></a>            <span class="c1"># if not child.is_wordtype:   # don&#39;t do this for wordtypes since each wordtype is a single/shared python object</span>
</span><span id="Entity.__init__-52"><a href="#Entity.__init__-52"><span class="linenos">52</span></a>            <span class="n">child</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity.__init__-53"><a href="#Entity.__init__-53"><span class="linenos">53</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">newchildren</span>
</span><span id="Entity.__init__-54"><a href="#Entity.__init__-54"><span class="linenos">54</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.__init__-55"><a href="#Entity.__init__-55"><span class="linenos">55</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">list_type</span> <span class="o">=</span> <span class="s1">&#39;EntityList&#39;</span>
</span><span id="Entity.__init__-56"><a href="#Entity.__init__-56"><span class="linenos">56</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="Entity.__init__-57"><a href="#Entity.__init__-57"><span class="linenos">57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">list_type</span><span class="p">](</span><span class="n">children</span><span class="p">)</span>
</span><span id="Entity.__init__-58"><a href="#Entity.__init__-58"><span class="linenos">58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="Entity.__init__-59"><a href="#Entity.__init__-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="n">txt</span>
</span><span id="Entity.__init__-60"><a href="#Entity.__init__-60"><span class="linenos">60</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mtr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Entity.__init__-61"><a href="#Entity.__init__-61"><span class="linenos">61</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Entity.__init__-62"><a href="#Entity.__init__-62"><span class="linenos">62</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize an Entity object.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>txt (str):</strong>  The text content of the entity.</li>
<li><strong>children (list):</strong>  List of child entities.</li>
<li><strong>parent (Entity):</strong>  The parent entity.</li>
<li><strong>**kwargs:</strong>  Additional attributes to set on the entity.</li>
</ul>
</div>


                            </div>
                            <div id="Entity.child_type" class="classattr">
                                <div class="attr variable">
            <span class="name">child_type</span>        =
<span class="default_value">&#39;Text&#39;</span>

        
    </div>
    <a class="headerlink" href="#Entity.child_type"></a>
    
    

                            </div>
                            <div id="Entity.is_parseable" class="classattr">
                                <div class="attr variable">
            <span class="name">is_parseable</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#Entity.is_parseable"></a>
    
    

                            </div>
                            <div id="Entity.index_name" class="classattr">
                                <div class="attr variable">
            <span class="name">index_name</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Entity.index_name"></a>
    
    

                            </div>
                            <div id="Entity.prefix" class="classattr">
                                <div class="attr variable">
            <span class="name">prefix</span>        =
<span class="default_value">&#39;ent&#39;</span>

        
    </div>
    <a class="headerlink" href="#Entity.prefix"></a>
    
    

                            </div>
                            <div id="Entity.list_type" class="classattr">
                                <div class="attr variable">
            <span class="name">list_type</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Entity.list_type"></a>
    
    

                            </div>
                            <div id="Entity.cached_properties_to_clear" class="classattr">
                                <div class="attr variable">
            <span class="name">cached_properties_to_clear</span>        =
<span class="default_value">[]</span>

        
    </div>
    <a class="headerlink" href="#Entity.cached_properties_to_clear"></a>
    
    

                            </div>
                            <div id="Entity.use_cache" class="classattr">
                                <div class="attr variable">
            <span class="name">use_cache</span>        =
<span class="default_value">False</span>

        
    </div>
    <a class="headerlink" href="#Entity.use_cache"></a>
    
    

                            </div>
                            <div id="Entity.sep" class="classattr">
                                <div class="attr variable">
            <span class="name">sep</span>        =
<span class="default_value">&#39;&#39;</span>

        
    </div>
    <a class="headerlink" href="#Entity.sep"></a>
    
    

                            </div>
                            <div id="Entity.parent" class="classattr">
                                <div class="attr variable">
            <span class="name">parent</span>

        
    </div>
    <a class="headerlink" href="#Entity.parent"></a>
    
    

                            </div>
                            <div id="Entity.children" class="classattr">
                                <div class="attr variable">
            <span class="name">children</span>

        
    </div>
    <a class="headerlink" href="#Entity.children"></a>
    
    

                            </div>
                            <div id="Entity.to_hash" class="classattr">
                                        <input id="Entity.to_hash-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_hash</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.to_hash-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.to_hash"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.to_hash-73"><a href="#Entity.to_hash-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">to_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.to_hash-74"><a href="#Entity.to_hash-74"><span class="linenos">74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.to_hash-75"><a href="#Entity.to_hash-75"><span class="linenos">75</span></a><span class="sd">        Generate a hash representation of the entity.</span>
</span><span id="Entity.to_hash-76"><a href="#Entity.to_hash-76"><span class="linenos">76</span></a>
</span><span id="Entity.to_hash-77"><a href="#Entity.to_hash-77"><span class="linenos">77</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.to_hash-78"><a href="#Entity.to_hash-78"><span class="linenos">78</span></a><span class="sd">            str: A hash string representing the entity&#39;s content and attributes.</span>
</span><span id="Entity.to_hash-79"><a href="#Entity.to_hash-79"><span class="linenos">79</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.to_hash-80"><a href="#Entity.to_hash-80"><span class="linenos">80</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span>
</span><span id="Entity.to_hash-81"><a href="#Entity.to_hash-81"><span class="linenos">81</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">())),</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="Entity.to_hash-82"><a href="#Entity.to_hash-82"><span class="linenos">82</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generate a hash representation of the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: A hash string representing the entity's content and attributes.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.html" class="classattr">
                                        <input id="Entity.html-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">html</span>

                <label class="view-source-button" for="Entity.html-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.html"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.html-84"><a href="#Entity.html-84"><span class="linenos">84</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.html-85"><a href="#Entity.html-85"><span class="linenos">85</span></a>    <span class="k">def</span> <span class="nf">html</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.html-86"><a href="#Entity.html-86"><span class="linenos">86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.html-87"><a href="#Entity.html-87"><span class="linenos">87</span></a><span class="sd">        Get the HTML representation of the entity.</span>
</span><span id="Entity.html-88"><a href="#Entity.html-88"><span class="linenos">88</span></a>
</span><span id="Entity.html-89"><a href="#Entity.html-89"><span class="linenos">89</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.html-90"><a href="#Entity.html-90"><span class="linenos">90</span></a><span class="sd">            str: HTML representation of the entity, if available.</span>
</span><span id="Entity.html-91"><a href="#Entity.html-91"><span class="linenos">91</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.html-92"><a href="#Entity.html-92"><span class="linenos">92</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;to_html&quot;</span><span class="p">):</span>
</span><span id="Entity.html-93"><a href="#Entity.html-93"><span class="linenos">93</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the HTML representation of the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: HTML representation of the entity, if available.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.key" class="classattr">
                                        <input id="Entity.key-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">key</span>

                <label class="view-source-button" for="Entity.key-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.key"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.key-95"><a href="#Entity.key-95"><span class="linenos"> 95</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.key-96"><a href="#Entity.key-96"><span class="linenos"> 96</span></a>    <span class="k">def</span> <span class="nf">key</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.key-97"><a href="#Entity.key-97"><span class="linenos"> 97</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.key-98"><a href="#Entity.key-98"><span class="linenos"> 98</span></a><span class="sd">        Generate a unique key for the entity.</span>
</span><span id="Entity.key-99"><a href="#Entity.key-99"><span class="linenos"> 99</span></a>
</span><span id="Entity.key-100"><a href="#Entity.key-100"><span class="linenos">100</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.key-101"><a href="#Entity.key-101"><span class="linenos">101</span></a><span class="sd">            str: A string key representing the entity&#39;s class and attributes.</span>
</span><span id="Entity.key-102"><a href="#Entity.key-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.key-103"><a href="#Entity.key-103"><span class="linenos">103</span></a>        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Entity.key-104"><a href="#Entity.key-104"><span class="linenos">104</span></a>            <span class="o">**</span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">},</span>
</span><span id="Entity.key-105"><a href="#Entity.key-105"><span class="linenos">105</span></a>            <span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">,</span>
</span><span id="Entity.key-106"><a href="#Entity.key-106"><span class="linenos">106</span></a>        <span class="p">}</span>
</span><span id="Entity.key-107"><a href="#Entity.key-107"><span class="linenos">107</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">get_attr_str</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Generate a unique key for the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: A string key representing the entity's class and attributes.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.hash" class="classattr">
                                        <input id="Entity.hash-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">hash</span>

                <label class="view-source-button" for="Entity.hash-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.hash"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.hash-109"><a href="#Entity.hash-109"><span class="linenos">109</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.hash-110"><a href="#Entity.hash-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="nf">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.hash-111"><a href="#Entity.hash-111"><span class="linenos">111</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.hash-112"><a href="#Entity.hash-112"><span class="linenos">112</span></a><span class="sd">        Get a hash value for the entity.</span>
</span><span id="Entity.hash-113"><a href="#Entity.hash-113"><span class="linenos">113</span></a>
</span><span id="Entity.hash-114"><a href="#Entity.hash-114"><span class="linenos">114</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.hash-115"><a href="#Entity.hash-115"><span class="linenos">115</span></a><span class="sd">            str: A hash string for the entity.</span>
</span><span id="Entity.hash-116"><a href="#Entity.hash-116"><span class="linenos">116</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.hash-117"><a href="#Entity.hash-117"><span class="linenos">117</span></a>        <span class="k">return</span> <span class="n">hashstr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get a hash value for the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: A hash string for the entity.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.to_json" class="classattr">
                                        <input id="Entity.to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fn</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">no_txt</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">yes_txt</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.to_json-149"><a href="#Entity.to_json-149"><span class="linenos">149</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">no_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">yes_txt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity.to_json-150"><a href="#Entity.to_json-150"><span class="linenos">150</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.to_json-151"><a href="#Entity.to_json-151"><span class="linenos">151</span></a><span class="sd">        Convert the entity to a JSON representation.</span>
</span><span id="Entity.to_json-152"><a href="#Entity.to_json-152"><span class="linenos">152</span></a>
</span><span id="Entity.to_json-153"><a href="#Entity.to_json-153"><span class="linenos">153</span></a><span class="sd">        Args:</span>
</span><span id="Entity.to_json-154"><a href="#Entity.to_json-154"><span class="linenos">154</span></a><span class="sd">            fn (str, optional): Filename to save the JSON output.</span>
</span><span id="Entity.to_json-155"><a href="#Entity.to_json-155"><span class="linenos">155</span></a><span class="sd">            no_txt (bool): If True, exclude the text content.</span>
</span><span id="Entity.to_json-156"><a href="#Entity.to_json-156"><span class="linenos">156</span></a><span class="sd">            yes_txt (bool): If True, include the full text content.</span>
</span><span id="Entity.to_json-157"><a href="#Entity.to_json-157"><span class="linenos">157</span></a><span class="sd">            **kwargs: Additional key-value pairs to include in the JSON.</span>
</span><span id="Entity.to_json-158"><a href="#Entity.to_json-158"><span class="linenos">158</span></a>
</span><span id="Entity.to_json-159"><a href="#Entity.to_json-159"><span class="linenos">159</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.to_json-160"><a href="#Entity.to_json-160"><span class="linenos">160</span></a><span class="sd">            dict: A dictionary representation of the entity.</span>
</span><span id="Entity.to_json-161"><a href="#Entity.to_json-161"><span class="linenos">161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.to_json-162"><a href="#Entity.to_json-162"><span class="linenos">162</span></a>        <span class="n">txt</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">yes_txt</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">no_txt</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="Entity.to_json-163"><a href="#Entity.to_json-163"><span class="linenos">163</span></a>        <span class="k">return</span> <span class="n">to_json</span><span class="p">(</span>
</span><span id="Entity.to_json-164"><a href="#Entity.to_json-164"><span class="linenos">164</span></a>            <span class="p">{</span>
</span><span id="Entity.to_json-165"><a href="#Entity.to_json-165"><span class="linenos">165</span></a>                <span class="s2">&quot;_class&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="Entity.to_json-166"><a href="#Entity.to_json-166"><span class="linenos">166</span></a>                <span class="o">**</span><span class="p">({</span><span class="s2">&quot;txt&quot;</span><span class="p">:</span> <span class="n">txt</span><span class="p">}</span> <span class="k">if</span> <span class="n">txt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">yes_txt</span> <span class="ow">or</span> <span class="n">txt</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}),</span>
</span><span id="Entity.to_json-167"><a href="#Entity.to_json-167"><span class="linenos">167</span></a>                <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">kid</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span> <span class="k">for</span> <span class="n">kid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">],</span>
</span><span id="Entity.to_json-168"><a href="#Entity.to_json-168"><span class="linenos">168</span></a>                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="Entity.to_json-169"><a href="#Entity.to_json-169"><span class="linenos">169</span></a>            <span class="p">},</span>
</span><span id="Entity.to_json-170"><a href="#Entity.to_json-170"><span class="linenos">170</span></a>            <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span>
</span><span id="Entity.to_json-171"><a href="#Entity.to_json-171"><span class="linenos">171</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Convert the entity to a JSON representation.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>fn (str, optional):</strong>  Filename to save the JSON output.</li>
<li><strong>no_txt (bool):</strong>  If True, exclude the text content.</li>
<li><strong>yes_txt (bool):</strong>  If True, include the full text content.</li>
<li><strong>**kwargs:</strong>  Additional key-value pairs to include in the JSON.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>dict: A dictionary representation of the entity.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.save" class="classattr">
                                        <input id="Entity.save-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">fn</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.save-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.save"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.save-173"><a href="#Entity.save-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity.save-174"><a href="#Entity.save-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.save-175"><a href="#Entity.save-175"><span class="linenos">175</span></a><span class="sd">        Save the entity to a file in JSON format.</span>
</span><span id="Entity.save-176"><a href="#Entity.save-176"><span class="linenos">176</span></a>
</span><span id="Entity.save-177"><a href="#Entity.save-177"><span class="linenos">177</span></a><span class="sd">        Args:</span>
</span><span id="Entity.save-178"><a href="#Entity.save-178"><span class="linenos">178</span></a><span class="sd">            fn (str): The filename to save to.</span>
</span><span id="Entity.save-179"><a href="#Entity.save-179"><span class="linenos">179</span></a><span class="sd">            **kwargs: Additional arguments to pass to to_json.</span>
</span><span id="Entity.save-180"><a href="#Entity.save-180"><span class="linenos">180</span></a>
</span><span id="Entity.save-181"><a href="#Entity.save-181"><span class="linenos">181</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.save-182"><a href="#Entity.save-182"><span class="linenos">182</span></a><span class="sd">            The result of to_json with the given filename.</span>
</span><span id="Entity.save-183"><a href="#Entity.save-183"><span class="linenos">183</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.save-184"><a href="#Entity.save-184"><span class="linenos">184</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Save the entity to a file in JSON format.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>fn (str):</strong>  The filename to save to.</li>
<li><strong>**kwargs:</strong>  Additional arguments to pass to to_json.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>The result of to_json with the given filename.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.render" class="classattr">
                                        <input id="Entity.render-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">render</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">as_str</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.render-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.render"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.render-186"><a href="#Entity.render-186"><span class="linenos">186</span></a>    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity.render-187"><a href="#Entity.render-187"><span class="linenos">187</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.render-188"><a href="#Entity.render-188"><span class="linenos">188</span></a><span class="sd">        Render the entity as HTML.</span>
</span><span id="Entity.render-189"><a href="#Entity.render-189"><span class="linenos">189</span></a>
</span><span id="Entity.render-190"><a href="#Entity.render-190"><span class="linenos">190</span></a><span class="sd">        Args:</span>
</span><span id="Entity.render-191"><a href="#Entity.render-191"><span class="linenos">191</span></a><span class="sd">            as_str (bool): If True, return the result as a string.</span>
</span><span id="Entity.render-192"><a href="#Entity.render-192"><span class="linenos">192</span></a>
</span><span id="Entity.render-193"><a href="#Entity.render-193"><span class="linenos">193</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.render-194"><a href="#Entity.render-194"><span class="linenos">194</span></a><span class="sd">            str or HTML: The rendered HTML representation of the entity.</span>
</span><span id="Entity.render-195"><a href="#Entity.render-195"><span class="linenos">195</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.render-196"><a href="#Entity.render-196"><span class="linenos">196</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">as_str</span><span class="o">=</span><span class="n">as_str</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Render the entity as HTML.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>as_str (bool):</strong>  If True, return the result as a string.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str or HTML: The rendered HTML representation of the entity.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.from_json" class="classattr">
                                        <input id="Entity.from_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">from_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">json_d</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.from_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.from_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.from_json-198"><a href="#Entity.from_json-198"><span class="linenos">198</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Entity.from_json-199"><a href="#Entity.from_json-199"><span class="linenos">199</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="n">json_d</span><span class="p">):</span>
</span><span id="Entity.from_json-200"><a href="#Entity.from_json-200"><span class="linenos">200</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.from_json-201"><a href="#Entity.from_json-201"><span class="linenos">201</span></a><span class="sd">        Create an Entity object from a JSON dictionary.</span>
</span><span id="Entity.from_json-202"><a href="#Entity.from_json-202"><span class="linenos">202</span></a>
</span><span id="Entity.from_json-203"><a href="#Entity.from_json-203"><span class="linenos">203</span></a><span class="sd">        Args:</span>
</span><span id="Entity.from_json-204"><a href="#Entity.from_json-204"><span class="linenos">204</span></a><span class="sd">            json_d (dict): A dictionary containing the entity data.</span>
</span><span id="Entity.from_json-205"><a href="#Entity.from_json-205"><span class="linenos">205</span></a>
</span><span id="Entity.from_json-206"><a href="#Entity.from_json-206"><span class="linenos">206</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.from_json-207"><a href="#Entity.from_json-207"><span class="linenos">207</span></a><span class="sd">            Entity: An instance of the appropriate Entity subclass.</span>
</span><span id="Entity.from_json-208"><a href="#Entity.from_json-208"><span class="linenos">208</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.from_json-209"><a href="#Entity.from_json-209"><span class="linenos">209</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span><span class="p">,</span> <span class="n">CHILDCLASSES</span>
</span><span id="Entity.from_json-210"><a href="#Entity.from_json-210"><span class="linenos">210</span></a>
</span><span id="Entity.from_json-211"><a href="#Entity.from_json-211"><span class="linenos">211</span></a>        <span class="n">classname</span> <span class="o">=</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;_class&quot;</span><span class="p">]</span>
</span><span id="Entity.from_json-212"><a href="#Entity.from_json-212"><span class="linenos">212</span></a>        <span class="n">classx</span> <span class="o">=</span> <span class="n">GLOBALS</span><span class="p">[</span><span class="n">classname</span><span class="p">]</span>
</span><span id="Entity.from_json-213"><a href="#Entity.from_json-213"><span class="linenos">213</span></a>        <span class="n">childx</span> <span class="o">=</span> <span class="n">CHILDCLASSES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">classname</span><span class="p">)</span>
</span><span id="Entity.from_json-214"><a href="#Entity.from_json-214"><span class="linenos">214</span></a>        <span class="n">children</span> <span class="o">=</span> <span class="n">json_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="Entity.from_json-215"><a href="#Entity.from_json-215"><span class="linenos">215</span></a>        <span class="n">inpd</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="s2">&quot;_class&quot;</span><span class="p">}}</span>
</span><span id="Entity.from_json-216"><a href="#Entity.from_json-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="n">children</span> <span class="ow">and</span> <span class="n">childx</span><span class="p">:</span>
</span><span id="Entity.from_json-217"><a href="#Entity.from_json-217"><span class="linenos">217</span></a>            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">childx</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">json_d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]]</span>
</span><span id="Entity.from_json-218"><a href="#Entity.from_json-218"><span class="linenos">218</span></a>        <span class="k">return</span> <span class="n">classx</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">children</span><span class="p">),</span> <span class="o">**</span><span class="n">inpd</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create an Entity object from a JSON dictionary.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>json_d (dict):</strong>  A dictionary containing the entity data.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Entity: An instance of the appropriate Entity subclass.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.attrs" class="classattr">
                                        <input id="Entity.attrs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">attrs</span>

                <label class="view-source-button" for="Entity.attrs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.attrs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.attrs-220"><a href="#Entity.attrs-220"><span class="linenos">220</span></a>    <span class="nd">@property</span>
</span><span id="Entity.attrs-221"><a href="#Entity.attrs-221"><span class="linenos">221</span></a>    <span class="k">def</span> <span class="nf">attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.attrs-222"><a href="#Entity.attrs-222"><span class="linenos">222</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.attrs-223"><a href="#Entity.attrs-223"><span class="linenos">223</span></a><span class="sd">        Get the attributes of the entity.</span>
</span><span id="Entity.attrs-224"><a href="#Entity.attrs-224"><span class="linenos">224</span></a>
</span><span id="Entity.attrs-225"><a href="#Entity.attrs-225"><span class="linenos">225</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.attrs-226"><a href="#Entity.attrs-226"><span class="linenos">226</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes.</span>
</span><span id="Entity.attrs-227"><a href="#Entity.attrs-227"><span class="linenos">227</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.attrs-228"><a href="#Entity.attrs-228"><span class="linenos">228</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;num&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">}</span>
</span><span id="Entity.attrs-229"><a href="#Entity.attrs-229"><span class="linenos">229</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="Entity.attrs-230"><a href="#Entity.attrs-230"><span class="linenos">230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="Entity.attrs-231"><a href="#Entity.attrs-231"><span class="linenos">231</span></a>            <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;Text&quot;</span><span class="p">,</span> <span class="s2">&quot;Stanza&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterLine&quot;</span><span class="p">,</span> <span class="s2">&quot;MeterText&quot;</span><span class="p">,</span> <span class="s2">&quot;Meter&quot;</span><span class="p">}</span>
</span><span id="Entity.attrs-232"><a href="#Entity.attrs-232"><span class="linenos">232</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="Entity.attrs-233"><a href="#Entity.attrs-233"><span class="linenos">233</span></a>        <span class="p">):</span>
</span><span id="Entity.attrs-234"><a href="#Entity.attrs-234"><span class="linenos">234</span></a>            <span class="n">odx</span><span class="p">[</span><span class="s2">&quot;txt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span>
</span><span id="Entity.attrs-235"><a href="#Entity.attrs-235"><span class="linenos">235</span></a>        <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="n">odx</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Get the attributes of the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>dict: A dictionary of the entity's attributes.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.prefix_attrs" class="classattr">
                                        <input id="Entity.prefix_attrs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">prefix_attrs</span>

                <label class="view-source-button" for="Entity.prefix_attrs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.prefix_attrs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.prefix_attrs-237"><a href="#Entity.prefix_attrs-237"><span class="linenos">237</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.prefix_attrs-238"><a href="#Entity.prefix_attrs-238"><span class="linenos">238</span></a>    <span class="k">def</span> <span class="nf">prefix_attrs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">with_parent</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Entity.prefix_attrs-239"><a href="#Entity.prefix_attrs-239"><span class="linenos">239</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.prefix_attrs-240"><a href="#Entity.prefix_attrs-240"><span class="linenos">240</span></a><span class="sd">        Get the attributes of the entity with a prefix.</span>
</span><span id="Entity.prefix_attrs-241"><a href="#Entity.prefix_attrs-241"><span class="linenos">241</span></a>
</span><span id="Entity.prefix_attrs-242"><a href="#Entity.prefix_attrs-242"><span class="linenos">242</span></a><span class="sd">        Args:</span>
</span><span id="Entity.prefix_attrs-243"><a href="#Entity.prefix_attrs-243"><span class="linenos">243</span></a><span class="sd">            with_parent (bool): If True, include parent attributes.</span>
</span><span id="Entity.prefix_attrs-244"><a href="#Entity.prefix_attrs-244"><span class="linenos">244</span></a>
</span><span id="Entity.prefix_attrs-245"><a href="#Entity.prefix_attrs-245"><span class="linenos">245</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.prefix_attrs-246"><a href="#Entity.prefix_attrs-246"><span class="linenos">246</span></a><span class="sd">            dict: A dictionary of the entity&#39;s attributes with a prefix.</span>
</span><span id="Entity.prefix_attrs-247"><a href="#Entity.prefix_attrs-247"><span class="linenos">247</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.prefix_attrs-248"><a href="#Entity.prefix_attrs-248"><span class="linenos">248</span></a>
</span><span id="Entity.prefix_attrs-249"><a href="#Entity.prefix_attrs-249"><span class="linenos">249</span></a>        <span class="k">def</span> <span class="nf">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
</span><span id="Entity.prefix_attrs-250"><a href="#Entity.prefix_attrs-250"><span class="linenos">250</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Entity.prefix_attrs-251"><a href="#Entity.prefix_attrs-251"><span class="linenos">251</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="n">DF_COLS_RENAME</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</span><span id="Entity.prefix_attrs-252"><a href="#Entity.prefix_attrs-252"><span class="linenos">252</span></a>            <span class="k">return</span> <span class="n">o</span>
</span><span id="Entity.prefix_attrs-253"><a href="#Entity.prefix_attrs-253"><span class="linenos">253</span></a>
</span><span id="Entity.prefix_attrs-254"><a href="#Entity.prefix_attrs-254"><span class="linenos">254</span></a>        <span class="n">odx</span> <span class="o">=</span> <span class="p">{</span><span class="n">getkey</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</span><span id="Entity.prefix_attrs-255"><a href="#Entity.prefix_attrs-255"><span class="linenos">255</span></a>        <span class="k">if</span> <span class="n">with_parent</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="Entity.prefix_attrs-256"><a href="#Entity.prefix_attrs-256"><span class="linenos">256</span></a>            <span class="k">return</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">odx</span><span class="p">}</span>
</span><span id="Entity.prefix_attrs-257"><a href="#Entity.prefix_attrs-257"><span class="linenos">257</span></a>        <span class="k">return</span> <span class="n">odx</span>
</span></pre></div>


            <div class="docstring"><p>Get the attributes of the entity with a prefix.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>with_parent (bool):</strong>  If True, include parent attributes.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>dict: A dictionary of the entity's attributes with a prefix.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.txt" class="classattr">
                                        <input id="Entity.txt-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">txt</span>

                <label class="view-source-button" for="Entity.txt-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.txt"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.txt-259"><a href="#Entity.txt-259"><span class="linenos">259</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.txt-260"><a href="#Entity.txt-260"><span class="linenos">260</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.txt-261"><a href="#Entity.txt-261"><span class="linenos">261</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.txt-262"><a href="#Entity.txt-262"><span class="linenos">262</span></a><span class="sd">        Get the text content of the entity.</span>
</span><span id="Entity.txt-263"><a href="#Entity.txt-263"><span class="linenos">263</span></a>
</span><span id="Entity.txt-264"><a href="#Entity.txt-264"><span class="linenos">264</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.txt-265"><a href="#Entity.txt-265"><span class="linenos">265</span></a><span class="sd">            str: The text content of the entity.</span>
</span><span id="Entity.txt-266"><a href="#Entity.txt-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.txt-267"><a href="#Entity.txt-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span><span class="p">:</span>
</span><span id="Entity.txt-268"><a href="#Entity.txt-268"><span class="linenos">268</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span>
</span><span id="Entity.txt-269"><a href="#Entity.txt-269"><span class="linenos">269</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity.txt-270"><a href="#Entity.txt-270"><span class="linenos">270</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_class</span><span class="o">.</span><span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">txt</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>
</span><span id="Entity.txt-271"><a href="#Entity.txt-271"><span class="linenos">271</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.txt-272"><a href="#Entity.txt-272"><span class="linenos">272</span></a>            <span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="Entity.txt-273"><a href="#Entity.txt-273"><span class="linenos">273</span></a>        <span class="k">return</span> <span class="n">clean_text</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the text content of the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: The text content of the entity.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.data" class="classattr">
                                        <input id="Entity.data-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">data</span>

                <label class="view-source-button" for="Entity.data-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.data"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.data-275"><a href="#Entity.data-275"><span class="linenos">275</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.data-276"><a href="#Entity.data-276"><span class="linenos">276</span></a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.data-277"><a href="#Entity.data-277"><span class="linenos">277</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.data-278"><a href="#Entity.data-278"><span class="linenos">278</span></a><span class="sd">        Get the data associated with the entity.</span>
</span><span id="Entity.data-279"><a href="#Entity.data-279"><span class="linenos">279</span></a>
</span><span id="Entity.data-280"><a href="#Entity.data-280"><span class="linenos">280</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.data-281"><a href="#Entity.data-281"><span class="linenos">281</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="Entity.data-282"><a href="#Entity.data-282"><span class="linenos">282</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.data-283"><a href="#Entity.data-283"><span class="linenos">283</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span></pre></div>


            <div class="docstring"><p>Get the data associated with the entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: The list of child entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.l" class="classattr">
                                        <input id="Entity.l-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">l</span>

                <label class="view-source-button" for="Entity.l-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.l"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.l-285"><a href="#Entity.l-285"><span class="linenos">285</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.l-286"><a href="#Entity.l-286"><span class="linenos">286</span></a>    <span class="k">def</span> <span class="nf">l</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.l-287"><a href="#Entity.l-287"><span class="linenos">287</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.l-288"><a href="#Entity.l-288"><span class="linenos">288</span></a><span class="sd">        Get the list of child entities.</span>
</span><span id="Entity.l-289"><a href="#Entity.l-289"><span class="linenos">289</span></a>
</span><span id="Entity.l-290"><a href="#Entity.l-290"><span class="linenos">290</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.l-291"><a href="#Entity.l-291"><span class="linenos">291</span></a><span class="sd">            list: The list of child entities.</span>
</span><span id="Entity.l-292"><a href="#Entity.l-292"><span class="linenos">292</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.l-293"><a href="#Entity.l-293"><span class="linenos">293</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of child entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: The list of child entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.clear_cached_properties" class="classattr">
                                        <input id="Entity.clear_cached_properties-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear_cached_properties</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.clear_cached_properties-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.clear_cached_properties"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.clear_cached_properties-295"><a href="#Entity.clear_cached_properties-295"><span class="linenos">295</span></a>    <span class="k">def</span> <span class="nf">clear_cached_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.clear_cached_properties-296"><a href="#Entity.clear_cached_properties-296"><span class="linenos">296</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.clear_cached_properties-297"><a href="#Entity.clear_cached_properties-297"><span class="linenos">297</span></a><span class="sd">        Clear cached properties to free up memory.</span>
</span><span id="Entity.clear_cached_properties-298"><a href="#Entity.clear_cached_properties-298"><span class="linenos">298</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.clear_cached_properties-299"><a href="#Entity.clear_cached_properties-299"><span class="linenos">299</span></a>        <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cached_properties_to_clear</span><span class="p">:</span>
</span><span id="Entity.clear_cached_properties-300"><a href="#Entity.clear_cached_properties-300"><span class="linenos">300</span></a>            <span class="k">if</span> <span class="n">prop</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">:</span>
</span><span id="Entity.clear_cached_properties-301"><a href="#Entity.clear_cached_properties-301"><span class="linenos">301</span></a>                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">prop</span><span class="p">]</span>
</span><span id="Entity.clear_cached_properties-302"><a href="#Entity.clear_cached_properties-302"><span class="linenos">302</span></a>            <span class="c1"># elif hasattr(self,prop):</span>
</span><span id="Entity.clear_cached_properties-303"><a href="#Entity.clear_cached_properties-303"><span class="linenos">303</span></a>            <span class="c1">#     try:</span>
</span><span id="Entity.clear_cached_properties-304"><a href="#Entity.clear_cached_properties-304"><span class="linenos">304</span></a>            <span class="c1">#         func = getattr(self,prop)</span>
</span><span id="Entity.clear_cached_properties-305"><a href="#Entity.clear_cached_properties-305"><span class="linenos">305</span></a>            <span class="c1">#         func.clear_cache()</span>
</span><span id="Entity.clear_cached_properties-306"><a href="#Entity.clear_cached_properties-306"><span class="linenos">306</span></a>            <span class="c1">#     except AttributeError:</span>
</span><span id="Entity.clear_cached_properties-307"><a href="#Entity.clear_cached_properties-307"><span class="linenos">307</span></a>            <span class="c1">#         pass</span>
</span></pre></div>


            <div class="docstring"><p>Clear cached properties to free up memory.</p>
</div>


                            </div>
                            <div id="Entity.inspect" class="classattr">
                                        <input id="Entity.inspect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">inspect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">indent</span><span class="o">=</span><span class="mi">0</span>, </span><span class="param"><span class="n">maxlines</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.inspect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.inspect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.inspect-309"><a href="#Entity.inspect-309"><span class="linenos">309</span></a>    <span class="k">def</span> <span class="nf">inspect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">maxlines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity.inspect-310"><a href="#Entity.inspect-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.inspect-311"><a href="#Entity.inspect-311"><span class="linenos">311</span></a><span class="sd">        Inspect the entity and its children.</span>
</span><span id="Entity.inspect-312"><a href="#Entity.inspect-312"><span class="linenos">312</span></a>
</span><span id="Entity.inspect-313"><a href="#Entity.inspect-313"><span class="linenos">313</span></a><span class="sd">        Args:</span>
</span><span id="Entity.inspect-314"><a href="#Entity.inspect-314"><span class="linenos">314</span></a><span class="sd">            indent (int): The indentation level for the output.</span>
</span><span id="Entity.inspect-315"><a href="#Entity.inspect-315"><span class="linenos">315</span></a><span class="sd">            maxlines (int): The maximum number of lines to display.</span>
</span><span id="Entity.inspect-316"><a href="#Entity.inspect-316"><span class="linenos">316</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="Entity.inspect-317"><a href="#Entity.inspect-317"><span class="linenos">317</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.inspect-318"><a href="#Entity.inspect-318"><span class="linenos">318</span></a>        <span class="n">attrstr</span> <span class="o">=</span> <span class="n">get_attr_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
</span><span id="Entity.inspect-319"><a href="#Entity.inspect-319"><span class="linenos">319</span></a>        <span class="n">myself</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">attrstr</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="Entity.inspect-320"><a href="#Entity.inspect-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="Entity.inspect-321"><a href="#Entity.inspect-321"><span class="linenos">321</span></a>            <span class="n">myself</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">indent</span><span class="p">(</span><span class="n">myself</span><span class="p">,</span> <span class="s2">&quot;|&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">indent</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span>
</span><span id="Entity.inspect-322"><a href="#Entity.inspect-322"><span class="linenos">322</span></a>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">myself</span><span class="p">]</span>
</span><span id="Entity.inspect-323"><a href="#Entity.inspect-323"><span class="linenos">323</span></a>        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity.inspect-324"><a href="#Entity.inspect-324"><span class="linenos">324</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
</span><span id="Entity.inspect-325"><a href="#Entity.inspect-325"><span class="linenos">325</span></a>                <span class="n">incl_phons</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">child</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Phoneme&quot;</span><span class="p">)</span>
</span><span id="Entity.inspect-326"><a href="#Entity.inspect-326"><span class="linenos">326</span></a>            <span class="p">):</span>
</span><span id="Entity.inspect-327"><a href="#Entity.inspect-327"><span class="linenos">327</span></a>                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="Entity.inspect-328"><a href="#Entity.inspect-328"><span class="linenos">328</span></a>                    <span class="n">child</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="n">indent</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
</span><span id="Entity.inspect-329"><a href="#Entity.inspect-329"><span class="linenos">329</span></a>                        <span class="s2">&quot;PhonemeClass&quot;</span><span class="p">,</span> <span class="s2">&quot;Phoneme&quot;</span>
</span><span id="Entity.inspect-330"><a href="#Entity.inspect-330"><span class="linenos">330</span></a>                    <span class="p">)</span>
</span><span id="Entity.inspect-331"><a href="#Entity.inspect-331"><span class="linenos">331</span></a>                <span class="p">)</span>
</span><span id="Entity.inspect-332"><a href="#Entity.inspect-332"><span class="linenos">332</span></a>        <span class="c1"># self.__class__.__name__ in {&#39;Text&#39;, &#39;Stanza&#39;, &#39;Line&#39;}</span>
</span><span id="Entity.inspect-333"><a href="#Entity.inspect-333"><span class="linenos">333</span></a>        <span class="n">dblbreakfor</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Entity.inspect-334"><a href="#Entity.inspect-334"><span class="linenos">334</span></a>        <span class="n">breakstr</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">|</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">dblbreakfor</span> <span class="k">else</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="Entity.inspect-335"><a href="#Entity.inspect-335"><span class="linenos">335</span></a>        <span class="n">o</span> <span class="o">=</span> <span class="n">breakstr</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</span><span id="Entity.inspect-336"><a href="#Entity.inspect-336"><span class="linenos">336</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">indent</span><span class="p">:</span>
</span><span id="Entity.inspect-337"><a href="#Entity.inspect-337"><span class="linenos">337</span></a>            <span class="k">if</span> <span class="n">maxlines</span><span class="p">:</span>
</span><span id="Entity.inspect-338"><a href="#Entity.inspect-338"><span class="linenos">338</span></a>                <span class="n">o</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="n">maxlines</span><span class="p">])</span>
</span><span id="Entity.inspect-339"><a href="#Entity.inspect-339"><span class="linenos">339</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span><span id="Entity.inspect-340"><a href="#Entity.inspect-340"><span class="linenos">340</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.inspect-341"><a href="#Entity.inspect-341"><span class="linenos">341</span></a>            <span class="k">return</span> <span class="n">o</span>
</span></pre></div>


            <div class="docstring"><p>Inspect the entity and its children.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>indent (int):</strong>  The indentation level for the output.</li>
<li><strong>maxlines (int):</strong>  The maximum number of lines to display.</li>
<li><strong>incl_phons (bool):</strong>  If True, include phoneme information.</li>
</ul>
</div>


                            </div>
                            <div id="Entity.ld" class="classattr">
                                        <input id="Entity.ld-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">ld</span>

                <label class="view-source-button" for="Entity.ld-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.ld"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.ld-382"><a href="#Entity.ld-382"><span class="linenos">382</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.ld-383"><a href="#Entity.ld-383"><span class="linenos">383</span></a>    <span class="k">def</span> <span class="nf">ld</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.ld-384"><a href="#Entity.ld-384"><span class="linenos">384</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.ld-385"><a href="#Entity.ld-385"><span class="linenos">385</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="Entity.ld-386"><a href="#Entity.ld-386"><span class="linenos">386</span></a>
</span><span id="Entity.ld-387"><a href="#Entity.ld-387"><span class="linenos">387</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.ld-388"><a href="#Entity.ld-388"><span class="linenos">388</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="Entity.ld-389"><a href="#Entity.ld-389"><span class="linenos">389</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.ld-390"><a href="#Entity.ld-390"><span class="linenos">390</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of dictionaries representing the entity and its children.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: A list of dictionaries representing the entity and its children.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.child_class" class="classattr">
                                        <input id="Entity.child_class-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">child_class</span>

                <label class="view-source-button" for="Entity.child_class-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.child_class"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.child_class-392"><a href="#Entity.child_class-392"><span class="linenos">392</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.child_class-393"><a href="#Entity.child_class-393"><span class="linenos">393</span></a>    <span class="k">def</span> <span class="nf">child_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.child_class-394"><a href="#Entity.child_class-394"><span class="linenos">394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.child_class-395"><a href="#Entity.child_class-395"><span class="linenos">395</span></a><span class="sd">        Get the class of the child entities.</span>
</span><span id="Entity.child_class-396"><a href="#Entity.child_class-396"><span class="linenos">396</span></a>
</span><span id="Entity.child_class-397"><a href="#Entity.child_class-397"><span class="linenos">397</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.child_class-398"><a href="#Entity.child_class-398"><span class="linenos">398</span></a><span class="sd">            type: The class of the child entities.</span>
</span><span id="Entity.child_class-399"><a href="#Entity.child_class-399"><span class="linenos">399</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.child_class-400"><a href="#Entity.child_class-400"><span class="linenos">400</span></a>        <span class="kn">from</span> <span class="nn">.imports</span> <span class="kn">import</span> <span class="n">GLOBALS</span>
</span><span id="Entity.child_class-401"><a href="#Entity.child_class-401"><span class="linenos">401</span></a>
</span><span id="Entity.child_class-402"><a href="#Entity.child_class-402"><span class="linenos">402</span></a>        <span class="k">return</span> <span class="n">GLOBALS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">child_type</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the class of the child entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>type: The class of the child entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.get_ld" class="classattr">
                                        <input id="Entity.get_ld-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_ld</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">incl_sylls</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="n">multiple_wordforms</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.get_ld-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.get_ld"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.get_ld-404"><a href="#Entity.get_ld-404"><span class="linenos">404</span></a>    <span class="k">def</span> <span class="nf">get_ld</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">incl_phons</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">incl_sylls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">multiple_wordforms</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="Entity.get_ld-405"><a href="#Entity.get_ld-405"><span class="linenos">405</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.get_ld-406"><a href="#Entity.get_ld-406"><span class="linenos">406</span></a><span class="sd">        Get a list of dictionaries representing the entity and its children.</span>
</span><span id="Entity.get_ld-407"><a href="#Entity.get_ld-407"><span class="linenos">407</span></a>
</span><span id="Entity.get_ld-408"><a href="#Entity.get_ld-408"><span class="linenos">408</span></a><span class="sd">        Args:</span>
</span><span id="Entity.get_ld-409"><a href="#Entity.get_ld-409"><span class="linenos">409</span></a><span class="sd">            incl_phons (bool): If True, include phoneme information.</span>
</span><span id="Entity.get_ld-410"><a href="#Entity.get_ld-410"><span class="linenos">410</span></a><span class="sd">            incl_sylls (bool): If True, include syllable information.</span>
</span><span id="Entity.get_ld-411"><a href="#Entity.get_ld-411"><span class="linenos">411</span></a><span class="sd">            multiple_wordforms (bool): If True, include multiple word forms.</span>
</span><span id="Entity.get_ld-412"><a href="#Entity.get_ld-412"><span class="linenos">412</span></a>
</span><span id="Entity.get_ld-413"><a href="#Entity.get_ld-413"><span class="linenos">413</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.get_ld-414"><a href="#Entity.get_ld-414"><span class="linenos">414</span></a><span class="sd">            list: A list of dictionaries representing the entity and its children.</span>
</span><span id="Entity.get_ld-415"><a href="#Entity.get_ld-415"><span class="linenos">415</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.get_ld-416"><a href="#Entity.get_ld-416"><span class="linenos">416</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_sylls</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span><span class="p">:</span>
</span><span id="Entity.get_ld-417"><a href="#Entity.get_ld-417"><span class="linenos">417</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="Entity.get_ld-418"><a href="#Entity.get_ld-418"><span class="linenos">418</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">incl_phons</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;Phoneme&quot;</span><span class="p">:</span>
</span><span id="Entity.get_ld-419"><a href="#Entity.get_ld-419"><span class="linenos">419</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span><span id="Entity.get_ld-420"><a href="#Entity.get_ld-420"><span class="linenos">420</span></a>        <span class="n">good_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">Entity</span><span class="p">)]</span>
</span><span id="Entity.get_ld-421"><a href="#Entity.get_ld-421"><span class="linenos">421</span></a>        <span class="c1"># logger.debug(f&#39;good children of {type(self)} -&gt; {good_children}&#39;)</span>
</span><span id="Entity.get_ld-422"><a href="#Entity.get_ld-422"><span class="linenos">422</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">multiple_wordforms</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">child_type</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span> <span class="ow">and</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="Entity.get_ld-423"><a href="#Entity.get_ld-423"><span class="linenos">423</span></a>            <span class="n">good_children</span> <span class="o">=</span> <span class="n">good_children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Entity.get_ld-424"><a href="#Entity.get_ld-424"><span class="linenos">424</span></a>            <span class="c1"># logger.debug(f&#39;good children now {good_children}&#39;)</span>
</span><span id="Entity.get_ld-425"><a href="#Entity.get_ld-425"><span class="linenos">425</span></a>        <span class="k">if</span> <span class="n">good_children</span><span class="p">:</span>
</span><span id="Entity.get_ld-426"><a href="#Entity.get_ld-426"><span class="linenos">426</span></a>            <span class="k">return</span> <span class="p">[</span>
</span><span id="Entity.get_ld-427"><a href="#Entity.get_ld-427"><span class="linenos">427</span></a>                <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">child</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">,</span> <span class="o">**</span><span class="n">grandchild_d</span><span class="p">}</span>
</span><span id="Entity.get_ld-428"><a href="#Entity.get_ld-428"><span class="linenos">428</span></a>                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">good_children</span>
</span><span id="Entity.get_ld-429"><a href="#Entity.get_ld-429"><span class="linenos">429</span></a>                <span class="k">for</span> <span class="n">grandchild_d</span> <span class="ow">in</span> <span class="n">child</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span>
</span><span id="Entity.get_ld-430"><a href="#Entity.get_ld-430"><span class="linenos">430</span></a>                    <span class="n">incl_phons</span><span class="o">=</span><span class="n">incl_phons</span><span class="p">,</span>
</span><span id="Entity.get_ld-431"><a href="#Entity.get_ld-431"><span class="linenos">431</span></a>                    <span class="n">incl_sylls</span><span class="o">=</span><span class="n">incl_sylls</span><span class="p">,</span>
</span><span id="Entity.get_ld-432"><a href="#Entity.get_ld-432"><span class="linenos">432</span></a>                    <span class="n">multiple_wordforms</span><span class="o">=</span><span class="n">multiple_wordforms</span><span class="p">,</span>
</span><span id="Entity.get_ld-433"><a href="#Entity.get_ld-433"><span class="linenos">433</span></a>                <span class="p">)</span>
</span><span id="Entity.get_ld-434"><a href="#Entity.get_ld-434"><span class="linenos">434</span></a>            <span class="p">]</span>
</span><span id="Entity.get_ld-435"><a href="#Entity.get_ld-435"><span class="linenos">435</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.get_ld-436"><a href="#Entity.get_ld-436"><span class="linenos">436</span></a>            <span class="k">return</span> <span class="p">[{</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">prefix_attrs</span><span class="p">}]</span>
</span></pre></div>


            <div class="docstring"><p>Get a list of dictionaries representing the entity and its children.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>incl_phons (bool):</strong>  If True, include phoneme information.</li>
<li><strong>incl_sylls (bool):</strong>  If True, include syllable information.</li>
<li><strong>multiple_wordforms (bool):</strong>  If True, include multiple word forms.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: A list of dictionaries representing the entity and its children.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.get_df" class="classattr">
                                        <input id="Entity.get_df-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_df</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.get_df-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.get_df"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.get_df-438"><a href="#Entity.get_df-438"><span class="linenos">438</span></a>    <span class="k">def</span> <span class="nf">get_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="Entity.get_df-439"><a href="#Entity.get_df-439"><span class="linenos">439</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.get_df-440"><a href="#Entity.get_df-440"><span class="linenos">440</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="Entity.get_df-441"><a href="#Entity.get_df-441"><span class="linenos">441</span></a>
</span><span id="Entity.get_df-442"><a href="#Entity.get_df-442"><span class="linenos">442</span></a><span class="sd">        Args:</span>
</span><span id="Entity.get_df-443"><a href="#Entity.get_df-443"><span class="linenos">443</span></a><span class="sd">            **kwargs: Additional arguments to pass to get_ld.</span>
</span><span id="Entity.get_df-444"><a href="#Entity.get_df-444"><span class="linenos">444</span></a>
</span><span id="Entity.get_df-445"><a href="#Entity.get_df-445"><span class="linenos">445</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.get_df-446"><a href="#Entity.get_df-446"><span class="linenos">446</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="Entity.get_df-447"><a href="#Entity.get_df-447"><span class="linenos">447</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.get_df-448"><a href="#Entity.get_df-448"><span class="linenos">448</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_ld</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span><span id="Entity.get_df-449"><a href="#Entity.get_df-449"><span class="linenos">449</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">DF_BADCOLS</span><span class="p">:</span>
</span><span id="Entity.get_df-450"><a href="#Entity.get_df-450"><span class="linenos">450</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">odf</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
</span><span id="Entity.get_df-451"><a href="#Entity.get_df-451"><span class="linenos">451</span></a>                <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="Entity.get_df-452"><a href="#Entity.get_df-452"><span class="linenos">452</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">odf</span><span class="p">:</span>
</span><span id="Entity.get_df-453"><a href="#Entity.get_df-453"><span class="linenos">453</span></a>            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;_num&quot;</span><span class="p">):</span>
</span><span id="Entity.get_df-454"><a href="#Entity.get_df-454"><span class="linenos">454</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="Entity.get_df-455"><a href="#Entity.get_df-455"><span class="linenos">455</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.get_df-456"><a href="#Entity.get_df-456"><span class="linenos">456</span></a>                <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">odf</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="Entity.get_df-457"><a href="#Entity.get_df-457"><span class="linenos">457</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">setindex</span><span class="p">(</span><span class="n">odf</span><span class="p">,</span> <span class="n">DF_INDEX</span><span class="p">)</span>
</span><span id="Entity.get_df-458"><a href="#Entity.get_df-458"><span class="linenos">458</span></a>
</span><span id="Entity.get_df-459"><a href="#Entity.get_df-459"><span class="linenos">459</span></a>        <span class="k">def</span> <span class="nf">unbool</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="Entity.get_df-460"><a href="#Entity.get_df-460"><span class="linenos">460</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="Entity.get_df-461"><a href="#Entity.get_df-461"><span class="linenos">461</span></a>                <span class="k">return</span> <span class="mi">1</span>
</span><span id="Entity.get_df-462"><a href="#Entity.get_df-462"><span class="linenos">462</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="Entity.get_df-463"><a href="#Entity.get_df-463"><span class="linenos">463</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Entity.get_df-464"><a href="#Entity.get_df-464"><span class="linenos">464</span></a>            <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.get_df-465"><a href="#Entity.get_df-465"><span class="linenos">465</span></a>                <span class="k">return</span> <span class="mi">0</span>
</span><span id="Entity.get_df-466"><a href="#Entity.get_df-466"><span class="linenos">466</span></a>            <span class="k">return</span> <span class="n">x</span>
</span><span id="Entity.get_df-467"><a href="#Entity.get_df-467"><span class="linenos">467</span></a>
</span><span id="Entity.get_df-468"><a href="#Entity.get_df-468"><span class="linenos">468</span></a>        <span class="n">odf</span> <span class="o">=</span> <span class="n">odf</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">unbool</span><span class="p">)</span>
</span><span id="Entity.get_df-469"><a href="#Entity.get_df-469"><span class="linenos">469</span></a>        <span class="k">return</span> <span class="n">odf</span>
</span></pre></div>


            <div class="docstring"><p>Get a DataFrame representation of the entity and its children.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>**kwargs:</strong>  Additional arguments to pass to get_ld.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DataFrame: A DataFrame representation of the entity and its children.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.df" class="classattr">
                                        <input id="Entity.df-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">df</span>

                <label class="view-source-button" for="Entity.df-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.df"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.df-471"><a href="#Entity.df-471"><span class="linenos">471</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.df-472"><a href="#Entity.df-472"><span class="linenos">472</span></a>    <span class="k">def</span> <span class="nf">df</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.df-473"><a href="#Entity.df-473"><span class="linenos">473</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.df-474"><a href="#Entity.df-474"><span class="linenos">474</span></a><span class="sd">        Get a DataFrame representation of the entity and its children.</span>
</span><span id="Entity.df-475"><a href="#Entity.df-475"><span class="linenos">475</span></a>
</span><span id="Entity.df-476"><a href="#Entity.df-476"><span class="linenos">476</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.df-477"><a href="#Entity.df-477"><span class="linenos">477</span></a><span class="sd">            DataFrame: A DataFrame representation of the entity and its children.</span>
</span><span id="Entity.df-478"><a href="#Entity.df-478"><span class="linenos">478</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.df-479"><a href="#Entity.df-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_df</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get a DataFrame representation of the entity and its children.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DataFrame: A DataFrame representation of the entity and its children.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.get_parent" class="classattr">
                                        <input id="Entity.get_parent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_parent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">parent_type</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.get_parent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.get_parent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.get_parent-511"><a href="#Entity.get_parent-511"><span class="linenos">511</span></a>    <span class="k">def</span> <span class="nf">get_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="Entity.get_parent-512"><a href="#Entity.get_parent-512"><span class="linenos">512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.get_parent-513"><a href="#Entity.get_parent-513"><span class="linenos">513</span></a><span class="sd">        Get the parent entity of a specific type.</span>
</span><span id="Entity.get_parent-514"><a href="#Entity.get_parent-514"><span class="linenos">514</span></a>
</span><span id="Entity.get_parent-515"><a href="#Entity.get_parent-515"><span class="linenos">515</span></a><span class="sd">        Args:</span>
</span><span id="Entity.get_parent-516"><a href="#Entity.get_parent-516"><span class="linenos">516</span></a><span class="sd">            parent_type (str): The type of parent entity to find.</span>
</span><span id="Entity.get_parent-517"><a href="#Entity.get_parent-517"><span class="linenos">517</span></a>
</span><span id="Entity.get_parent-518"><a href="#Entity.get_parent-518"><span class="linenos">518</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.get_parent-519"><a href="#Entity.get_parent-519"><span class="linenos">519</span></a><span class="sd">            Entity: The parent entity of the specified type, or None if not found.</span>
</span><span id="Entity.get_parent-520"><a href="#Entity.get_parent-520"><span class="linenos">520</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.get_parent-521"><a href="#Entity.get_parent-521"><span class="linenos">521</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="Entity.get_parent-522"><a href="#Entity.get_parent-522"><span class="linenos">522</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="Entity.get_parent-523"><a href="#Entity.get_parent-523"><span class="linenos">523</span></a>            <span class="k">return</span>
</span><span id="Entity.get_parent-524"><a href="#Entity.get_parent-524"><span class="linenos">524</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="n">parent_type</span><span class="p">:</span>
</span><span id="Entity.get_parent-525"><a href="#Entity.get_parent-525"><span class="linenos">525</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span>
</span><span id="Entity.get_parent-526"><a href="#Entity.get_parent-526"><span class="linenos">526</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="n">parent_type</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent entity of a specific type.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>parent_type (str):</strong>  The type of parent entity to find.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Entity: The parent entity of the specified type, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.stanzas" class="classattr">
                                        <input id="Entity.stanzas-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">stanzas</span>

                <label class="view-source-button" for="Entity.stanzas-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.stanzas"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.stanzas-528"><a href="#Entity.stanzas-528"><span class="linenos">528</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.stanzas-529"><a href="#Entity.stanzas-529"><span class="linenos">529</span></a>    <span class="k">def</span> <span class="nf">stanzas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.stanzas-530"><a href="#Entity.stanzas-530"><span class="linenos">530</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.stanzas-531"><a href="#Entity.stanzas-531"><span class="linenos">531</span></a><span class="sd">        Get the list of stanza entities.</span>
</span><span id="Entity.stanzas-532"><a href="#Entity.stanzas-532"><span class="linenos">532</span></a>
</span><span id="Entity.stanzas-533"><a href="#Entity.stanzas-533"><span class="linenos">533</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.stanzas-534"><a href="#Entity.stanzas-534"><span class="linenos">534</span></a><span class="sd">            StanzaList: A list of stanza entities.</span>
</span><span id="Entity.stanzas-535"><a href="#Entity.stanzas-535"><span class="linenos">535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.stanzas-536"><a href="#Entity.stanzas-536"><span class="linenos">536</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">StanzaList</span>
</span><span id="Entity.stanzas-537"><a href="#Entity.stanzas-537"><span class="linenos">537</span></a>
</span><span id="Entity.stanzas-538"><a href="#Entity.stanzas-538"><span class="linenos">538</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_text</span><span class="p">:</span>
</span><span id="Entity.stanzas-539"><a href="#Entity.stanzas-539"><span class="linenos">539</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.stanzas-540"><a href="#Entity.stanzas-540"><span class="linenos">540</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="Entity.stanzas-541"><a href="#Entity.stanzas-541"><span class="linenos">541</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.stanzas-542"><a href="#Entity.stanzas-542"><span class="linenos">542</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.stanzas-543"><a href="#Entity.stanzas-543"><span class="linenos">543</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Entity.stanzas-544"><a href="#Entity.stanzas-544"><span class="linenos">544</span></a>        <span class="k">return</span> <span class="n">StanzaList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of stanza entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>StanzaList: A list of stanza entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.line_r" class="classattr">
                                        <input id="Entity.line_r-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">line_r</span>

                <label class="view-source-button" for="Entity.line_r-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.line_r"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.line_r-546"><a href="#Entity.line_r-546"><span class="linenos">546</span></a>    <span class="nd">@property</span>
</span><span id="Entity.line_r-547"><a href="#Entity.line_r-547"><span class="linenos">547</span></a>    <span class="k">def</span> <span class="nf">line_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.line_r-548"><a href="#Entity.line_r-548"><span class="linenos">548</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.line_r-549"><a href="#Entity.line_r-549"><span class="linenos">549</span></a><span class="sd">        Get a random line entity.</span>
</span><span id="Entity.line_r-550"><a href="#Entity.line_r-550"><span class="linenos">550</span></a>
</span><span id="Entity.line_r-551"><a href="#Entity.line_r-551"><span class="linenos">551</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.line_r-552"><a href="#Entity.line_r-552"><span class="linenos">552</span></a><span class="sd">            Line: A random line entity, or None if no lines exist.</span>
</span><span id="Entity.line_r-553"><a href="#Entity.line_r-553"><span class="linenos">553</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.line_r-554"><a href="#Entity.line_r-554"><span class="linenos">554</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">else</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get a random line entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Line: A random line entity, or None if no lines exist.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.word_r" class="classattr">
                                        <input id="Entity.word_r-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">word_r</span>

                <label class="view-source-button" for="Entity.word_r-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.word_r"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.word_r-556"><a href="#Entity.word_r-556"><span class="linenos">556</span></a>    <span class="nd">@property</span>
</span><span id="Entity.word_r-557"><a href="#Entity.word_r-557"><span class="linenos">557</span></a>    <span class="k">def</span> <span class="nf">word_r</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.word_r-558"><a href="#Entity.word_r-558"><span class="linenos">558</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.word_r-559"><a href="#Entity.word_r-559"><span class="linenos">559</span></a><span class="sd">        Get a random word entity.</span>
</span><span id="Entity.word_r-560"><a href="#Entity.word_r-560"><span class="linenos">560</span></a>
</span><span id="Entity.word_r-561"><a href="#Entity.word_r-561"><span class="linenos">561</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.word_r-562"><a href="#Entity.word_r-562"><span class="linenos">562</span></a><span class="sd">            WordToken: A random word entity, or None if no words exist.</span>
</span><span id="Entity.word_r-563"><a href="#Entity.word_r-563"><span class="linenos">563</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.word_r-564"><a href="#Entity.word_r-564"><span class="linenos">564</span></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">words</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">words</span> <span class="k">else</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get a random word entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordToken: A random word entity, or None if no words exist.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.lines" class="classattr">
                                        <input id="Entity.lines-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">lines</span>

                <label class="view-source-button" for="Entity.lines-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.lines"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.lines-566"><a href="#Entity.lines-566"><span class="linenos">566</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.lines-567"><a href="#Entity.lines-567"><span class="linenos">567</span></a>    <span class="k">def</span> <span class="nf">lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.lines-568"><a href="#Entity.lines-568"><span class="linenos">568</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.lines-569"><a href="#Entity.lines-569"><span class="linenos">569</span></a><span class="sd">        Get the list of line entities.</span>
</span><span id="Entity.lines-570"><a href="#Entity.lines-570"><span class="linenos">570</span></a>
</span><span id="Entity.lines-571"><a href="#Entity.lines-571"><span class="linenos">571</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.lines-572"><a href="#Entity.lines-572"><span class="linenos">572</span></a><span class="sd">            LineList: A list of line entities.</span>
</span><span id="Entity.lines-573"><a href="#Entity.lines-573"><span class="linenos">573</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.lines-574"><a href="#Entity.lines-574"><span class="linenos">574</span></a>        <span class="kn">from</span> <span class="nn">.texts</span> <span class="kn">import</span> <span class="n">LineList</span>
</span><span id="Entity.lines-575"><a href="#Entity.lines-575"><span class="linenos">575</span></a>
</span><span id="Entity.lines-576"><a href="#Entity.lines-576"><span class="linenos">576</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stanza</span><span class="p">:</span>
</span><span id="Entity.lines-577"><a href="#Entity.lines-577"><span class="linenos">577</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.lines-578"><a href="#Entity.lines-578"><span class="linenos">578</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="Entity.lines-579"><a href="#Entity.lines-579"><span class="linenos">579</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.lines-580"><a href="#Entity.lines-580"><span class="linenos">580</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.lines-581"><a href="#Entity.lines-581"><span class="linenos">581</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">stanza</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stanzas</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">stanza</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.lines-582"><a href="#Entity.lines-582"><span class="linenos">582</span></a>        <span class="k">return</span> <span class="n">LineList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of line entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>LineList: A list of line entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordtokens" class="classattr">
                                        <input id="Entity.wordtokens-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordtokens</span>

                <label class="view-source-button" for="Entity.wordtokens-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordtokens"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordtokens-584"><a href="#Entity.wordtokens-584"><span class="linenos">584</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordtokens-585"><a href="#Entity.wordtokens-585"><span class="linenos">585</span></a>    <span class="k">def</span> <span class="nf">wordtokens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordtokens-586"><a href="#Entity.wordtokens-586"><span class="linenos">586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordtokens-587"><a href="#Entity.wordtokens-587"><span class="linenos">587</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="Entity.wordtokens-588"><a href="#Entity.wordtokens-588"><span class="linenos">588</span></a>
</span><span id="Entity.wordtokens-589"><a href="#Entity.wordtokens-589"><span class="linenos">589</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordtokens-590"><a href="#Entity.wordtokens-590"><span class="linenos">590</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="Entity.wordtokens-591"><a href="#Entity.wordtokens-591"><span class="linenos">591</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordtokens-592"><a href="#Entity.wordtokens-592"><span class="linenos">592</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTokenList</span>
</span><span id="Entity.wordtokens-593"><a href="#Entity.wordtokens-593"><span class="linenos">593</span></a>
</span><span id="Entity.wordtokens-594"><a href="#Entity.wordtokens-594"><span class="linenos">594</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">:</span>
</span><span id="Entity.wordtokens-595"><a href="#Entity.wordtokens-595"><span class="linenos">595</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.wordtokens-596"><a href="#Entity.wordtokens-596"><span class="linenos">596</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="Entity.wordtokens-597"><a href="#Entity.wordtokens-597"><span class="linenos">597</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.wordtokens-598"><a href="#Entity.wordtokens-598"><span class="linenos">598</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.wordtokens-599"><a href="#Entity.wordtokens-599"><span class="linenos">599</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wt</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="k">for</span> <span class="n">wt</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.wordtokens-600"><a href="#Entity.wordtokens-600"><span class="linenos">600</span></a>        <span class="k">return</span> <span class="n">WordTokenList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of word token entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordTokenList: A list of word token entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.words" class="classattr">
                                        <input id="Entity.words-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">words</span>

                <label class="view-source-button" for="Entity.words-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.words"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.words-602"><a href="#Entity.words-602"><span class="linenos">602</span></a>    <span class="nd">@property</span>
</span><span id="Entity.words-603"><a href="#Entity.words-603"><span class="linenos">603</span></a>    <span class="k">def</span> <span class="nf">words</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.words-604"><a href="#Entity.words-604"><span class="linenos">604</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.words-605"><a href="#Entity.words-605"><span class="linenos">605</span></a><span class="sd">        Get the list of word token entities.</span>
</span><span id="Entity.words-606"><a href="#Entity.words-606"><span class="linenos">606</span></a>
</span><span id="Entity.words-607"><a href="#Entity.words-607"><span class="linenos">607</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.words-608"><a href="#Entity.words-608"><span class="linenos">608</span></a><span class="sd">            WordTokenList: A list of word token entities.</span>
</span><span id="Entity.words-609"><a href="#Entity.words-609"><span class="linenos">609</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.words-610"><a href="#Entity.words-610"><span class="linenos">610</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of word token entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordTokenList: A list of word token entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordtypes" class="classattr">
                                        <input id="Entity.wordtypes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordtypes</span>

                <label class="view-source-button" for="Entity.wordtypes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordtypes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordtypes-612"><a href="#Entity.wordtypes-612"><span class="linenos">612</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordtypes-613"><a href="#Entity.wordtypes-613"><span class="linenos">613</span></a>    <span class="k">def</span> <span class="nf">wordtypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordtypes-614"><a href="#Entity.wordtypes-614"><span class="linenos">614</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordtypes-615"><a href="#Entity.wordtypes-615"><span class="linenos">615</span></a><span class="sd">        Get the list of word type entities.</span>
</span><span id="Entity.wordtypes-616"><a href="#Entity.wordtypes-616"><span class="linenos">616</span></a>
</span><span id="Entity.wordtypes-617"><a href="#Entity.wordtypes-617"><span class="linenos">617</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordtypes-618"><a href="#Entity.wordtypes-618"><span class="linenos">618</span></a><span class="sd">            WordTypeList: A list of word type entities.</span>
</span><span id="Entity.wordtypes-619"><a href="#Entity.wordtypes-619"><span class="linenos">619</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordtypes-620"><a href="#Entity.wordtypes-620"><span class="linenos">620</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordTypeList</span>
</span><span id="Entity.wordtypes-621"><a href="#Entity.wordtypes-621"><span class="linenos">621</span></a>
</span><span id="Entity.wordtypes-622"><a href="#Entity.wordtypes-622"><span class="linenos">622</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtoken</span><span class="p">:</span>
</span><span id="Entity.wordtypes-623"><a href="#Entity.wordtypes-623"><span class="linenos">623</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.wordtypes-624"><a href="#Entity.wordtypes-624"><span class="linenos">624</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity.wordtypes-625"><a href="#Entity.wordtypes-625"><span class="linenos">625</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.wordtypes-626"><a href="#Entity.wordtypes-626"><span class="linenos">626</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.wordtypes-627"><a href="#Entity.wordtypes-627"><span class="linenos">627</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtokens</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="n">token</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.wordtypes-628"><a href="#Entity.wordtypes-628"><span class="linenos">628</span></a>        <span class="k">return</span> <span class="n">WordTypeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of word type entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordTypeList: A list of word type entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordforms" class="classattr">
                                        <input id="Entity.wordforms-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordforms</span>

                <label class="view-source-button" for="Entity.wordforms-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordforms"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordforms-630"><a href="#Entity.wordforms-630"><span class="linenos">630</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordforms-631"><a href="#Entity.wordforms-631"><span class="linenos">631</span></a>    <span class="k">def</span> <span class="nf">wordforms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordforms-632"><a href="#Entity.wordforms-632"><span class="linenos">632</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordforms-633"><a href="#Entity.wordforms-633"><span class="linenos">633</span></a><span class="sd">        Get the list of word form entities.</span>
</span><span id="Entity.wordforms-634"><a href="#Entity.wordforms-634"><span class="linenos">634</span></a>
</span><span id="Entity.wordforms-635"><a href="#Entity.wordforms-635"><span class="linenos">635</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordforms-636"><a href="#Entity.wordforms-636"><span class="linenos">636</span></a><span class="sd">            WordFormList: A list of word form entities.</span>
</span><span id="Entity.wordforms-637"><a href="#Entity.wordforms-637"><span class="linenos">637</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordforms-638"><a href="#Entity.wordforms-638"><span class="linenos">638</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">WordFormList</span>
</span><span id="Entity.wordforms-639"><a href="#Entity.wordforms-639"><span class="linenos">639</span></a>
</span><span id="Entity.wordforms-640"><a href="#Entity.wordforms-640"><span class="linenos">640</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity.wordforms-641"><a href="#Entity.wordforms-641"><span class="linenos">641</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Entity.wordforms-642"><a href="#Entity.wordforms-642"><span class="linenos">642</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity.wordforms-643"><a href="#Entity.wordforms-643"><span class="linenos">643</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.wordforms-644"><a href="#Entity.wordforms-644"><span class="linenos">644</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.wordforms-645"><a href="#Entity.wordforms-645"><span class="linenos">645</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span> <span class="k">if</span> <span class="n">wtype</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.wordforms-646"><a href="#Entity.wordforms-646"><span class="linenos">646</span></a>        <span class="k">return</span> <span class="n">WordFormList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of word form entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordFormList: A list of word form entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordforms_nopunc" class="classattr">
                                        <input id="Entity.wordforms_nopunc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordforms_nopunc</span>

                <label class="view-source-button" for="Entity.wordforms_nopunc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordforms_nopunc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordforms_nopunc-648"><a href="#Entity.wordforms_nopunc-648"><span class="linenos">648</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordforms_nopunc-649"><a href="#Entity.wordforms_nopunc-649"><span class="linenos">649</span></a>    <span class="k">def</span> <span class="nf">wordforms_nopunc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordforms_nopunc-650"><a href="#Entity.wordforms_nopunc-650"><span class="linenos">650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordforms_nopunc-651"><a href="#Entity.wordforms_nopunc-651"><span class="linenos">651</span></a><span class="sd">        Get the list of word form entities, excluding punctuation.</span>
</span><span id="Entity.wordforms_nopunc-652"><a href="#Entity.wordforms_nopunc-652"><span class="linenos">652</span></a>
</span><span id="Entity.wordforms_nopunc-653"><a href="#Entity.wordforms_nopunc-653"><span class="linenos">653</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordforms_nopunc-654"><a href="#Entity.wordforms_nopunc-654"><span class="linenos">654</span></a><span class="sd">            list: A list of word form entities, excluding punctuation.</span>
</span><span id="Entity.wordforms_nopunc-655"><a href="#Entity.wordforms_nopunc-655"><span class="linenos">655</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordforms_nopunc-656"><a href="#Entity.wordforms_nopunc-656"><span class="linenos">656</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">wf</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">wf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">is_punc</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of word form entities, excluding punctuation.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: A list of word form entities, excluding punctuation.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordforms_all" class="classattr">
                                        <input id="Entity.wordforms_all-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordforms_all</span>

                <label class="view-source-button" for="Entity.wordforms_all-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordforms_all"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordforms_all-658"><a href="#Entity.wordforms_all-658"><span class="linenos">658</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordforms_all-659"><a href="#Entity.wordforms_all-659"><span class="linenos">659</span></a>    <span class="k">def</span> <span class="nf">wordforms_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordforms_all-660"><a href="#Entity.wordforms_all-660"><span class="linenos">660</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordforms_all-661"><a href="#Entity.wordforms_all-661"><span class="linenos">661</span></a><span class="sd">        Get the list of all word form entities.</span>
</span><span id="Entity.wordforms_all-662"><a href="#Entity.wordforms_all-662"><span class="linenos">662</span></a>
</span><span id="Entity.wordforms_all-663"><a href="#Entity.wordforms_all-663"><span class="linenos">663</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordforms_all-664"><a href="#Entity.wordforms_all-664"><span class="linenos">664</span></a><span class="sd">            list: A list of all word form entities.</span>
</span><span id="Entity.wordforms_all-665"><a href="#Entity.wordforms_all-665"><span class="linenos">665</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordforms_all-666"><a href="#Entity.wordforms_all-666"><span class="linenos">666</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordtype</span><span class="p">:</span>
</span><span id="Entity.wordforms_all-667"><a href="#Entity.wordforms_all-667"><span class="linenos">667</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.wordforms_all-668"><a href="#Entity.wordforms_all-668"><span class="linenos">668</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="Entity.wordforms_all-669"><a href="#Entity.wordforms_all-669"><span class="linenos">669</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.wordforms_all-670"><a href="#Entity.wordforms_all-670"><span class="linenos">670</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.wordforms_all-671"><a href="#Entity.wordforms_all-671"><span class="linenos">671</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">wtype</span><span class="o">.</span><span class="n">children</span> <span class="k">for</span> <span class="n">wtype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordtypes</span><span class="p">]</span>
</span><span id="Entity.wordforms_all-672"><a href="#Entity.wordforms_all-672"><span class="linenos">672</span></a>        <span class="k">return</span> <span class="n">o</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of all word form entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: A list of all word form entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.syllables" class="classattr">
                                        <input id="Entity.syllables-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">syllables</span>

                <label class="view-source-button" for="Entity.syllables-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.syllables"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.syllables-674"><a href="#Entity.syllables-674"><span class="linenos">674</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.syllables-675"><a href="#Entity.syllables-675"><span class="linenos">675</span></a>    <span class="k">def</span> <span class="nf">syllables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.syllables-676"><a href="#Entity.syllables-676"><span class="linenos">676</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.syllables-677"><a href="#Entity.syllables-677"><span class="linenos">677</span></a><span class="sd">        Get the list of syllable entities.</span>
</span><span id="Entity.syllables-678"><a href="#Entity.syllables-678"><span class="linenos">678</span></a>
</span><span id="Entity.syllables-679"><a href="#Entity.syllables-679"><span class="linenos">679</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.syllables-680"><a href="#Entity.syllables-680"><span class="linenos">680</span></a><span class="sd">            SyllableList: A list of syllable entities.</span>
</span><span id="Entity.syllables-681"><a href="#Entity.syllables-681"><span class="linenos">681</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.syllables-682"><a href="#Entity.syllables-682"><span class="linenos">682</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">SyllableList</span>
</span><span id="Entity.syllables-683"><a href="#Entity.syllables-683"><span class="linenos">683</span></a>
</span><span id="Entity.syllables-684"><a href="#Entity.syllables-684"><span class="linenos">684</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_wordform</span><span class="p">:</span>
</span><span id="Entity.syllables-685"><a href="#Entity.syllables-685"><span class="linenos">685</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.syllables-686"><a href="#Entity.syllables-686"><span class="linenos">686</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="Entity.syllables-687"><a href="#Entity.syllables-687"><span class="linenos">687</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.syllables-688"><a href="#Entity.syllables-688"><span class="linenos">688</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.syllables-689"><a href="#Entity.syllables-689"><span class="linenos">689</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">syll</span> <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">wordforms</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="n">wf</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.syllables-690"><a href="#Entity.syllables-690"><span class="linenos">690</span></a>        <span class="k">return</span> <span class="n">SyllableList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of syllable entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>SyllableList: A list of syllable entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.phonemes" class="classattr">
                                        <input id="Entity.phonemes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">phonemes</span>

                <label class="view-source-button" for="Entity.phonemes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.phonemes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.phonemes-692"><a href="#Entity.phonemes-692"><span class="linenos">692</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.phonemes-693"><a href="#Entity.phonemes-693"><span class="linenos">693</span></a>    <span class="k">def</span> <span class="nf">phonemes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.phonemes-694"><a href="#Entity.phonemes-694"><span class="linenos">694</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.phonemes-695"><a href="#Entity.phonemes-695"><span class="linenos">695</span></a><span class="sd">        Get the list of phoneme entities.</span>
</span><span id="Entity.phonemes-696"><a href="#Entity.phonemes-696"><span class="linenos">696</span></a>
</span><span id="Entity.phonemes-697"><a href="#Entity.phonemes-697"><span class="linenos">697</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.phonemes-698"><a href="#Entity.phonemes-698"><span class="linenos">698</span></a><span class="sd">            PhonemeList: A list of phoneme entities.</span>
</span><span id="Entity.phonemes-699"><a href="#Entity.phonemes-699"><span class="linenos">699</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.phonemes-700"><a href="#Entity.phonemes-700"><span class="linenos">700</span></a>        <span class="kn">from</span> <span class="nn">.words</span> <span class="kn">import</span> <span class="n">PhonemeList</span>
</span><span id="Entity.phonemes-701"><a href="#Entity.phonemes-701"><span class="linenos">701</span></a>
</span><span id="Entity.phonemes-702"><a href="#Entity.phonemes-702"><span class="linenos">702</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_syll</span><span class="p">:</span>
</span><span id="Entity.phonemes-703"><a href="#Entity.phonemes-703"><span class="linenos">703</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
</span><span id="Entity.phonemes-704"><a href="#Entity.phonemes-704"><span class="linenos">704</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_phon</span><span class="p">:</span>
</span><span id="Entity.phonemes-705"><a href="#Entity.phonemes-705"><span class="linenos">705</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="Entity.phonemes-706"><a href="#Entity.phonemes-706"><span class="linenos">706</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Entity.phonemes-707"><a href="#Entity.phonemes-707"><span class="linenos">707</span></a>            <span class="n">o</span> <span class="o">=</span> <span class="p">[</span><span class="n">phon</span> <span class="k">for</span> <span class="n">syll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syllables</span> <span class="k">for</span> <span class="n">phon</span> <span class="ow">in</span> <span class="n">syll</span><span class="o">.</span><span class="n">children</span><span class="p">]</span>
</span><span id="Entity.phonemes-708"><a href="#Entity.phonemes-708"><span class="linenos">708</span></a>        <span class="k">return</span> <span class="n">PhonemeList</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the list of phoneme entities.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>PhonemeList: A list of phoneme entities.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.text" class="classattr">
                                        <input id="Entity.text-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">text</span>

                <label class="view-source-button" for="Entity.text-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.text"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.text-710"><a href="#Entity.text-710"><span class="linenos">710</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.text-711"><a href="#Entity.text-711"><span class="linenos">711</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.text-712"><a href="#Entity.text-712"><span class="linenos">712</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.text-713"><a href="#Entity.text-713"><span class="linenos">713</span></a><span class="sd">        Get the parent text entity.</span>
</span><span id="Entity.text-714"><a href="#Entity.text-714"><span class="linenos">714</span></a>
</span><span id="Entity.text-715"><a href="#Entity.text-715"><span class="linenos">715</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.text-716"><a href="#Entity.text-716"><span class="linenos">716</span></a><span class="sd">            Text: The parent text entity, or None if not found.</span>
</span><span id="Entity.text-717"><a href="#Entity.text-717"><span class="linenos">717</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.text-718"><a href="#Entity.text-718"><span class="linenos">718</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Text&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent text entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Text: The parent text entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.stanza" class="classattr">
                                        <input id="Entity.stanza-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">stanza</span>

                <label class="view-source-button" for="Entity.stanza-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.stanza"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.stanza-720"><a href="#Entity.stanza-720"><span class="linenos">720</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.stanza-721"><a href="#Entity.stanza-721"><span class="linenos">721</span></a>    <span class="k">def</span> <span class="nf">stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.stanza-722"><a href="#Entity.stanza-722"><span class="linenos">722</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.stanza-723"><a href="#Entity.stanza-723"><span class="linenos">723</span></a><span class="sd">        Get the parent stanza entity.</span>
</span><span id="Entity.stanza-724"><a href="#Entity.stanza-724"><span class="linenos">724</span></a>
</span><span id="Entity.stanza-725"><a href="#Entity.stanza-725"><span class="linenos">725</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.stanza-726"><a href="#Entity.stanza-726"><span class="linenos">726</span></a><span class="sd">            Stanza: The parent stanza entity, or None if not found.</span>
</span><span id="Entity.stanza-727"><a href="#Entity.stanza-727"><span class="linenos">727</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.stanza-728"><a href="#Entity.stanza-728"><span class="linenos">728</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Stanza&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent stanza entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Stanza: The parent stanza entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.line" class="classattr">
                                        <input id="Entity.line-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">line</span>

                <label class="view-source-button" for="Entity.line-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.line"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.line-730"><a href="#Entity.line-730"><span class="linenos">730</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.line-731"><a href="#Entity.line-731"><span class="linenos">731</span></a>    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.line-732"><a href="#Entity.line-732"><span class="linenos">732</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.line-733"><a href="#Entity.line-733"><span class="linenos">733</span></a><span class="sd">        Get the parent line entity.</span>
</span><span id="Entity.line-734"><a href="#Entity.line-734"><span class="linenos">734</span></a>
</span><span id="Entity.line-735"><a href="#Entity.line-735"><span class="linenos">735</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.line-736"><a href="#Entity.line-736"><span class="linenos">736</span></a><span class="sd">            Line: The parent line entity, or None if not found.</span>
</span><span id="Entity.line-737"><a href="#Entity.line-737"><span class="linenos">737</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.line-738"><a href="#Entity.line-738"><span class="linenos">738</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Line&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent line entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Line: The parent line entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordtoken" class="classattr">
                                        <input id="Entity.wordtoken-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordtoken</span>

                <label class="view-source-button" for="Entity.wordtoken-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordtoken"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordtoken-740"><a href="#Entity.wordtoken-740"><span class="linenos">740</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordtoken-741"><a href="#Entity.wordtoken-741"><span class="linenos">741</span></a>    <span class="k">def</span> <span class="nf">wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordtoken-742"><a href="#Entity.wordtoken-742"><span class="linenos">742</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordtoken-743"><a href="#Entity.wordtoken-743"><span class="linenos">743</span></a><span class="sd">        Get the parent word token entity.</span>
</span><span id="Entity.wordtoken-744"><a href="#Entity.wordtoken-744"><span class="linenos">744</span></a>
</span><span id="Entity.wordtoken-745"><a href="#Entity.wordtoken-745"><span class="linenos">745</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordtoken-746"><a href="#Entity.wordtoken-746"><span class="linenos">746</span></a><span class="sd">            WordToken: The parent word token entity, or None if not found.</span>
</span><span id="Entity.wordtoken-747"><a href="#Entity.wordtoken-747"><span class="linenos">747</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordtoken-748"><a href="#Entity.wordtoken-748"><span class="linenos">748</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordToken&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent word token entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordToken: The parent word token entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordtype" class="classattr">
                                        <input id="Entity.wordtype-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordtype</span>

                <label class="view-source-button" for="Entity.wordtype-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordtype"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordtype-750"><a href="#Entity.wordtype-750"><span class="linenos">750</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordtype-751"><a href="#Entity.wordtype-751"><span class="linenos">751</span></a>    <span class="k">def</span> <span class="nf">wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordtype-752"><a href="#Entity.wordtype-752"><span class="linenos">752</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordtype-753"><a href="#Entity.wordtype-753"><span class="linenos">753</span></a><span class="sd">        Get the parent word type entity.</span>
</span><span id="Entity.wordtype-754"><a href="#Entity.wordtype-754"><span class="linenos">754</span></a>
</span><span id="Entity.wordtype-755"><a href="#Entity.wordtype-755"><span class="linenos">755</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordtype-756"><a href="#Entity.wordtype-756"><span class="linenos">756</span></a><span class="sd">            WordType: The parent word type entity, or None if not found.</span>
</span><span id="Entity.wordtype-757"><a href="#Entity.wordtype-757"><span class="linenos">757</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordtype-758"><a href="#Entity.wordtype-758"><span class="linenos">758</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordType&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent word type entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordType: The parent word type entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.wordform" class="classattr">
                                        <input id="Entity.wordform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">wordform</span>

                <label class="view-source-button" for="Entity.wordform-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.wordform"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.wordform-760"><a href="#Entity.wordform-760"><span class="linenos">760</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.wordform-761"><a href="#Entity.wordform-761"><span class="linenos">761</span></a>    <span class="k">def</span> <span class="nf">wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.wordform-762"><a href="#Entity.wordform-762"><span class="linenos">762</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.wordform-763"><a href="#Entity.wordform-763"><span class="linenos">763</span></a><span class="sd">        Get the parent word form entity.</span>
</span><span id="Entity.wordform-764"><a href="#Entity.wordform-764"><span class="linenos">764</span></a>
</span><span id="Entity.wordform-765"><a href="#Entity.wordform-765"><span class="linenos">765</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.wordform-766"><a href="#Entity.wordform-766"><span class="linenos">766</span></a><span class="sd">            WordForm: The parent word form entity, or None if not found.</span>
</span><span id="Entity.wordform-767"><a href="#Entity.wordform-767"><span class="linenos">767</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.wordform-768"><a href="#Entity.wordform-768"><span class="linenos">768</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;WordForm&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent word form entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>WordForm: The parent word form entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.syllable" class="classattr">
                                        <input id="Entity.syllable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">syllable</span>

                <label class="view-source-button" for="Entity.syllable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.syllable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.syllable-770"><a href="#Entity.syllable-770"><span class="linenos">770</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.syllable-771"><a href="#Entity.syllable-771"><span class="linenos">771</span></a>    <span class="k">def</span> <span class="nf">syllable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.syllable-772"><a href="#Entity.syllable-772"><span class="linenos">772</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.syllable-773"><a href="#Entity.syllable-773"><span class="linenos">773</span></a><span class="sd">        Get the parent syllable entity.</span>
</span><span id="Entity.syllable-774"><a href="#Entity.syllable-774"><span class="linenos">774</span></a>
</span><span id="Entity.syllable-775"><a href="#Entity.syllable-775"><span class="linenos">775</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.syllable-776"><a href="#Entity.syllable-776"><span class="linenos">776</span></a><span class="sd">            Syllable: The parent syllable entity, or None if not found.</span>
</span><span id="Entity.syllable-777"><a href="#Entity.syllable-777"><span class="linenos">777</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.syllable-778"><a href="#Entity.syllable-778"><span class="linenos">778</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;Syllable&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the parent syllable entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Syllable: The parent syllable entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.i" class="classattr">
                                        <input id="Entity.i-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">i</span>

                <label class="view-source-button" for="Entity.i-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.i"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.i-780"><a href="#Entity.i-780"><span class="linenos">780</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.i-781"><a href="#Entity.i-781"><span class="linenos">781</span></a>    <span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.i-782"><a href="#Entity.i-782"><span class="linenos">782</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.i-783"><a href="#Entity.i-783"><span class="linenos">783</span></a><span class="sd">        Get the index of the entity in its parent&#39;s children list.</span>
</span><span id="Entity.i-784"><a href="#Entity.i-784"><span class="linenos">784</span></a>
</span><span id="Entity.i-785"><a href="#Entity.i-785"><span class="linenos">785</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.i-786"><a href="#Entity.i-786"><span class="linenos">786</span></a><span class="sd">            int: The index of the entity, or None if not found.</span>
</span><span id="Entity.i-787"><a href="#Entity.i-787"><span class="linenos">787</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.i-788"><a href="#Entity.i-788"><span class="linenos">788</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.i-789"><a href="#Entity.i-789"><span class="linenos">789</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity.i-790"><a href="#Entity.i-790"><span class="linenos">790</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
</span><span id="Entity.i-791"><a href="#Entity.i-791"><span class="linenos">791</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity.i-792"><a href="#Entity.i-792"><span class="linenos">792</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity.i-793"><a href="#Entity.i-793"><span class="linenos">793</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="Entity.i-794"><a href="#Entity.i-794"><span class="linenos">794</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity.i-795"><a href="#Entity.i-795"><span class="linenos">795</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the index of the entity in its parent's children list.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>int: The index of the entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.num" class="classattr">
                                        <input id="Entity.num-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">num</span>

                <label class="view-source-button" for="Entity.num-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.num"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.num-797"><a href="#Entity.num-797"><span class="linenos">797</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.num-798"><a href="#Entity.num-798"><span class="linenos">798</span></a>    <span class="k">def</span> <span class="nf">num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.num-799"><a href="#Entity.num-799"><span class="linenos">799</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.num-800"><a href="#Entity.num-800"><span class="linenos">800</span></a><span class="sd">        Get the 1-based index of the entity in its parent&#39;s children list.</span>
</span><span id="Entity.num-801"><a href="#Entity.num-801"><span class="linenos">801</span></a>
</span><span id="Entity.num-802"><a href="#Entity.num-802"><span class="linenos">802</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.num-803"><a href="#Entity.num-803"><span class="linenos">803</span></a><span class="sd">            int: The 1-based index of the entity, or None if not found.</span>
</span><span id="Entity.num-804"><a href="#Entity.num-804"><span class="linenos">804</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.num-805"><a href="#Entity.num-805"><span class="linenos">805</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the 1-based index of the entity in its parent's children list.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>int: The 1-based index of the entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.next" class="classattr">
                                        <input id="Entity.next-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">next</span>

                <label class="view-source-button" for="Entity.next-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.next"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.next-807"><a href="#Entity.next-807"><span class="linenos">807</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.next-808"><a href="#Entity.next-808"><span class="linenos">808</span></a>    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.next-809"><a href="#Entity.next-809"><span class="linenos">809</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.next-810"><a href="#Entity.next-810"><span class="linenos">810</span></a><span class="sd">        Get the next sibling entity.</span>
</span><span id="Entity.next-811"><a href="#Entity.next-811"><span class="linenos">811</span></a>
</span><span id="Entity.next-812"><a href="#Entity.next-812"><span class="linenos">812</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.next-813"><a href="#Entity.next-813"><span class="linenos">813</span></a><span class="sd">            Entity: The next sibling entity, or None if not found.</span>
</span><span id="Entity.next-814"><a href="#Entity.next-814"><span class="linenos">814</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.next-815"><a href="#Entity.next-815"><span class="linenos">815</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.next-816"><a href="#Entity.next-816"><span class="linenos">816</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity.next-817"><a href="#Entity.next-817"><span class="linenos">817</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity.next-818"><a href="#Entity.next-818"><span class="linenos">818</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Entity.next-819"><a href="#Entity.next-819"><span class="linenos">819</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity.next-820"><a href="#Entity.next-820"><span class="linenos">820</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the next sibling entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Entity: The next sibling entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.prev" class="classattr">
                                        <input id="Entity.prev-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">prev</span>

                <label class="view-source-button" for="Entity.prev-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.prev"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.prev-822"><a href="#Entity.prev-822"><span class="linenos">822</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.prev-823"><a href="#Entity.prev-823"><span class="linenos">823</span></a>    <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.prev-824"><a href="#Entity.prev-824"><span class="linenos">824</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.prev-825"><a href="#Entity.prev-825"><span class="linenos">825</span></a><span class="sd">        Get the previous sibling entity.</span>
</span><span id="Entity.prev-826"><a href="#Entity.prev-826"><span class="linenos">826</span></a>
</span><span id="Entity.prev-827"><a href="#Entity.prev-827"><span class="linenos">827</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.prev-828"><a href="#Entity.prev-828"><span class="linenos">828</span></a><span class="sd">            Entity: The previous sibling entity, or None if not found.</span>
</span><span id="Entity.prev-829"><a href="#Entity.prev-829"><span class="linenos">829</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.prev-830"><a href="#Entity.prev-830"><span class="linenos">830</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.prev-831"><a href="#Entity.prev-831"><span class="linenos">831</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity.prev-832"><a href="#Entity.prev-832"><span class="linenos">832</span></a>        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
</span><span id="Entity.prev-833"><a href="#Entity.prev-833"><span class="linenos">833</span></a>        <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Entity.prev-834"><a href="#Entity.prev-834"><span class="linenos">834</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="Entity.prev-835"><a href="#Entity.prev-835"><span class="linenos">835</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Entity.prev-836"><a href="#Entity.prev-836"><span class="linenos">836</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="Entity.prev-837"><a href="#Entity.prev-837"><span class="linenos">837</span></a>        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span><span id="Entity.prev-838"><a href="#Entity.prev-838"><span class="linenos">838</span></a>            <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the previous sibling entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Entity: The previous sibling entity, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_text" class="classattr">
                                        <input id="Entity.is_text-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_text</span>

                <label class="view-source-button" for="Entity.is_text-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_text"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_text-840"><a href="#Entity.is_text-840"><span class="linenos">840</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_text-841"><a href="#Entity.is_text-841"><span class="linenos">841</span></a>    <span class="k">def</span> <span class="nf">is_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_text-842"><a href="#Entity.is_text-842"><span class="linenos">842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_text-843"><a href="#Entity.is_text-843"><span class="linenos">843</span></a><span class="sd">        Check if the entity is a text entity.</span>
</span><span id="Entity.is_text-844"><a href="#Entity.is_text-844"><span class="linenos">844</span></a>
</span><span id="Entity.is_text-845"><a href="#Entity.is_text-845"><span class="linenos">845</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_text-846"><a href="#Entity.is_text-846"><span class="linenos">846</span></a><span class="sd">            bool: True if the entity is a text entity, False otherwise.</span>
</span><span id="Entity.is_text-847"><a href="#Entity.is_text-847"><span class="linenos">847</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_text-848"><a href="#Entity.is_text-848"><span class="linenos">848</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Text&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a text entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a text entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_stanza" class="classattr">
                                        <input id="Entity.is_stanza-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_stanza</span>

                <label class="view-source-button" for="Entity.is_stanza-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_stanza"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_stanza-850"><a href="#Entity.is_stanza-850"><span class="linenos">850</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_stanza-851"><a href="#Entity.is_stanza-851"><span class="linenos">851</span></a>    <span class="k">def</span> <span class="nf">is_stanza</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_stanza-852"><a href="#Entity.is_stanza-852"><span class="linenos">852</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_stanza-853"><a href="#Entity.is_stanza-853"><span class="linenos">853</span></a><span class="sd">        Check if the entity is a stanza entity.</span>
</span><span id="Entity.is_stanza-854"><a href="#Entity.is_stanza-854"><span class="linenos">854</span></a>
</span><span id="Entity.is_stanza-855"><a href="#Entity.is_stanza-855"><span class="linenos">855</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_stanza-856"><a href="#Entity.is_stanza-856"><span class="linenos">856</span></a><span class="sd">            bool: True if the entity is a stanza entity, False otherwise.</span>
</span><span id="Entity.is_stanza-857"><a href="#Entity.is_stanza-857"><span class="linenos">857</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_stanza-858"><a href="#Entity.is_stanza-858"><span class="linenos">858</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Stanza&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a stanza entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a stanza entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_line" class="classattr">
                                        <input id="Entity.is_line-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_line</span>

                <label class="view-source-button" for="Entity.is_line-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_line"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_line-860"><a href="#Entity.is_line-860"><span class="linenos">860</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_line-861"><a href="#Entity.is_line-861"><span class="linenos">861</span></a>    <span class="k">def</span> <span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_line-862"><a href="#Entity.is_line-862"><span class="linenos">862</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_line-863"><a href="#Entity.is_line-863"><span class="linenos">863</span></a><span class="sd">        Check if the entity is a line entity.</span>
</span><span id="Entity.is_line-864"><a href="#Entity.is_line-864"><span class="linenos">864</span></a>
</span><span id="Entity.is_line-865"><a href="#Entity.is_line-865"><span class="linenos">865</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_line-866"><a href="#Entity.is_line-866"><span class="linenos">866</span></a><span class="sd">            bool: True if the entity is a line entity, False otherwise.</span>
</span><span id="Entity.is_line-867"><a href="#Entity.is_line-867"><span class="linenos">867</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_line-868"><a href="#Entity.is_line-868"><span class="linenos">868</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Line&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a line entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a line entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_wordtoken" class="classattr">
                                        <input id="Entity.is_wordtoken-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_wordtoken</span>

                <label class="view-source-button" for="Entity.is_wordtoken-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_wordtoken"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_wordtoken-870"><a href="#Entity.is_wordtoken-870"><span class="linenos">870</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_wordtoken-871"><a href="#Entity.is_wordtoken-871"><span class="linenos">871</span></a>    <span class="k">def</span> <span class="nf">is_wordtoken</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_wordtoken-872"><a href="#Entity.is_wordtoken-872"><span class="linenos">872</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_wordtoken-873"><a href="#Entity.is_wordtoken-873"><span class="linenos">873</span></a><span class="sd">        Check if the entity is a word token entity.</span>
</span><span id="Entity.is_wordtoken-874"><a href="#Entity.is_wordtoken-874"><span class="linenos">874</span></a>
</span><span id="Entity.is_wordtoken-875"><a href="#Entity.is_wordtoken-875"><span class="linenos">875</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_wordtoken-876"><a href="#Entity.is_wordtoken-876"><span class="linenos">876</span></a><span class="sd">            bool: True if the entity is a word token entity, False otherwise.</span>
</span><span id="Entity.is_wordtoken-877"><a href="#Entity.is_wordtoken-877"><span class="linenos">877</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_wordtoken-878"><a href="#Entity.is_wordtoken-878"><span class="linenos">878</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordToken&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a word token entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a word token entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_wordtype" class="classattr">
                                        <input id="Entity.is_wordtype-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_wordtype</span>

                <label class="view-source-button" for="Entity.is_wordtype-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_wordtype"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_wordtype-880"><a href="#Entity.is_wordtype-880"><span class="linenos">880</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_wordtype-881"><a href="#Entity.is_wordtype-881"><span class="linenos">881</span></a>    <span class="k">def</span> <span class="nf">is_wordtype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_wordtype-882"><a href="#Entity.is_wordtype-882"><span class="linenos">882</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_wordtype-883"><a href="#Entity.is_wordtype-883"><span class="linenos">883</span></a><span class="sd">        Check if the entity is a word type entity.</span>
</span><span id="Entity.is_wordtype-884"><a href="#Entity.is_wordtype-884"><span class="linenos">884</span></a>
</span><span id="Entity.is_wordtype-885"><a href="#Entity.is_wordtype-885"><span class="linenos">885</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_wordtype-886"><a href="#Entity.is_wordtype-886"><span class="linenos">886</span></a><span class="sd">            bool: True if the entity is a word type entity, False otherwise.</span>
</span><span id="Entity.is_wordtype-887"><a href="#Entity.is_wordtype-887"><span class="linenos">887</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_wordtype-888"><a href="#Entity.is_wordtype-888"><span class="linenos">888</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordType&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a word type entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a word type entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_wordform" class="classattr">
                                        <input id="Entity.is_wordform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_wordform</span>

                <label class="view-source-button" for="Entity.is_wordform-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_wordform"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_wordform-890"><a href="#Entity.is_wordform-890"><span class="linenos">890</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_wordform-891"><a href="#Entity.is_wordform-891"><span class="linenos">891</span></a>    <span class="k">def</span> <span class="nf">is_wordform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_wordform-892"><a href="#Entity.is_wordform-892"><span class="linenos">892</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_wordform-893"><a href="#Entity.is_wordform-893"><span class="linenos">893</span></a><span class="sd">        Check if the entity is a word form entity.</span>
</span><span id="Entity.is_wordform-894"><a href="#Entity.is_wordform-894"><span class="linenos">894</span></a>
</span><span id="Entity.is_wordform-895"><a href="#Entity.is_wordform-895"><span class="linenos">895</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_wordform-896"><a href="#Entity.is_wordform-896"><span class="linenos">896</span></a><span class="sd">            bool: True if the entity is a word form entity, False otherwise.</span>
</span><span id="Entity.is_wordform-897"><a href="#Entity.is_wordform-897"><span class="linenos">897</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_wordform-898"><a href="#Entity.is_wordform-898"><span class="linenos">898</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;WordForm&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a word form entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a word form entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_syll" class="classattr">
                                        <input id="Entity.is_syll-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_syll</span>

                <label class="view-source-button" for="Entity.is_syll-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_syll"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_syll-900"><a href="#Entity.is_syll-900"><span class="linenos">900</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_syll-901"><a href="#Entity.is_syll-901"><span class="linenos">901</span></a>    <span class="k">def</span> <span class="nf">is_syll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_syll-902"><a href="#Entity.is_syll-902"><span class="linenos">902</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_syll-903"><a href="#Entity.is_syll-903"><span class="linenos">903</span></a><span class="sd">        Check if the entity is a syllable entity.</span>
</span><span id="Entity.is_syll-904"><a href="#Entity.is_syll-904"><span class="linenos">904</span></a>
</span><span id="Entity.is_syll-905"><a href="#Entity.is_syll-905"><span class="linenos">905</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_syll-906"><a href="#Entity.is_syll-906"><span class="linenos">906</span></a><span class="sd">            bool: True if the entity is a syllable entity, False otherwise.</span>
</span><span id="Entity.is_syll-907"><a href="#Entity.is_syll-907"><span class="linenos">907</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_syll-908"><a href="#Entity.is_syll-908"><span class="linenos">908</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;Syllable&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a syllable entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a syllable entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.is_phon" class="classattr">
                                        <input id="Entity.is_phon-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">is_phon</span>

                <label class="view-source-button" for="Entity.is_phon-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.is_phon"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.is_phon-910"><a href="#Entity.is_phon-910"><span class="linenos">910</span></a>    <span class="nd">@cached_property</span>
</span><span id="Entity.is_phon-911"><a href="#Entity.is_phon-911"><span class="linenos">911</span></a>    <span class="k">def</span> <span class="nf">is_phon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.is_phon-912"><a href="#Entity.is_phon-912"><span class="linenos">912</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.is_phon-913"><a href="#Entity.is_phon-913"><span class="linenos">913</span></a><span class="sd">        Check if the entity is a phoneme entity.</span>
</span><span id="Entity.is_phon-914"><a href="#Entity.is_phon-914"><span class="linenos">914</span></a>
</span><span id="Entity.is_phon-915"><a href="#Entity.is_phon-915"><span class="linenos">915</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.is_phon-916"><a href="#Entity.is_phon-916"><span class="linenos">916</span></a><span class="sd">            bool: True if the entity is a phoneme entity, False otherwise.</span>
</span><span id="Entity.is_phon-917"><a href="#Entity.is_phon-917"><span class="linenos">917</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.is_phon-918"><a href="#Entity.is_phon-918"><span class="linenos">918</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;PhonemeClass&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Check if the entity is a phoneme entity.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool: True if the entity is a phoneme entity, False otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.children_from_cache" class="classattr">
                                        <input id="Entity.children_from_cache-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">children_from_cache</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.children_from_cache-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.children_from_cache"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.children_from_cache-920"><a href="#Entity.children_from_cache-920"><span class="linenos">920</span></a>    <span class="k">def</span> <span class="nf">children_from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.children_from_cache-921"><a href="#Entity.children_from_cache-921"><span class="linenos">921</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.children_from_cache-922"><a href="#Entity.children_from_cache-922"><span class="linenos">922</span></a><span class="sd">        Get the children of the entity from the cache.</span>
</span><span id="Entity.children_from_cache-923"><a href="#Entity.children_from_cache-923"><span class="linenos">923</span></a>
</span><span id="Entity.children_from_cache-924"><a href="#Entity.children_from_cache-924"><span class="linenos">924</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.children_from_cache-925"><a href="#Entity.children_from_cache-925"><span class="linenos">925</span></a><span class="sd">            list: The list of child entities, or None if not found in the cache.</span>
</span><span id="Entity.children_from_cache-926"><a href="#Entity.children_from_cache-926"><span class="linenos">926</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.children_from_cache-927"><a href="#Entity.children_from_cache-927"><span class="linenos">927</span></a>        <span class="k">if</span> <span class="n">caching_is_enabled</span><span class="p">():</span>
</span><span id="Entity.children_from_cache-928"><a href="#Entity.children_from_cache-928"><span class="linenos">928</span></a>            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_cache</span><span class="p">()</span>
</span><span id="Entity.children_from_cache-929"><a href="#Entity.children_from_cache-929"><span class="linenos">929</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FOUND&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
</span><span id="Entity.children_from_cache-930"><a href="#Entity.children_from_cache-930"><span class="linenos">930</span></a>            <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">res</span><span class="o">.</span><span class="n">children</span>
</span></pre></div>


            <div class="docstring"><p>Get the children of the entity from the cache.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>list: The list of child entities, or None if not found in the cache.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.get_key" class="classattr">
                                        <input id="Entity.get_key-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_key</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.get_key-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.get_key"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.get_key-932"><a href="#Entity.get_key-932"><span class="linenos">932</span></a>    <span class="k">def</span> <span class="nf">get_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span><span id="Entity.get_key-933"><a href="#Entity.get_key-933"><span class="linenos">933</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.get_key-934"><a href="#Entity.get_key-934"><span class="linenos">934</span></a><span class="sd">        Get a key for caching purposes.</span>
</span><span id="Entity.get_key-935"><a href="#Entity.get_key-935"><span class="linenos">935</span></a>
</span><span id="Entity.get_key-936"><a href="#Entity.get_key-936"><span class="linenos">936</span></a><span class="sd">        Args:</span>
</span><span id="Entity.get_key-937"><a href="#Entity.get_key-937"><span class="linenos">937</span></a><span class="sd">            key: The key object.</span>
</span><span id="Entity.get_key-938"><a href="#Entity.get_key-938"><span class="linenos">938</span></a>
</span><span id="Entity.get_key-939"><a href="#Entity.get_key-939"><span class="linenos">939</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.get_key-940"><a href="#Entity.get_key-940"><span class="linenos">940</span></a><span class="sd">            str: The hashed key.</span>
</span><span id="Entity.get_key-941"><a href="#Entity.get_key-941"><span class="linenos">941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.get_key-942"><a href="#Entity.get_key-942"><span class="linenos">942</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;to_hash&quot;</span><span class="p">):</span>
</span><span id="Entity.get_key-943"><a href="#Entity.get_key-943"><span class="linenos">943</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">to_hash</span><span class="p">()</span>
</span><span id="Entity.get_key-944"><a href="#Entity.get_key-944"><span class="linenos">944</span></a>        <span class="k">elif</span> <span class="n">key</span><span class="p">:</span>
</span><span id="Entity.get_key-945"><a href="#Entity.get_key-945"><span class="linenos">945</span></a>            <span class="n">key</span> <span class="o">=</span> <span class="n">hashstr</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span id="Entity.get_key-946"><a href="#Entity.get_key-946"><span class="linenos">946</span></a>        <span class="k">return</span> <span class="n">key</span>
</span></pre></div>


            <div class="docstring"><p>Get a key for caching purposes.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key:</strong>  The key object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>str: The hashed key.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.from_cache" class="classattr">
                                        <input id="Entity.from_cache-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">from_cache</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">key</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.from_cache-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.from_cache"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.from_cache-948"><a href="#Entity.from_cache-948"><span class="linenos">948</span></a>    <span class="k">def</span> <span class="nf">from_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">as_dict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="Entity.from_cache-949"><a href="#Entity.from_cache-949"><span class="linenos">949</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.from_cache-950"><a href="#Entity.from_cache-950"><span class="linenos">950</span></a><span class="sd">        Get an object from the cache.</span>
</span><span id="Entity.from_cache-951"><a href="#Entity.from_cache-951"><span class="linenos">951</span></a>
</span><span id="Entity.from_cache-952"><a href="#Entity.from_cache-952"><span class="linenos">952</span></a><span class="sd">        Args:</span>
</span><span id="Entity.from_cache-953"><a href="#Entity.from_cache-953"><span class="linenos">953</span></a><span class="sd">            obj: The object to cache.</span>
</span><span id="Entity.from_cache-954"><a href="#Entity.from_cache-954"><span class="linenos">954</span></a><span class="sd">            key: The key for the cache.</span>
</span><span id="Entity.from_cache-955"><a href="#Entity.from_cache-955"><span class="linenos">955</span></a><span class="sd">            as_dict (bool): If True, return the cached data as a dictionary.</span>
</span><span id="Entity.from_cache-956"><a href="#Entity.from_cache-956"><span class="linenos">956</span></a>
</span><span id="Entity.from_cache-957"><a href="#Entity.from_cache-957"><span class="linenos">957</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.from_cache-958"><a href="#Entity.from_cache-958"><span class="linenos">958</span></a><span class="sd">            Any: The cached object, or None if not found.</span>
</span><span id="Entity.from_cache-959"><a href="#Entity.from_cache-959"><span class="linenos">959</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.from_cache-960"><a href="#Entity.from_cache-960"><span class="linenos">960</span></a>        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.from_cache-961"><a href="#Entity.from_cache-961"><span class="linenos">961</span></a>            <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity.from_cache-962"><a href="#Entity.from_cache-962"><span class="linenos">962</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="Entity.from_cache-963"><a href="#Entity.from_cache-963"><span class="linenos">963</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_cache</span> <span class="o">!=</span> <span class="kc">False</span><span class="p">:</span>
</span><span id="Entity.from_cache-964"><a href="#Entity.from_cache-964"><span class="linenos">964</span></a>            <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="Entity.from_cache-965"><a href="#Entity.from_cache-965"><span class="linenos">965</span></a>            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span><span id="Entity.from_cache-966"><a href="#Entity.from_cache-966"><span class="linenos">966</span></a>                <span class="n">dat</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="Entity.from_cache-967"><a href="#Entity.from_cache-967"><span class="linenos">967</span></a>                <span class="k">if</span> <span class="n">dat</span><span class="p">:</span>
</span><span id="Entity.from_cache-968"><a href="#Entity.from_cache-968"><span class="linenos">968</span></a>                    <span class="k">return</span> <span class="n">from_json</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">as_dict</span> <span class="k">else</span> <span class="n">dat</span>
</span></pre></div>


            <div class="docstring"><p>Get an object from the cache.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>obj:</strong>  The object to cache.</li>
<li><strong>key:</strong>  The key for the cache.</li>
<li><strong>as_dict (bool):</strong>  If True, return the cached data as a dictionary.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Any: The cached object, or None if not found.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.get_cache" class="classattr">
                                        <input id="Entity.get_cache-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_cache</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.get_cache-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.get_cache"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.get_cache-970"><a href="#Entity.get_cache-970"><span class="linenos">970</span></a>    <span class="k">def</span> <span class="nf">get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Entity.get_cache-971"><a href="#Entity.get_cache-971"><span class="linenos">971</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.get_cache-972"><a href="#Entity.get_cache-972"><span class="linenos">972</span></a><span class="sd">        Get the cache object.</span>
</span><span id="Entity.get_cache-973"><a href="#Entity.get_cache-973"><span class="linenos">973</span></a>
</span><span id="Entity.get_cache-974"><a href="#Entity.get_cache-974"><span class="linenos">974</span></a><span class="sd">        Returns:</span>
</span><span id="Entity.get_cache-975"><a href="#Entity.get_cache-975"><span class="linenos">975</span></a><span class="sd">            SimpleCache: The cache object.</span>
</span><span id="Entity.get_cache-976"><a href="#Entity.get_cache-976"><span class="linenos">976</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.get_cache-977"><a href="#Entity.get_cache-977"><span class="linenos">977</span></a>        <span class="k">return</span> <span class="n">SimpleCache</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the cache object.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>SimpleCache: The cache object.</p>
</blockquote>
</div>


                            </div>
                            <div id="Entity.cache" class="classattr">
                                        <input id="Entity.cache-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cache</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">key_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">val_obj</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">key</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">force</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Entity.cache-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Entity.cache"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Entity.cache-979"><a href="#Entity.cache-979"><span class="linenos"> 979</span></a>    <span class="k">def</span> <span class="nf">cache</span><span class="p">(</span>
</span><span id="Entity.cache-980"><a href="#Entity.cache-980"><span class="linenos"> 980</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">key_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">val_obj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span>
</span><span id="Entity.cache-981"><a href="#Entity.cache-981"><span class="linenos"> 981</span></a>    <span class="p">):</span>
</span><span id="Entity.cache-982"><a href="#Entity.cache-982"><span class="linenos"> 982</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Entity.cache-983"><a href="#Entity.cache-983"><span class="linenos"> 983</span></a><span class="sd">        Cache an object.</span>
</span><span id="Entity.cache-984"><a href="#Entity.cache-984"><span class="linenos"> 984</span></a>
</span><span id="Entity.cache-985"><a href="#Entity.cache-985"><span class="linenos"> 985</span></a><span class="sd">        Args:</span>
</span><span id="Entity.cache-986"><a href="#Entity.cache-986"><span class="linenos"> 986</span></a><span class="sd">            key_obj: The object to use as the cache key.</span>
</span><span id="Entity.cache-987"><a href="#Entity.cache-987"><span class="linenos"> 987</span></a><span class="sd">            val_obj: The object to cache.</span>
</span><span id="Entity.cache-988"><a href="#Entity.cache-988"><span class="linenos"> 988</span></a><span class="sd">            key: An optional key for the cache.</span>
</span><span id="Entity.cache-989"><a href="#Entity.cache-989"><span class="linenos"> 989</span></a><span class="sd">            force (bool): If True, force the cache to be updated.</span>
</span><span id="Entity.cache-990"><a href="#Entity.cache-990"><span class="linenos"> 990</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Entity.cache-991"><a href="#Entity.cache-991"><span class="linenos"> 991</span></a>        <span class="k">if</span> <span class="n">key_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.cache-992"><a href="#Entity.cache-992"><span class="linenos"> 992</span></a>            <span class="n">key_obj</span> <span class="o">=</span> <span class="bp">self</span>
</span><span id="Entity.cache-993"><a href="#Entity.cache-993"><span class="linenos"> 993</span></a>        <span class="k">if</span> <span class="n">val_obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Entity.cache-994"><a href="#Entity.cache-994"><span class="linenos"> 994</span></a>            <span class="n">val_obj</span> <span class="o">=</span> <span class="n">key_obj</span>
</span><span id="Entity.cache-995"><a href="#Entity.cache-995"><span class="linenos"> 995</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;key_obj = </span><span class="si">{</span><span class="n">key_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Entity.cache-996"><a href="#Entity.cache-996"><span class="linenos"> 996</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;val_obj = </span><span class="si">{</span><span class="n">val_obj</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Entity.cache-997"><a href="#Entity.cache-997"><span class="linenos"> 997</span></a>        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">key_obj</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">key</span> <span class="k">else</span> <span class="n">key</span>
</span><span id="Entity.cache-998"><a href="#Entity.cache-998"><span class="linenos"> 998</span></a>        <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">()</span>
</span><span id="Entity.cache-999"><a href="#Entity.cache-999"><span class="linenos"> 999</span></a>        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="p">(</span><span class="n">force</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">):</span>
</span><span id="Entity.cache-1000"><a href="#Entity.cache-1000"><span class="linenos">1000</span></a>            <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;saving object under key </span><span class="si">{</span><span class="n">key</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
</span><span id="Entity.cache-1001"><a href="#Entity.cache-1001"><span class="linenos">1001</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;exporting to json&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="Entity.cache-1002"><a href="#Entity.cache-1002"><span class="linenos">1002</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">val_obj</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
</span><span id="Entity.cache-1003"><a href="#Entity.cache-1003"><span class="linenos">1003</span></a>                <span class="k">with</span> <span class="n">logmap</span><span class="p">(</span><span class="s2">&quot;uploading json to cache&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;trace&quot;</span><span class="p">):</span>
</span><span id="Entity.cache-1004"><a href="#Entity.cache-1004"><span class="linenos">1004</span></a>                    <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
</span></pre></div>


            <div class="docstring"><p>Cache an object.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key_obj:</strong>  The object to use as the cache key.</li>
<li><strong>val_obj:</strong>  The object to cache.</li>
<li><strong>key:</strong>  An optional key for the cache.</li>
<li><strong>force (bool):</strong>  If True, force the cache to be updated.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>collections.UserList</dt>
                                <dd id="Entity.append" class="function">append</dd>
                <dd id="Entity.insert" class="function">insert</dd>
                <dd id="Entity.pop" class="function">pop</dd>
                <dd id="Entity.remove" class="function">remove</dd>
                <dd id="Entity.clear" class="function">clear</dd>
                <dd id="Entity.copy" class="function">copy</dd>
                <dd id="Entity.count" class="function">count</dd>
                <dd id="Entity.index" class="function">index</dd>
                <dd id="Entity.reverse" class="function">reverse</dd>
                <dd id="Entity.sort" class="function">sort</dd>
                <dd id="Entity.extend" class="function">extend</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="EntityList">
                            <input id="EntityList-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">EntityList</span><wbr>(<span class="base"><a href="#Entity">Entity</a></span>):

                <label class="view-source-button" for="EntityList-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EntityList"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EntityList-1007"><a href="#EntityList-1007"><span class="linenos">1007</span></a><span class="k">class</span> <span class="nc">EntityList</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
</span><span id="EntityList-1008"><a href="#EntityList-1008"><span class="linenos">1008</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EntityList-1009"><a href="#EntityList-1009"><span class="linenos">1009</span></a><span class="sd">    A list of Entity objects.</span>
</span><span id="EntityList-1010"><a href="#EntityList-1010"><span class="linenos">1010</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="EntityList-1011"><a href="#EntityList-1011"><span class="linenos">1011</span></a>
</span><span id="EntityList-1012"><a href="#EntityList-1012"><span class="linenos">1012</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="EntityList-1013"><a href="#EntityList-1013"><span class="linenos">1013</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EntityList-1014"><a href="#EntityList-1014"><span class="linenos">1014</span></a><span class="sd">        Initialize an EntityList object.</span>
</span><span id="EntityList-1015"><a href="#EntityList-1015"><span class="linenos">1015</span></a>
</span><span id="EntityList-1016"><a href="#EntityList-1016"><span class="linenos">1016</span></a><span class="sd">        Args:</span>
</span><span id="EntityList-1017"><a href="#EntityList-1017"><span class="linenos">1017</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="EntityList-1018"><a href="#EntityList-1018"><span class="linenos">1018</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="EntityList-1019"><a href="#EntityList-1019"><span class="linenos">1019</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="EntityList-1020"><a href="#EntityList-1020"><span class="linenos">1020</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EntityList-1021"><a href="#EntityList-1021"><span class="linenos">1021</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="EntityList-1022"><a href="#EntityList-1022"><span class="linenos">1022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">children</span><span class="p">]</span>
</span><span id="EntityList-1023"><a href="#EntityList-1023"><span class="linenos">1023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="EntityList-1024"><a href="#EntityList-1024"><span class="linenos">1024</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="EntityList-1025"><a href="#EntityList-1025"><span class="linenos">1025</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="EntityList-1026"><a href="#EntityList-1026"><span class="linenos">1026</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span><span id="EntityList-1027"><a href="#EntityList-1027"><span class="linenos">1027</span></a>
</span><span id="EntityList-1028"><a href="#EntityList-1028"><span class="linenos">1028</span></a>    <span class="nd">@cached_property</span>
</span><span id="EntityList-1029"><a href="#EntityList-1029"><span class="linenos">1029</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EntityList-1030"><a href="#EntityList-1030"><span class="linenos">1030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EntityList-1031"><a href="#EntityList-1031"><span class="linenos">1031</span></a><span class="sd">        Get the text content of the entity list.</span>
</span><span id="EntityList-1032"><a href="#EntityList-1032"><span class="linenos">1032</span></a>
</span><span id="EntityList-1033"><a href="#EntityList-1033"><span class="linenos">1033</span></a><span class="sd">        Returns:</span>
</span><span id="EntityList-1034"><a href="#EntityList-1034"><span class="linenos">1034</span></a><span class="sd">            None: Always returns None for EntityList objects.</span>
</span><span id="EntityList-1035"><a href="#EntityList-1035"><span class="linenos">1035</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EntityList-1036"><a href="#EntityList-1036"><span class="linenos">1036</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>A list of Entity objects.</p>
</div>


                            <div id="EntityList.__init__" class="classattr">
                                        <input id="EntityList.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">EntityList</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">children</span><span class="o">=</span><span class="p">[]</span>, </span><span class="param"><span class="n">parent</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

                <label class="view-source-button" for="EntityList.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EntityList.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EntityList.__init__-1012"><a href="#EntityList.__init__-1012"><span class="linenos">1012</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[],</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="EntityList.__init__-1013"><a href="#EntityList.__init__-1013"><span class="linenos">1013</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EntityList.__init__-1014"><a href="#EntityList.__init__-1014"><span class="linenos">1014</span></a><span class="sd">        Initialize an EntityList object.</span>
</span><span id="EntityList.__init__-1015"><a href="#EntityList.__init__-1015"><span class="linenos">1015</span></a>
</span><span id="EntityList.__init__-1016"><a href="#EntityList.__init__-1016"><span class="linenos">1016</span></a><span class="sd">        Args:</span>
</span><span id="EntityList.__init__-1017"><a href="#EntityList.__init__-1017"><span class="linenos">1017</span></a><span class="sd">            children (list): List of child entities.</span>
</span><span id="EntityList.__init__-1018"><a href="#EntityList.__init__-1018"><span class="linenos">1018</span></a><span class="sd">            parent (Entity): The parent entity.</span>
</span><span id="EntityList.__init__-1019"><a href="#EntityList.__init__-1019"><span class="linenos">1019</span></a><span class="sd">            **kwargs: Additional attributes to set on the entity.</span>
</span><span id="EntityList.__init__-1020"><a href="#EntityList.__init__-1020"><span class="linenos">1020</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EntityList.__init__-1021"><a href="#EntityList.__init__-1021"><span class="linenos">1021</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
</span><span id="EntityList.__init__-1022"><a href="#EntityList.__init__-1022"><span class="linenos">1022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">children</span><span class="p">]</span>
</span><span id="EntityList.__init__-1023"><a href="#EntityList.__init__-1023"><span class="linenos">1023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="EntityList.__init__-1024"><a href="#EntityList.__init__-1024"><span class="linenos">1024</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_txt</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="EntityList.__init__-1025"><a href="#EntityList.__init__-1025"><span class="linenos">1025</span></a>        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="EntityList.__init__-1026"><a href="#EntityList.__init__-1026"><span class="linenos">1026</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize an EntityList object.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>children (list):</strong>  List of child entities.</li>
<li><strong>parent (Entity):</strong>  The parent entity.</li>
<li><strong>**kwargs:</strong>  Additional attributes to set on the entity.</li>
</ul>
</div>


                            </div>
                            <div id="EntityList.parent" class="classattr">
                                <div class="attr variable">
            <span class="name">parent</span>

        
    </div>
    <a class="headerlink" href="#EntityList.parent"></a>
    
    

                            </div>
                            <div id="EntityList.children" class="classattr">
                                <div class="attr variable">
            <span class="name">children</span>

        
    </div>
    <a class="headerlink" href="#EntityList.children"></a>
    
    

                            </div>
                            <div id="EntityList.txt" class="classattr">
                                        <input id="EntityList.txt-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr variable">
            <span class="name">txt</span>

                <label class="view-source-button" for="EntityList.txt-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#EntityList.txt"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="EntityList.txt-1028"><a href="#EntityList.txt-1028"><span class="linenos">1028</span></a>    <span class="nd">@cached_property</span>
</span><span id="EntityList.txt-1029"><a href="#EntityList.txt-1029"><span class="linenos">1029</span></a>    <span class="k">def</span> <span class="nf">txt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="EntityList.txt-1030"><a href="#EntityList.txt-1030"><span class="linenos">1030</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="EntityList.txt-1031"><a href="#EntityList.txt-1031"><span class="linenos">1031</span></a><span class="sd">        Get the text content of the entity list.</span>
</span><span id="EntityList.txt-1032"><a href="#EntityList.txt-1032"><span class="linenos">1032</span></a>
</span><span id="EntityList.txt-1033"><a href="#EntityList.txt-1033"><span class="linenos">1033</span></a><span class="sd">        Returns:</span>
</span><span id="EntityList.txt-1034"><a href="#EntityList.txt-1034"><span class="linenos">1034</span></a><span class="sd">            None: Always returns None for EntityList objects.</span>
</span><span id="EntityList.txt-1035"><a href="#EntityList.txt-1035"><span class="linenos">1035</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="EntityList.txt-1036"><a href="#EntityList.txt-1036"><span class="linenos">1036</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Get the text content of the entity list.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>None: Always returns None for EntityList objects.</p>
</blockquote>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Entity">Entity</a></dt>
                                <dd id="EntityList.child_type" class="variable"><a href="#Entity.child_type">child_type</a></dd>
                <dd id="EntityList.is_parseable" class="variable"><a href="#Entity.is_parseable">is_parseable</a></dd>
                <dd id="EntityList.index_name" class="variable"><a href="#Entity.index_name">index_name</a></dd>
                <dd id="EntityList.prefix" class="variable"><a href="#Entity.prefix">prefix</a></dd>
                <dd id="EntityList.list_type" class="variable"><a href="#Entity.list_type">list_type</a></dd>
                <dd id="EntityList.cached_properties_to_clear" class="variable"><a href="#Entity.cached_properties_to_clear">cached_properties_to_clear</a></dd>
                <dd id="EntityList.use_cache" class="variable"><a href="#Entity.use_cache">use_cache</a></dd>
                <dd id="EntityList.sep" class="variable"><a href="#Entity.sep">sep</a></dd>
                <dd id="EntityList.to_hash" class="function"><a href="#Entity.to_hash">to_hash</a></dd>
                <dd id="EntityList.html" class="variable"><a href="#Entity.html">html</a></dd>
                <dd id="EntityList.key" class="variable"><a href="#Entity.key">key</a></dd>
                <dd id="EntityList.hash" class="variable"><a href="#Entity.hash">hash</a></dd>
                <dd id="EntityList.to_json" class="function"><a href="#Entity.to_json">to_json</a></dd>
                <dd id="EntityList.save" class="function"><a href="#Entity.save">save</a></dd>
                <dd id="EntityList.render" class="function"><a href="#Entity.render">render</a></dd>
                <dd id="EntityList.from_json" class="function"><a href="#Entity.from_json">from_json</a></dd>
                <dd id="EntityList.attrs" class="variable"><a href="#Entity.attrs">attrs</a></dd>
                <dd id="EntityList.prefix_attrs" class="variable"><a href="#Entity.prefix_attrs">prefix_attrs</a></dd>
                <dd id="EntityList.data" class="variable"><a href="#Entity.data">data</a></dd>
                <dd id="EntityList.l" class="variable"><a href="#Entity.l">l</a></dd>
                <dd id="EntityList.clear_cached_properties" class="function"><a href="#Entity.clear_cached_properties">clear_cached_properties</a></dd>
                <dd id="EntityList.inspect" class="function"><a href="#Entity.inspect">inspect</a></dd>
                <dd id="EntityList.ld" class="variable"><a href="#Entity.ld">ld</a></dd>
                <dd id="EntityList.child_class" class="variable"><a href="#Entity.child_class">child_class</a></dd>
                <dd id="EntityList.get_ld" class="function"><a href="#Entity.get_ld">get_ld</a></dd>
                <dd id="EntityList.get_df" class="function"><a href="#Entity.get_df">get_df</a></dd>
                <dd id="EntityList.df" class="variable"><a href="#Entity.df">df</a></dd>
                <dd id="EntityList.get_parent" class="function"><a href="#Entity.get_parent">get_parent</a></dd>
                <dd id="EntityList.stanzas" class="variable"><a href="#Entity.stanzas">stanzas</a></dd>
                <dd id="EntityList.line_r" class="variable"><a href="#Entity.line_r">line_r</a></dd>
                <dd id="EntityList.word_r" class="variable"><a href="#Entity.word_r">word_r</a></dd>
                <dd id="EntityList.lines" class="variable"><a href="#Entity.lines">lines</a></dd>
                <dd id="EntityList.wordtokens" class="variable"><a href="#Entity.wordtokens">wordtokens</a></dd>
                <dd id="EntityList.words" class="variable"><a href="#Entity.words">words</a></dd>
                <dd id="EntityList.wordtypes" class="variable"><a href="#Entity.wordtypes">wordtypes</a></dd>
                <dd id="EntityList.wordforms" class="variable"><a href="#Entity.wordforms">wordforms</a></dd>
                <dd id="EntityList.wordforms_nopunc" class="variable"><a href="#Entity.wordforms_nopunc">wordforms_nopunc</a></dd>
                <dd id="EntityList.wordforms_all" class="variable"><a href="#Entity.wordforms_all">wordforms_all</a></dd>
                <dd id="EntityList.syllables" class="variable"><a href="#Entity.syllables">syllables</a></dd>
                <dd id="EntityList.phonemes" class="variable"><a href="#Entity.phonemes">phonemes</a></dd>
                <dd id="EntityList.text" class="variable"><a href="#Entity.text">text</a></dd>
                <dd id="EntityList.stanza" class="variable"><a href="#Entity.stanza">stanza</a></dd>
                <dd id="EntityList.line" class="variable"><a href="#Entity.line">line</a></dd>
                <dd id="EntityList.wordtoken" class="variable"><a href="#Entity.wordtoken">wordtoken</a></dd>
                <dd id="EntityList.wordtype" class="variable"><a href="#Entity.wordtype">wordtype</a></dd>
                <dd id="EntityList.wordform" class="variable"><a href="#Entity.wordform">wordform</a></dd>
                <dd id="EntityList.syllable" class="variable"><a href="#Entity.syllable">syllable</a></dd>
                <dd id="EntityList.i" class="variable"><a href="#Entity.i">i</a></dd>
                <dd id="EntityList.num" class="variable"><a href="#Entity.num">num</a></dd>
                <dd id="EntityList.next" class="variable"><a href="#Entity.next">next</a></dd>
                <dd id="EntityList.prev" class="variable"><a href="#Entity.prev">prev</a></dd>
                <dd id="EntityList.is_text" class="variable"><a href="#Entity.is_text">is_text</a></dd>
                <dd id="EntityList.is_stanza" class="variable"><a href="#Entity.is_stanza">is_stanza</a></dd>
                <dd id="EntityList.is_line" class="variable"><a href="#Entity.is_line">is_line</a></dd>
                <dd id="EntityList.is_wordtoken" class="variable"><a href="#Entity.is_wordtoken">is_wordtoken</a></dd>
                <dd id="EntityList.is_wordtype" class="variable"><a href="#Entity.is_wordtype">is_wordtype</a></dd>
                <dd id="EntityList.is_wordform" class="variable"><a href="#Entity.is_wordform">is_wordform</a></dd>
                <dd id="EntityList.is_syll" class="variable"><a href="#Entity.is_syll">is_syll</a></dd>
                <dd id="EntityList.is_phon" class="variable"><a href="#Entity.is_phon">is_phon</a></dd>
                <dd id="EntityList.children_from_cache" class="function"><a href="#Entity.children_from_cache">children_from_cache</a></dd>
                <dd id="EntityList.get_key" class="function"><a href="#Entity.get_key">get_key</a></dd>
                <dd id="EntityList.from_cache" class="function"><a href="#Entity.from_cache">from_cache</a></dd>
                <dd id="EntityList.get_cache" class="function"><a href="#Entity.get_cache">get_cache</a></dd>
                <dd id="EntityList.cache" class="function"><a href="#Entity.cache">cache</a></dd>

            </div>
            <div><dt>collections.UserList</dt>
                                <dd id="EntityList.append" class="function">append</dd>
                <dd id="EntityList.insert" class="function">insert</dd>
                <dd id="EntityList.pop" class="function">pop</dd>
                <dd id="EntityList.remove" class="function">remove</dd>
                <dd id="EntityList.clear" class="function">clear</dd>
                <dd id="EntityList.copy" class="function">copy</dd>
                <dd id="EntityList.count" class="function">count</dd>
                <dd id="EntityList.index" class="function">index</dd>
                <dd id="EntityList.reverse" class="function">reverse</dd>
                <dd id="EntityList.sort" class="function">sort</dd>
                <dd id="EntityList.extend" class="function">extend</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>